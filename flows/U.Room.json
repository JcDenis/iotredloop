[
  {
    "id": "aab0c030de7df5cc",
    "type": "tab",
    "label": "U.Room",
    "disabled": false,
    "info": "",
    "env": []
  },
  {
    "id": "0aeb80f7dfc7025e",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - bucket",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ffC000"
    },
    "nodes": [
      "606f3caa9058900f",
      "4e6003732b266fe2",
      "68c4344a4704c54f"
    ],
    "x": 94,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "f6132c9f3c5a2911",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - metric",
    "style": {
      "fill": "#0070c0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "116de42631d4b17a",
      "f138e16b633d9429",
      "2690f4e06626ebda"
    ],
    "x": 1054,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "8ebd43deda9d56d4",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - config",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "0bdefb56ee5ef918",
      "fedaeb34f9bc97e4"
    ],
    "x": 68,
    "y": 173,
    "w": 1454,
    "h": 194
  },
  {
    "id": "b64c96e257072f51",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - selection",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "66835e34ae95f3f0",
      "9ee5e12567650c9d",
      "3b74b2448cdb18a9",
      "b2e5e7af716d4ec6",
      "aa39991b7847c574",
      "1dd86a8b8b446749",
      "3ec4a86ec9ec37f6",
      "ef424db05e8a1103",
      "1c55a9cf641c38ba",
      "4ed33d50e1b4ebc9",
      "656d1866a8ae8cf8",
      "9e4bfee0db3051d4",
      "74172837e07ab80d",
      "1be6ca3c2b8615a2",
      "06976c9133796ab8",
      "3d2ea19ae9c4b9d2",
      "9043871af737eb1a",
      "b6323e1460f6f50c",
      "eed5df5df9eb8030",
      "b375ca01bb8f1e43",
      "dc4343f890e4a3e1",
      "57e1a96c1bf54302"
    ],
    "x": 94,
    "y": 439,
    "w": 1432,
    "h": 442
  },
  {
    "id": "094bebacb1145e5f",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - various",
    "style": {
      "label": true,
      "fill": "#777777",
      "fill-opacity": "0.05"
    },
    "nodes": [
      "4e8f7076589ea977",
      "42c0f1473438a281"
    ],
    "x": 68,
    "y": 1073,
    "w": 2344,
    "h": 1034
  },
  {
    "id": "173e8381363b4c42",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - scene",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "9b11e3a85026957b",
      "139783cbea6b84f0",
      "bb2ebd173a2ba06c",
      "96eb67f8be94bf98",
      "90046052f5bcb625",
      "707b31c0a7883fe2",
      "a0938dfc54b55acc",
      "48dd7d439fba9eda",
      "35fa81df547b4491",
      "486786996f8e512b"
    ],
    "x": 5048,
    "y": 53,
    "w": 2414,
    "h": 7254
  },
  {
    "id": "f68e8c6415aca870",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "catch error",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ff0000"
    },
    "nodes": [
      "a2a26d3c15589044",
      "fcaaaca3a27426b7",
      "69fc7c7c14fa81f3"
    ],
    "x": 534,
    "y": 19,
    "w": 422,
    "h": 82
  },
  {
    "id": "37f02e75f6e70daa",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "home - linky - ui",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "ff3ea6db082a3ede",
      "7a8446bfe5858de9",
      "7ca84197b56de1f6",
      "5f8cd6bd9f561403",
      "3c5b954c4db04bdb",
      "3a816c9d45c03626",
      "d387848d485bbad4",
      "88b4fa01095bf6be",
      "9afdec924f923d90",
      "6ef64156f6aee952",
      "ab09e46f4313cec3",
      "88a3ebf72baa83c9",
      "7bde9e5371850ec6",
      "94a9afc0489abcb3",
      "76f6a0873cbd318f",
      "a86d64f42452a3b7",
      "2c63dd2b7c70df86",
      "ce16a38c205cea88",
      "223c9437360c96cb",
      "8a1c1129f96fc4f7",
      "2da12c408933c87b",
      "bb91528b79a7fef4",
      "5ee9de3d5907e482",
      "f8bf0c474caebb26",
      "9725fd4ac3730948",
      "da46e6b6c18a5350",
      "53c25ef43112837d",
      "674e46c767bb1ff9",
      "636a8238144e0df5"
    ],
    "x": 94,
    "y": 3199,
    "w": 1612,
    "h": 502
  },
  {
    "id": "1d72cb06c368a2c9",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - chart",
    "style": {
      "label": true,
      "fill": "#777777",
      "fill-opacity": "0.05"
    },
    "nodes": [
      "a3df49e3ec177d8d",
      "80f986da1d02c67c",
      "0db8801c7e0e4401"
    ],
    "x": 68,
    "y": 2153,
    "w": 1724,
    "h": 974
  },
  {
    "id": "a3df49e3ec177d8d",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart temperature",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "ec99f621f7253cd7",
      "023b97f731941ec8",
      "d83b592e2491dcb6",
      "e44987d599f2b366",
      "b6d352f0739c9c5d",
      "e01a8d98754f1f85",
      "c1d200de7bed7d83",
      "3918bb15caaf1ec5",
      "4a56f9148bd23d8e",
      "fc6afa9a094180d3",
      "44d4e7ddd6c2f416",
      "20c48f73de388537"
    ],
    "x": 94,
    "y": 2179,
    "w": 1292,
    "h": 202
  },
  {
    "id": "80f986da1d02c67c",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart humidity",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "1f143110084f2d12",
      "c95545cb575e900a",
      "a521b0c77c8e1b96",
      "057bd2913e07a3dc",
      "588f7e8cf7861975",
      "feae7dc17ccbe84b",
      "40fb52f0b9b6d6f8",
      "5943f812794763bb",
      "280a3b24aff09fd6",
      "13bb4993d29c190f",
      "4fac1159c7fb1196",
      "238894bac5405d86"
    ],
    "x": 94,
    "y": 2419,
    "w": 1292,
    "h": 202
  },
  {
    "id": "0db8801c7e0e4401",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart power",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "44795f19725dfb16",
      "2b909499790cab01",
      "73cb2cee63b22726",
      "eeab0942d3417e79",
      "012dbd0798e129d0",
      "23dabc507247dfc0",
      "992ae204a4e2dac4",
      "32acac8443b52345",
      "b9f8b477c288e0f0",
      "ecd8bf936f027cdc",
      "c60c3603ff04bca1",
      "5cc27b9e016bbe1b",
      "fea7dd1138155750",
      "ce300a4fa3da028b",
      "42f15ae606bcd5c0",
      "acd8bdd056e44c39",
      "5c3172390ae5eefb",
      "898d54359ae10f09",
      "3506806a53b51ad4",
      "4ca2710a68ee8cf7",
      "dac472279b8e26a6",
      "61b1903f970a1cda",
      "69a335eac7fb4998"
    ],
    "x": 94,
    "y": 2659,
    "w": 1672,
    "h": 442
  },
  {
    "id": "0bdefb56ee5ef918",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "8ebd43deda9d56d4",
    "name": "room - config - device",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "177aee50c214945c",
      "ca620b08c9922bd0",
      "8d6827df412a4059"
    ],
    "x": 94,
    "y": 199,
    "w": 502,
    "h": 82
  },
  {
    "id": "fedaeb34f9bc97e4",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "8ebd43deda9d56d4",
    "name": "room - config - ui",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "b6c03b0d5a9952c9",
      "9a20f95447f8ddfd",
      "d4f555ae99a41fee",
      "cd4ebdd2c6d86368",
      "48ee82efe7b41570",
      "290e5853a51cb170",
      "e15462f85288d3c0"
    ],
    "x": 694,
    "y": 199,
    "w": 802,
    "h": 142
  },
  {
    "id": "4e8f7076589ea977",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - sensor",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "dfb1c71d12e96d7e",
      "01e05de4b3ca9c5f",
      "f4795bfce2a04229",
      "1e12a54af3ef13b7",
      "88b32f9b417c1d89",
      "fd4ef897d9752a3c",
      "24e20be30ebc92aa",
      "8a52378a44bf7f3b",
      "9615af109f15be41",
      "59c93aa71ad35d29",
      "6c94f5bf30aea70d",
      "8fb6a9d9412b2bec",
      "88b22e34de3b524d",
      "d05c1a4eee3f01e4",
      "e46801b96418c26a",
      "d7aff9d041ae7444",
      "a81fa955d6562f5f",
      "5cc6b20c6df480dd",
      "689bb472e2d91059",
      "20c75ef7e51d5b8e",
      "e0045ca80f8e03c1",
      "0a90a652239db393",
      "3fddcb78e40b1d2b",
      "778d16bd84481a10",
      "93a7acc4ebb52d85",
      "c0b755705bfe5f7c",
      "68ac80a46640bc8a",
      "4f1473471bbae45e",
      "8585e6f3431e8d42",
      "83438124d9dced41",
      "035559e237d36f74"
    ],
    "x": 94,
    "y": 1099,
    "w": 2112,
    "h": 502
  },
  {
    "id": "42c0f1473438a281",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - camera",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "24f76309a6dfe14a",
      "6bd965a44bd48431",
      "4adc84859872765c",
      "78f2cb047057edc0",
      "ef4532a3ebf0b36e",
      "967fea7a3b32f198",
      "16094297767ce839",
      "50c35b8d464c83cd",
      "d1904515488ddaf4",
      "725065af055abe45",
      "fb170cb858137be7",
      "b74b0ea99d56eb7e",
      "ea0406109e5de115",
      "03b02d165b1d7e28",
      "153555b528c18e18",
      "263b6e6e05263288",
      "b60115a1fd023b76",
      "c2aa1840a5deddbf",
      "62c1bb0cb832960f",
      "8aa78c963092f63a",
      "9775046f290c1bf5",
      "c32cc33c321acd07",
      "8c7c93ce9d3d346c",
      "b7732e5da33d4247",
      "ae7ba0058dad62d1",
      "0ff03eeb1954d8f2",
      "8dfe90979253107e"
    ],
    "x": 94,
    "y": 1639,
    "w": 2292,
    "h": 442
  },
  {
    "id": "9b11e3a85026957b",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - cumulus",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "3ea1bb4e5ff3e53a",
      "1db8267958aa8d3c",
      "bf71f08c103ab9bf",
      "6d4b70fa6bba8616",
      "b8ed61d35607d163",
      "4c93ed77e680ad7a",
      "f1cc0ee7d294d743",
      "6899ef31a931df1c",
      "a2ed4c3380f63344",
      "d66a556c8804aa96",
      "5a3cf6eb82112299",
      "3fbe41cfcb30b29f",
      "8a877a1f0ad96a9f",
      "86bf6614eaaed4fb",
      "f1a67acc80e7df25",
      "a734f97d04983224",
      "5aa2370542c80557",
      "417fbb2eb3a923ed",
      "57e410937624c3d6",
      "c17dc35aca46f82c",
      "5c7542a83bbabb35",
      "c35b2b2e8f2b4219",
      "92754828aa30243d",
      "473d6854093e32df",
      "109b8b2fe8df33cb",
      "98eb7016dea145b8",
      "d51ca92136da8ea4",
      "56484d472a10cece",
      "e67a8cdad7117ce2",
      "8e1e779d0e2a97e2"
    ],
    "x": 5074,
    "y": 79,
    "w": 2362,
    "h": 562
  },
  {
    "id": "139783cbea6b84f0",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - lighting",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "4db69cc034f21733",
      "7b827a64c14fb9cb",
      "f35cf3e3023f161b",
      "5f218ee61959294d",
      "6ebcb13cc88ec167",
      "d58e31cbba7fe1fb",
      "79e409df0c12d8bb",
      "b90b3d45412b51d0",
      "6d468d4c78e0a5d5",
      "1356cf8e6dacc702",
      "94e962dcf138ee98",
      "a384b36f395ac476",
      "b570fc100217d48f",
      "2f0256ee1c8ee8bd",
      "e416e76dbc779a5c",
      "891441049126e441",
      "f987368eb35277fe",
      "ee59c5af14e637f3",
      "a2ca1cbf65a3d6da",
      "6b16733d5f1837c0",
      "0211a14a27109897",
      "3f34497743010927",
      "69d61490df35d838",
      "4e1d7986190989e5"
    ],
    "x": 5074,
    "y": 1659,
    "w": 1102,
    "h": 742
  },
  {
    "id": "bb2ebd173a2ba06c",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - thermostat",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "9737afb19d9c9fbb",
      "dd49b4996fb683ff",
      "fbb1bdcb44abce21",
      "6c6cf33417f59f97",
      "fc673a36d8691d63",
      "37aa96c6d80d8ade",
      "1ef76a4c1fab9b78",
      "adc6196b15cf8c39",
      "760d9050f9308b67",
      "26bdcbaa93cfcc27",
      "c4f79cb042dc36a1",
      "f391ba85b3d53073",
      "7e364afe6e09d405",
      "b8374382f89b46c6",
      "5b4d546fd3646af7",
      "fafbe160c912822f",
      "f85914dec075a3d8",
      "bd8ab43b4a91a2ae",
      "19b6504e1bbece40",
      "f968a8fc298f04c3",
      "07108de5adf3ae2a",
      "bcf6468037b4c2a6",
      "37794c3da2ceda38",
      "dfd8650d923f73e4",
      "4c5adf85df17025b",
      "26537f8818c29c61",
      "a7420198a3e0f879",
      "f23d5105ca948593",
      "2efa063af4b505d2",
      "6cc81c8342d6ef1c",
      "f7ed99ce22cd37cb",
      "348134507ffe8815",
      "63561fec4fba2afd",
      "53f7b3195f6dfeed",
      "99e789a941d2af52",
      "39615dab9370d868",
      "e223793b9998818b",
      "136162f12991809c",
      "fb9711affc7d14af",
      "a9e89b46159c4ec8",
      "cb3f8f9fa322b59f",
      "51dc21bc28ea3f06",
      "272807d6b707d92f",
      "4540d4f432f8742d",
      "6d0cb16590b1da18",
      "bfb0a473b6a09c81",
      "61d316384ef1521b",
      "27d7b08fb3646a52",
      "3f9eefa51c1e5e9e",
      "ff2211c1efd24971",
      "f814aebd5bd599b5",
      "8c3c9bc4a66b1e32",
      "0711217590341f99",
      "3930f84bd36fd5aa",
      "b6f3145afc37707c",
      "7a9f4d42d5c7497c",
      "dd517b4d06983aac",
      "e7dcdd83cf9e08e1",
      "73dc6a2b0e041f8e",
      "bcfed6ac5d278d3c",
      "93e874f6e4a1f87a",
      "fcbda9c625fdecac",
      "f5cf184989e2cc69",
      "3d40410e159beaab",
      "4565730f04bd7072",
      "95eb528329f90cf2",
      "79764253e9e92fda",
      "3e6cd35a857771f8",
      "4ad97596d0efa64b",
      "f19ecf4219ed5190",
      "9353e083159af033",
      "33fde1af7428bf26"
    ],
    "x": 5074,
    "y": 2439,
    "w": 1692,
    "h": 2242
  },
  {
    "id": "96eb67f8be94bf98",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - shading - load",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "2d0ce076b11e16ba",
      "b394effe7a57f79a",
      "c97e08992c83f769",
      "3bd921f16659d915",
      "8ee8772fa3a4c742",
      "3473a74146113307",
      "68431700c349e224",
      "2feac259f3f849cf",
      "6afc26adb1632a78",
      "486df3adde8e9f19",
      "caed2b0a311ef651",
      "f8c9bdc9468519cc",
      "d46a05d7499a2baf",
      "1ff4a921e075affc",
      "c20f3ad695b504d9",
      "ace2b79f4bb79129",
      "4ba85aac882689c9",
      "f0af60c382a79669",
      "9016e50cba8bfc51"
    ],
    "x": 5074,
    "y": 4719,
    "w": 1082,
    "h": 442
  },
  {
    "id": "90046052f5bcb625",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - clock",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "511350d9f34ce767",
      "7aaae6f81accc54b",
      "20845c677b589935",
      "acfd5fff279e15de",
      "674dd33239c8c3e7",
      "d2846ad9c776708a",
      "4f9d174388a77ea5",
      "f77679312512233c",
      "f5f89b6efb421399",
      "5673ce2c9088f475",
      "f718cac6e7ec06c5",
      "79fe08848f124125",
      "a87c14e04ed75544"
    ],
    "x": 5074,
    "y": 5199,
    "w": 972,
    "h": 262
  },
  {
    "id": "707b31c0a7883fe2",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - rhasspy",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "89fea9401e9ea5c1",
      "fc11e57431b3bece",
      "b1825677cbba4273",
      "a06fcd9bc49dd111",
      "8beb2a2f4c26c437",
      "539d1393b0bcbaf6",
      "0ede8d9899c0ce55",
      "4251d90a5ab9d7a1",
      "58a80e8214149e12",
      "5209317f54f78726",
      "d5abdb129e7bdcb1",
      "d201aa9375be8c18",
      "0be97543e6033a9a",
      "91d8f57a2f9da7d7",
      "40e6363382746d55",
      "6408540ebef3a980",
      "892332a6fc4a6710"
    ],
    "x": 5074,
    "y": 5499,
    "w": 1062,
    "h": 329.5
  },
  {
    "id": "a0938dfc54b55acc",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - air conditioner",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "97aa2e016643bfbd",
      "383c38e98cd05755",
      "5a5c10ecd5d798be",
      "932e7fad1c98966f",
      "baadaeea2e2d4f95",
      "c5d646bd69c37865",
      "9d8b8d237e2704ea",
      "4da4c768067c032b",
      "b5f5495cad639af5",
      "12fca45ce9ab2abb",
      "c6383ca66673fd96",
      "cd9ba8ff11c8036d",
      "f520ba0c172598b7",
      "327f0ed7b5fa48d2",
      "f68f5c75e58e22cb",
      "a8dd4b383d7eb632",
      "4205795bed6b3290",
      "2a45ad61a4b3d598",
      "dcfb0cd127aa904e",
      "22c8ba7a5b818ab1",
      "97369cf4b242fdb7",
      "7edfb7f3d98dd2b8"
    ],
    "x": 5074,
    "y": 5879,
    "w": 1162,
    "h": 562
  },
  {
    "id": "48dd7d439fba9eda",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - alexa",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "d5a2226e7f24deda",
      "fc6548d30b49e4d0",
      "c72c85a05c057eb6",
      "5f5234be5bf42b3a",
      "8a6f97848d7b1a2c",
      "63f153f048b1295f",
      "01cf02dbabfb3096",
      "130d6f3ddbbffdae",
      "2923cfe0def7c0ad",
      "2723a51ead34599a",
      "f1f8c53efd3838a8",
      "a1ac1aa658d58387",
      "ecf7b9d277d80279",
      "e61351b02452479b",
      "4635fe1f7e4a367f",
      "dbac3472fc6c8c6b",
      "7475623aa0893639",
      "626e1746ced16a4c"
    ],
    "x": 5074,
    "y": 6479,
    "w": 1082,
    "h": 382
  },
  {
    "id": "35fa81df547b4491",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - telegram",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "0691d9a37686f464",
      "3c6ee783748b235e",
      "761cb37547fe4dc2",
      "a033c6dbdefb80f9",
      "1d6b2ca73ae11560",
      "befe8bfd3d3446cc",
      "2936573edcac41e4",
      "661f755eabe3c32b",
      "45ec5e8001fad3fa",
      "9c9162236e4b23a6",
      "ce9aca3509c7c320",
      "42cb1c19195b7aaf",
      "6495af71a7195bb4",
      "bf793e9865c9e834",
      "5f4fe9067e1fd9a0",
      "05b5a24c1547eb9a",
      "b4a9884f6b553123",
      "5ab53f45b766d97b",
      "86f604b24a73308c",
      "25609df681da5c1b",
      "d2194c4dad790ec4",
      "12697008ac3ea99d",
      "49f151ae87de3745",
      "97087ce25aae4515",
      "4edb12baad4c5bd0"
    ],
    "x": 5074,
    "y": 6899,
    "w": 1502,
    "h": 382
  },
  {
    "id": "486786996f8e512b",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "173e8381363b4c42",
    "name": "room - ui - airflow",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "9958ae246d4edc9d",
      "625142605bf476a4",
      "4dcfe4665aa8fabf",
      "ce3cb01895016d69",
      "8be81912e014841a",
      "6b8eff0718819266",
      "b1ebe0e08e2084f1",
      "fd421d21a13fd9cd",
      "5994c74117a8e31c",
      "ddcf6edbc20142df",
      "055c0a0f268053e4",
      "4751d9bbafc5bc21",
      "a5bf2bb33f9ff5bb",
      "16cca2765e899796",
      "0cbdea1f752e09f9",
      "3d3b69a92d3e5a3b",
      "b2f7ebfba6bbc4d4",
      "367ddcc943fb234e",
      "43169367f4eaf1f5",
      "b3e71ec6ef25bab1",
      "661050a25f78f9a2",
      "ef2769915480b0f6",
      "4bea82d34bf79d91",
      "ef9a2b91b42284b7",
      "a4dbfc219ae2dcd8",
      "9cab1d58af793873",
      "174edf5e342c527e",
      "c7121847509f1d08",
      "989b7d7ecba85616",
      "1fc6514464e22856",
      "ede7f68b56764350",
      "ee1ed5032691455d",
      "dd4ba0864d260f4c",
      "45a643fb738127eb",
      "3962dc523ff48938",
      "a80b7e58e8b264f6",
      "0e12a116cd5a645e",
      "c31394b8d77d7bd8",
      "98ea4337ad7298c2",
      "ab9f875320713f08"
    ],
    "x": 5074,
    "y": 679,
    "w": 1532,
    "h": 862
  },
  {
    "id": "606f3caa9058900f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "bucket",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "bucket",
        "pt": "flow",
        "to": "bucket",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "flow",
        "to": "{}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 270,
    "y": 60,
    "wires": [
      [
        "68c4344a4704c54f"
      ]
    ]
  },
  {
    "id": "4e6003732b266fe2",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "room - bucket",
    "links": [
      "25445f5a9b787a0a"
    ],
    "x": 135,
    "y": 60,
    "wires": [
      [
        "606f3caa9058900f"
      ]
    ]
  },
  {
    "id": "68c4344a4704c54f",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "room - bucket",
    "mode": "link",
    "links": [
      "177aee50c214945c"
    ],
    "x": 395,
    "y": 60,
    "wires": []
  },
  {
    "id": "116de42631d4b17a",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "room - metric",
    "mode": "link",
    "links": [
      "206c1fb4a48067df"
    ],
    "x": 1355,
    "y": 60,
    "wires": []
  },
  {
    "id": "f138e16b633d9429",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "topic",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "repeat",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "delete",
        "p": "path",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1220,
    "y": 60,
    "wires": [
      [
        "116de42631d4b17a"
      ]
    ]
  },
  {
    "id": "2690f4e06626ebda",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "room - metric",
    "links": [
      "1c698f378d20c0c8",
      "60368ba60dfa48a3",
      "89d8b374ec0c8d64",
      "f1cc0ee7d294d743",
      "ef9a2b91b42284b7",
      "79e409df0c12d8bb",
      "1ef76a4c1fab9b78",
      "8ee8772fa3a4c742",
      "8beb2a2f4c26c437",
      "9d8b8d237e2704ea",
      "8a6f97848d7b1a2c",
      "5024c05850b207a9",
      "1d6b2ca73ae11560",
      "8c7c93ce9d3d346c",
      "165086f5eeb45889",
      "c17daf8aa7e26a0c"
    ],
    "x": 1095,
    "y": 60,
    "wires": [
      [
        "f138e16b633d9429"
      ]
    ]
  },
  {
    "id": "177aee50c214945c",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "room - config - device",
    "links": [
      "68c4344a4704c54f"
    ],
    "x": 135,
    "y": 240,
    "wires": [
      [
        "ca620b08c9922bd0"
      ]
    ]
  },
  {
    "id": "ca620b08c9922bd0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "config / reset timer / number / 5",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "config",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "reset timer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "number",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 350,
    "y": 240,
    "wires": [
      [
        "8d6827df412a4059"
      ]
    ]
  },
  {
    "id": "8d6827df412a4059",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "room - config - device",
    "mode": "link",
    "links": [
      "bfa594bf1f876c92"
    ],
    "x": 555,
    "y": 240,
    "wires": []
  },
  {
    "id": "b6c03b0d5a9952c9",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - metric",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 735,
    "y": 240,
    "wires": [
      [
        "d4f555ae99a41fee"
      ]
    ]
  },
  {
    "id": "9a20f95447f8ddfd",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - metric",
    "mode": "link",
    "links": [
      "206c1fb4a48067df"
    ],
    "x": 1455,
    "y": 300,
    "wires": []
  },
  {
    "id": "d4f555ae99a41fee",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "check path",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "room/config/reset timer",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 890,
    "y": 240,
    "wires": [
      [
        "cd4ebdd2c6d86368"
      ]
    ]
  },
  {
    "id": "48ee82efe7b41570",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "config",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "topic",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1320,
    "y": 300,
    "wires": [
      [
        "9a20f95447f8ddfd"
      ]
    ]
  },
  {
    "id": "290e5853a51cb170",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - load",
    "links": [
      "94c79b8f52f0b6ba"
    ],
    "x": 735,
    "y": 300,
    "wires": [
      [
        "e15462f85288d3c0"
      ]
    ]
  },
  {
    "id": "e15462f85288d3c0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "from global metrics",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.bucket]config['reset timer']",
        "tot": "global"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 910,
    "y": 300,
    "wires": [
      [
        "cd4ebdd2c6d86368"
      ]
    ]
  },
  {
    "id": "66835e34ae95f3f0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "set room",
    "rules": [
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "page_title",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.payload]",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "flow",
        "to": "{}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 280,
    "y": 720,
    "wires": [
      [
        "b375ca01bb8f1e43",
        "3b74b2448cdb18a9"
      ]
    ]
  },
  {
    "id": "9ee5e12567650c9d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "enabled metric",
    "rules": [
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1100,
    "y": 840,
    "wires": [
      [
        "dc4343f890e4a3e1"
      ]
    ]
  },
  {
    "id": "3b74b2448cdb18a9",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "split bucket",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 470,
    "y": 780,
    "wires": [
      [
        "b2e5e7af716d4ec6"
      ]
    ]
  },
  {
    "id": "b2e5e7af716d4ec6",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "split measurement",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "field",
    "x": 690,
    "y": 780,
    "wires": [
      [
        "aa39991b7847c574"
      ]
    ]
  },
  {
    "id": "aa39991b7847c574",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "cleanup",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "delete",
        "p": "parts",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 780,
    "wires": [
      [
        "9ee5e12567650c9d"
      ]
    ]
  },
  {
    "id": "1dd86a8b8b446749",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "disabled elements",
    "rules": [
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1270,
    "y": 660,
    "wires": [
      [
        "9e4bfee0db3051d4"
      ]
    ]
  },
  {
    "id": "3ec4a86ec9ec37f6",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - metric",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 135,
    "y": 840,
    "wires": [
      [
        "ef424db05e8a1103"
      ]
    ]
  },
  {
    "id": "ef424db05e8a1103",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "check bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "room",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 290,
    "y": 840,
    "wires": [
      [
        "9ee5e12567650c9d"
      ]
    ]
  },
  {
    "id": "1c55a9cf641c38ba",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "wait delay then reset visibility",
    "op1": "",
    "op2": "",
    "op1type": "nul",
    "op2type": "str",
    "duration": "30",
    "extend": true,
    "overrideDelay": true,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 580,
    "y": 540,
    "wires": [
      [
        "4ed33d50e1b4ebc9"
      ]
    ]
  },
  {
    "id": "4ed33d50e1b4ebc9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "unset room",
    "rules": [
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 480,
    "wires": [
      [
        "9043871af737eb1a"
      ]
    ]
  },
  {
    "id": "656d1866a8ae8cf8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "set visibility delay",
    "rules": [
      {
        "t": "set",
        "p": "delay",
        "pt": "msg",
        "to": "metrics.room.config['reset timer']",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "delay",
        "pt": "msg",
        "to": "msg.delay*60000",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 310,
    "y": 540,
    "wires": [
      [
        "1c55a9cf641c38ba"
      ]
    ]
  },
  {
    "id": "9e4bfee0db3051d4",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - reset",
    "mode": "link",
    "links": [
      "dfb1c71d12e96d7e",
      "d1904515488ddaf4",
      "c6f86ceb44d413ed",
      "80c3ce3d49bd331a",
      "fa99b8b44e92f9be",
      "5f3f7c722ac856e1",
      "e804fb2bad48ce0d",
      "9eec2a58eea2f794",
      "b8ed61d35607d163",
      "ef2769915480b0f6",
      "d58e31cbba7fe1fb",
      "9737afb19d9c9fbb",
      "3bd921f16659d915",
      "511350d9f34ce767",
      "a06fcd9bc49dd111",
      "97aa2e016643bfbd",
      "5f5234be5bf42b3a",
      "e01a8d98754f1f85",
      "feae7dc17ccbe84b",
      "88a3ebf72baa83c9",
      "23dabc507247dfc0",
      "71d0e8896af92442",
      "a033c6dbdefb80f9",
      "3f26e65e9e14b140",
      "6ab8f6f585ebee36"
    ],
    "x": 1435,
    "y": 660,
    "wires": []
  },
  {
    "id": "74172837e07ab80d",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - seletion - select",
    "mode": "link",
    "links": [
      "0588224c71e286ea",
      "2c612fdffe67f6a1",
      "05413d613ec94002",
      "d6202f83353ef991",
      "dcf6e22992b1a266",
      "9e08854ef865d0d7",
      "6b83b5c2984312c4",
      "dc88725defb60f1a",
      "06a05a3b06eca91f",
      "1ce42313fa49e65c",
      "337f1fd20587c947",
      "835ca54b2c05e702",
      "96adf7bcdf4b3817",
      "da3a569002e98615",
      "2d281d07956505d2",
      "768aebc01cc24cfa",
      "49f81da257fd1bd5",
      "b5fb778a5f959426",
      "7bfbfd723b885933",
      "29f190c009d9bd2b"
    ],
    "x": 1395,
    "y": 600,
    "wires": []
  },
  {
    "id": "1be6ca3c2b8615a2",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - select",
    "links": [
      "019a3a8edd5faf37",
      "2a9d3ecd8577a6f1",
      "5f57bad104da1bb5",
      "bbf50f3943683db6",
      "57edb1e8b87cefb2",
      "d9435658511d2531",
      "c11914e72f89fb79",
      "44bf80d373658b2d",
      "92e5847f6900c415",
      "ddd7a64191f066e2",
      "4526a823900a3869",
      "72159ff35b8394bc",
      "f62a05821139fc1e",
      "c5652bf083077eba",
      "3e0916086ca22bc8",
      "d1fa2ec297591574",
      "d6a7e2cef723dc90",
      "0ffed8fdad553396",
      "167294a666df090a",
      "601b5a75c014b306"
    ],
    "x": 135,
    "y": 660,
    "wires": [
      [
        "1dd86a8b8b446749",
        "656d1866a8ae8cf8",
        "66835e34ae95f3f0",
        "3d2ea19ae9c4b9d2"
      ]
    ]
  },
  {
    "id": "06976c9133796ab8",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - reset",
    "links": [
      "94c79b8f52f0b6ba"
    ],
    "x": 135,
    "y": 480,
    "wires": [
      [
        "4ed33d50e1b4ebc9"
      ]
    ]
  },
  {
    "id": "3d2ea19ae9c4b9d2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "payload to room",
    "rules": [
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 300,
    "y": 600,
    "wires": [
      [
        "74172837e07ab80d"
      ]
    ]
  },
  {
    "id": "9043871af737eb1a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "reset menu title",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "page_title",
        "pt": "msg",
        "to": "Selectionner une pièce",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1040,
    "y": 480,
    "wires": [
      [
        "b375ca01bb8f1e43",
        "57e1a96c1bf54302",
        "1dd86a8b8b446749"
      ]
    ]
  },
  {
    "id": "b6323e1460f6f50c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - metric",
    "mode": "link",
    "links": [
      "8a52378a44bf7f3b",
      "725065af055abe45",
      "6d6224968ba7c5d9",
      "3bc4111acd19c69a",
      "8b94e3c61d1c7e5d",
      "6d778528ac85f061",
      "cdf2ad725fe8ba54",
      "f7f44b26d3494661",
      "4c93ed77e680ad7a",
      "4bea82d34bf79d91",
      "6ebcb13cc88ec167",
      "dd49b4996fb683ff",
      "c97e08992c83f769",
      "7aaae6f81accc54b",
      "b1825677cbba4273",
      "383c38e98cd05755",
      "c72c85a05c057eb6",
      "e44987d599f2b366",
      "057bd2913e07a3dc",
      "223c9437360c96cb",
      "eeab0942d3417e79",
      "157c2c86081bbfab",
      "761cb37547fe4dc2",
      "26655f3b52fd390b",
      "7379c487515b9889"
    ],
    "x": 1415,
    "y": 840,
    "wires": []
  },
  {
    "id": "b375ca01bb8f1e43",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "format payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "$uppercase(msg.page_title)",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1260,
    "y": 720,
    "wires": [
      [
        "eed5df5df9eb8030"
      ]
    ]
  },
  {
    "id": "dc4343f890e4a3e1",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 1290,
    "y": 840,
    "wires": [
      [
        "b6323e1460f6f50c"
      ]
    ]
  },
  {
    "id": "57e1a96c1bf54302",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "wait 100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 1250,
    "y": 540,
    "wires": [
      [
        "74172837e07ab80d"
      ]
    ]
  },
  {
    "id": "cd4ebdd2c6d86368",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "group": "d464a60fe4e4c421",
    "name": "reset delay",
    "label": "Délai de remise à zéro",
    "tooltip": "",
    "order": 0,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "reset timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "30",
    "step": "0.5",
    "className": "",
    "x": 1130,
    "y": 300,
    "wires": [
      [
        "48ee82efe7b41570"
      ]
    ]
  },
  {
    "id": "eed5df5df9eb8030",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "group": "36396f5285df476c",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "Pièce",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1450,
    "y": 720,
    "wires": []
  },
  {
    "id": "dfb1c71d12e96d7e",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "room - ui - sensor - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 1140,
    "wires": [
      [
        "01e05de4b3ca9c5f",
        "68ac80a46640bc8a"
      ]
    ]
  },
  {
    "id": "01e05de4b3ca9c5f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Capteurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 1140,
    "wires": [
      [
        "20c75ef7e51d5b8e",
        "0a90a652239db393"
      ]
    ]
  },
  {
    "id": "f4795bfce2a04229",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Capteurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 1200,
    "wires": [
      [
        "0a90a652239db393",
        "20c75ef7e51d5b8e"
      ]
    ]
  },
  {
    "id": "1e12a54af3ef13b7",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "ddd39f991efd9d31"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1430,
    "y": 1380,
    "wires": [
      [
        "3fddcb78e40b1d2b"
      ]
    ]
  },
  {
    "id": "88b32f9b417c1d89",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "49927aaaafcc60ec"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1420,
    "y": 1440,
    "wires": [
      [
        "778d16bd84481a10"
      ]
    ]
  },
  {
    "id": "fd4ef897d9752a3c",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "aa96d5f77fcf68e5"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1430,
    "y": 1500,
    "wires": [
      [
        "93a7acc4ebb52d85"
      ]
    ]
  },
  {
    "id": "24e20be30ebc92aa",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "12b1109de2f09cfc"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1420,
    "y": 1560,
    "wires": [
      [
        "c0b755705bfe5f7c"
      ]
    ]
  },
  {
    "id": "8a52378a44bf7f3b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "room - ui - sensor - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 1200,
    "wires": [
      [
        "035559e237d36f74"
      ]
    ]
  },
  {
    "id": "9615af109f15be41",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "select measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "fire",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "luminosity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "motion",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 1180,
    "y": 1320,
    "wires": [
      [],
      [
        "1e12a54af3ef13b7"
      ],
      [
        "88b32f9b417c1d89"
      ],
      [
        "fd4ef897d9752a3c"
      ],
      [
        "24e20be30ebc92aa"
      ]
    ]
  },
  {
    "id": "59c93aa71ad35d29",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=true?'Mouvement détecté':'Aucun mouvement'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 1560,
    "wires": [
      [
        "6c94f5bf30aea70d"
      ]
    ]
  },
  {
    "id": "6c94f5bf30aea70d",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "motion",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1970,
    "y": 1560,
    "wires": []
  },
  {
    "id": "8fb6a9d9412b2bec",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "luminosity",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1980,
    "y": 1500,
    "wires": []
  },
  {
    "id": "88b22e34de3b524d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Luminosité de '&msg.payload&'Lx'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 1500,
    "wires": [
      [
        "8fb6a9d9412b2bec"
      ]
    ]
  },
  {
    "id": "d05c1a4eee3f01e4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Humidité à '&msg.payload&'%'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 1440,
    "wires": [
      [
        "e46801b96418c26a"
      ]
    ]
  },
  {
    "id": "e46801b96418c26a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "humidity",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1980,
    "y": 1440,
    "wires": []
  },
  {
    "id": "d7aff9d041ae7444",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Température de '&msg.payload&'°C'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 1380,
    "wires": [
      [
        "a81fa955d6562f5f"
      ]
    ]
  },
  {
    "id": "a81fa955d6562f5f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "temperature",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1990,
    "y": 1380,
    "wires": []
  },
  {
    "id": "5cc6b20c6df480dd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "fire",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1970,
    "y": 1320,
    "wires": []
  },
  {
    "id": "689bb472e2d91059",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=true?'Alarme incendie déclenchée':\"Aucun défaut d'incendie\"",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 1320,
    "wires": [
      [
        "5cc6b20c6df480dd"
      ]
    ]
  },
  {
    "id": "20c75ef7e51d5b8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun capteur",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1960,
    "y": 1140,
    "wires": [
      [
        "e0045ca80f8e03c1"
      ]
    ]
  },
  {
    "id": "e0045ca80f8e03c1",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2130,
    "y": 1140,
    "wires": []
  },
  {
    "id": "0a90a652239db393",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1960,
    "y": 1200,
    "wires": [
      []
    ]
  },
  {
    "id": "3fddcb78e40b1d2b",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1630,
    "y": 1380,
    "wires": [
      [
        "d7aff9d041ae7444"
      ]
    ]
  },
  {
    "id": "778d16bd84481a10",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1630,
    "y": 1440,
    "wires": [
      [
        "d05c1a4eee3f01e4"
      ]
    ]
  },
  {
    "id": "93a7acc4ebb52d85",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1630,
    "y": 1500,
    "wires": [
      [
        "88b22e34de3b524d"
      ]
    ]
  },
  {
    "id": "c0b755705bfe5f7c",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1630,
    "y": 1560,
    "wires": [
      [
        "59c93aa71ad35d29"
      ]
    ]
  },
  {
    "id": "68ac80a46640bc8a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune donnée",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 1260,
    "wires": [
      [
        "a81fa955d6562f5f",
        "e46801b96418c26a",
        "8fb6a9d9412b2bec",
        "6c94f5bf30aea70d",
        "5cc6b20c6df480dd"
      ]
    ]
  },
  {
    "id": "4f1473471bbae45e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.scene.bucket]",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 1320,
    "wires": [
      [
        "83438124d9dced41"
      ]
    ]
  },
  {
    "id": "8585e6f3431e8d42",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "wait 20ms then send 1",
    "op1": "",
    "op2": "1",
    "op1type": "nul",
    "op2type": "str",
    "duration": "20",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 560,
    "y": 1200,
    "wires": [
      [
        "f4795bfce2a04229",
        "68ac80a46640bc8a",
        "4f1473471bbae45e"
      ]
    ]
  },
  {
    "id": "83438124d9dced41",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 970,
    "y": 1320,
    "wires": [
      [
        "9615af109f15be41"
      ]
    ]
  },
  {
    "id": "035559e237d36f74",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "limit measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "fire|temperature|humidity|luminosity|motion",
        "vt": "str",
        "case": false
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 310,
    "y": 1200,
    "wires": [
      [
        "8585e6f3431e8d42"
      ]
    ]
  },
  {
    "id": "24f76309a6dfe14a",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "select field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "url",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "rstp",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "snapshot",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 3,
    "x": 550,
    "y": 1980,
    "wires": [
      [
        "50c35b8d464c83cd",
        "78f2cb047057edc0"
      ],
      [
        "50c35b8d464c83cd",
        "b74b0ea99d56eb7e"
      ],
      [
        "ae7ba0058dad62d1"
      ]
    ]
  },
  {
    "id": "6bd965a44bd48431",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Camera\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 1740,
    "wires": [
      [
        "ea0406109e5de115",
        "153555b528c18e18",
        "c2aa1840a5deddbf"
      ]
    ]
  },
  {
    "id": "4adc84859872765c",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "every second",
    "op1": "",
    "op2": "0",
    "op1type": "pay",
    "op2type": "str",
    "duration": "-1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1290,
    "y": 1920,
    "wires": [
      [
        "ef4532a3ebf0b36e"
      ]
    ]
  },
  {
    "id": "78f2cb047057edc0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "url",
    "rules": [
      {
        "t": "set",
        "p": "url",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 1920,
    "wires": [
      [
        "8aa78c963092f63a"
      ]
    ]
  },
  {
    "id": "ef4532a3ebf0b36e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "check url",
    "property": "url",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nempty"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1480,
    "y": 1920,
    "wires": [
      [
        "967fea7a3b32f198"
      ]
    ]
  },
  {
    "id": "967fea7a3b32f198",
    "type": "http request",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "query camera url",
    "method": "GET",
    "ret": "bin",
    "paytoqs": "ignore",
    "url": "",
    "tls": "",
    "persist": false,
    "proxy": "",
    "insecureHTTPParser": false,
    "authType": "",
    "senderr": false,
    "headers": [],
    "x": 1690,
    "y": 1920,
    "wires": [
      [
        "16094297767ce839"
      ]
    ]
  },
  {
    "id": "50c35b8d464c83cd",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Camera\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 1800,
    "wires": [
      [
        "ea0406109e5de115",
        "153555b528c18e18"
      ]
    ]
  },
  {
    "id": "d1904515488ddaf4",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "room - ui - camera - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 1740,
    "wires": [
      [
        "6bd965a44bd48431",
        "9775046f290c1bf5"
      ]
    ]
  },
  {
    "id": "725065af055abe45",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "room - ui - camera - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 1980,
    "wires": [
      [
        "fb170cb858137be7"
      ]
    ]
  },
  {
    "id": "fb170cb858137be7",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "check measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "camera",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 320,
    "y": 1980,
    "wires": [
      [
        "24f76309a6dfe14a"
      ]
    ]
  },
  {
    "id": "b74b0ea99d56eb7e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "rstp",
    "rules": [
      {
        "t": "set",
        "p": "rstp",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 1980,
    "wires": [
      []
    ]
  },
  {
    "id": "ea0406109e5de115",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 900,
    "y": 1740,
    "wires": [
      []
    ]
  },
  {
    "id": "03b02d165b1d7e28",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "group": "0083c332a401849d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1070,
    "y": 1680,
    "wires": []
  },
  {
    "id": "153555b528c18e18",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune caméra",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 1680,
    "wires": [
      [
        "03b02d165b1d7e28"
      ]
    ]
  },
  {
    "id": "263b6e6e05263288",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "image to payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'data:image/png;base64,'&msg.payload",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 1920,
    "wires": [
      [
        "b60115a1fd023b76"
      ]
    ]
  },
  {
    "id": "b60115a1fd023b76",
    "type": "ui-template",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "group": "0083c332a401849d",
    "page": "",
    "ui": "",
    "name": "image",
    "order": 2,
    "width": "6",
    "height": "7",
    "head": "",
    "format": "<template>\n    <img ref=\"iotnode-camera\" class=\"\" alt=\"Aucune camera\" width=\"100%\" src=\"\" />\n</template>\n\n<script>\nexport default {\n  name: 'MyCamera',\n  mounted () {\n    this.$socket.on('msg-input:' + this.id, (msg) => {\n        // get the Video's DOM element\n        const iotnodecamera = this.$refs['iotnode-camera']\n\n        if (msg.class==='remove') {\n          iotnodecamera.class = 'remove'\n        } else {\n          iotnodecamera.class = ''\n          iotnodecamera.src = msg.payload\n        }\n    })\n  },\n  unmounted () {\n    this.$socket.off(`msg-input:${this.id}`)\n  }\n}\n</script>",
    "storeOutMessages": true,
    "passthru": true,
    "resendOnRefresh": true,
    "templateScope": "local",
    "className": "",
    "x": 2310,
    "y": 1800,
    "wires": [
      []
    ]
  },
  {
    "id": "c2aa1840a5deddbf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "to empty",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 1800,
    "wires": [
      [
        "b60115a1fd023b76",
        "62c1bb0cb832960f"
      ]
    ]
  },
  {
    "id": "62c1bb0cb832960f",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "repeat once",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "pay",
    "duration": "250",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1090,
    "y": 1860,
    "wires": [
      [
        "4adc84859872765c"
      ]
    ]
  },
  {
    "id": "8aa78c963092f63a",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "repeat once",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "pay",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1090,
    "y": 1920,
    "wires": [
      [
        "4adc84859872765c"
      ]
    ]
  },
  {
    "id": "16094297767ce839",
    "type": "base64",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "",
    "action": "str",
    "property": "payload",
    "x": 1900,
    "y": 1920,
    "wires": [
      [
        "263b6e6e05263288"
      ]
    ]
  },
  {
    "id": "3ea1bb4e5ff3e53a",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "timer",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "daily",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "night",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "electric meter",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "balloon",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 6,
    "x": 5630,
    "y": 480,
    "wires": [
      [
        "f1a67acc80e7df25"
      ],
      [
        "a734f97d04983224",
        "8e1e779d0e2a97e2"
      ],
      [
        "5aa2370542c80557"
      ],
      [
        "57e410937624c3d6"
      ],
      [
        "c35b2b2e8f2b4219"
      ],
      [
        "417fbb2eb3a923ed"
      ]
    ]
  },
  {
    "id": "1db8267958aa8d3c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 300,
    "wires": [
      [
        "a734f97d04983224",
        "8e1e779d0e2a97e2"
      ]
    ]
  },
  {
    "id": "bf71f08c103ab9bf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 240,
    "wires": [
      [
        "f1a67acc80e7df25",
        "5aa2370542c80557",
        "417fbb2eb3a923ed",
        "57e410937624c3d6"
      ]
    ]
  },
  {
    "id": "6d4b70fa6bba8616",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cumulus",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 7260,
    "y": 420,
    "wires": [
      [
        "f1cc0ee7d294d743"
      ]
    ]
  },
  {
    "id": "b8ed61d35607d163",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 120,
    "wires": [
      [
        "bf71f08c103ab9bf",
        "1db8267958aa8d3c",
        "3fbe41cfcb30b29f",
        "5c7542a83bbabb35"
      ]
    ]
  },
  {
    "id": "4c93ed77e680ad7a",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 180,
    "wires": [
      [
        "a2ed4c3380f63344"
      ]
    ]
  },
  {
    "id": "f1cc0ee7d294d743",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 7395,
    "y": 420,
    "wires": []
  },
  {
    "id": "6899ef31a931df1c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 7260,
    "y": 600,
    "wires": [
      [
        "f1cc0ee7d294d743"
      ]
    ]
  },
  {
    "id": "a2ed4c3380f63344",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "cumulus",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 180,
    "wires": [
      [
        "8a877a1f0ad96a9f",
        "c17dc35aca46f82c"
      ]
    ]
  },
  {
    "id": "d66a556c8804aa96",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 120,
    "wires": []
  },
  {
    "id": "5a3cf6eb82112299",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun cumulus",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 120,
    "wires": [
      [
        "d66a556c8804aa96"
      ]
    ]
  },
  {
    "id": "3fbe41cfcb30b29f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Cumulus\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 120,
    "wires": [
      [
        "5a3cf6eb82112299",
        "86bf6614eaaed4fb"
      ]
    ]
  },
  {
    "id": "8a877a1f0ad96a9f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Cumulus\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 180,
    "wires": [
      [
        "86bf6614eaaed4fb",
        "5a3cf6eb82112299"
      ]
    ]
  },
  {
    "id": "86bf6614eaaed4fb",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 180,
    "wires": [
      []
    ]
  },
  {
    "id": "f1a67acc80e7df25",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "actif",
    "label": "Actif",
    "group": "d9226f161296ef5d",
    "order": 2,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "actif",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 240,
    "wires": [
      [
        "6d4b70fa6bba8616"
      ]
    ]
  },
  {
    "id": "a734f97d04983224",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "name": "timer",
    "label": "",
    "tooltip": "",
    "order": 5,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": "20",
    "max": "240",
    "step": "10",
    "className": "",
    "x": 5790,
    "y": 360,
    "wires": [
      [
        "6d4b70fa6bba8616"
      ]
    ]
  },
  {
    "id": "5aa2370542c80557",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "daily",
    "label": "Exécuté",
    "group": "d9226f161296ef5d",
    "order": 6,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "daily",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 420,
    "wires": [
      [
        "6d4b70fa6bba8616"
      ]
    ]
  },
  {
    "id": "417fbb2eb3a923ed",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "balloon",
    "label": "Etat",
    "group": "d9226f161296ef5d",
    "order": 8,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "balloon",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5800,
    "y": 600,
    "wires": [
      [
        "6899ef31a931df1c"
      ]
    ]
  },
  {
    "id": "57e410937624c3d6",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "night",
    "label": "Nocturne",
    "group": "d9226f161296ef5d",
    "order": 7,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "night",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 480,
    "wires": [
      [
        "6d4b70fa6bba8616"
      ]
    ]
  },
  {
    "id": "c17dc35aca46f82c",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 480,
    "wires": [
      [
        "3ea1bb4e5ff3e53a"
      ]
    ]
  },
  {
    "id": "367ddcc943fb234e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "timer",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "cmv",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity 1",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity 2",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity 3",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity 4",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity 5",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 9,
    "x": 5790,
    "y": 1200,
    "wires": [
      [
        "dd4ba0864d260f4c"
      ],
      [
        "45a643fb738127eb",
        "98ea4337ad7298c2"
      ],
      [
        "3962dc523ff48938",
        "ab9f875320713f08"
      ],
      [
        "a80b7e58e8b264f6"
      ],
      [
        "b1ebe0e08e2084f1"
      ],
      [
        "055c0a0f268053e4"
      ],
      [
        "a5bf2bb33f9ff5bb"
      ],
      [
        "0cbdea1f752e09f9"
      ],
      [
        "b2f7ebfba6bbc4d4"
      ]
    ]
  },
  {
    "id": "43169367f4eaf1f5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 900,
    "wires": [
      [
        "45a643fb738127eb",
        "3962dc523ff48938",
        "98ea4337ad7298c2",
        "ab9f875320713f08"
      ]
    ]
  },
  {
    "id": "b3e71ec6ef25bab1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 840,
    "wires": [
      [
        "dd4ba0864d260f4c",
        "a80b7e58e8b264f6"
      ]
    ]
  },
  {
    "id": "661050a25f78f9a2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "airflow",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6140,
    "y": 840,
    "wires": [
      [
        "ef9a2b91b42284b7"
      ]
    ]
  },
  {
    "id": "ef2769915480b0f6",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 720,
    "wires": [
      [
        "b3e71ec6ef25bab1",
        "43169367f4eaf1f5",
        "174edf5e342c527e",
        "c31394b8d77d7bd8"
      ]
    ]
  },
  {
    "id": "4bea82d34bf79d91",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 780,
    "wires": [
      [
        "9cab1d58af793873"
      ]
    ]
  },
  {
    "id": "ef9a2b91b42284b7",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6275,
    "y": 840,
    "wires": []
  },
  {
    "id": "a4dbfc219ae2dcd8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6120,
    "y": 1140,
    "wires": [
      [
        "ef9a2b91b42284b7"
      ]
    ]
  },
  {
    "id": "9cab1d58af793873",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "airflow",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 780,
    "wires": [
      [
        "ede7f68b56764350",
        "0e12a116cd5a645e",
        "5994c74117a8e31c"
      ]
    ]
  },
  {
    "id": "174edf5e342c527e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Ventilation\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 720,
    "wires": [
      [
        "1fc6514464e22856",
        "c7121847509f1d08"
      ]
    ]
  },
  {
    "id": "c7121847509f1d08",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune ventialtion",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 720,
    "wires": [
      [
        "989b7d7ecba85616"
      ]
    ]
  },
  {
    "id": "989b7d7ecba85616",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6130,
    "y": 720,
    "wires": []
  },
  {
    "id": "1fc6514464e22856",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5960,
    "y": 780,
    "wires": [
      []
    ]
  },
  {
    "id": "ede7f68b56764350",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Ventilation\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 780,
    "wires": [
      [
        "1fc6514464e22856",
        "c7121847509f1d08"
      ]
    ]
  },
  {
    "id": "ee1ed5032691455d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 1200,
    "wires": [
      [
        "367ddcc943fb234e"
      ]
    ]
  },
  {
    "id": "dd4ba0864d260f4c",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "actif",
    "label": "Actif",
    "group": "2da57f82233c276b",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5950,
    "y": 840,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "45a643fb738127eb",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "timer",
    "label": "",
    "tooltip": "",
    "order": 9,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": "20",
    "max": "240",
    "step": "10",
    "className": "",
    "x": 5950,
    "y": 960,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "3962dc523ff48938",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity",
    "label": "",
    "tooltip": "",
    "order": 11,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "humidity",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "95",
    "step": "5",
    "className": "",
    "x": 5960,
    "y": 1080,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "a80b7e58e8b264f6",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "cmv",
    "label": "Etat",
    "group": "2da57f82233c276b",
    "order": 12,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "cmv",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5950,
    "y": 1140,
    "wires": [
      [
        "a4dbfc219ae2dcd8"
      ]
    ]
  },
  {
    "id": "0e12a116cd5a645e",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "250 ms",
    "pauseType": "delay",
    "timeout": "250",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5480,
    "y": 1200,
    "wires": [
      [
        "ee1ed5032691455d"
      ]
    ]
  },
  {
    "id": "4db69cc034f21733",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "timer",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "high",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "low",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "luminosity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "darkness",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "night",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "motion",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "retention",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "nightlight",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 10,
    "x": 5630,
    "y": 2000,
    "wires": [
      [
        "2f0256ee1c8ee8bd"
      ],
      [
        "e416e76dbc779a5c"
      ],
      [
        "891441049126e441"
      ],
      [
        "f987368eb35277fe"
      ],
      [
        "a2ca1cbf65a3d6da"
      ],
      [
        "ee59c5af14e637f3"
      ],
      [
        "6b16733d5f1837c0"
      ],
      [
        "0211a14a27109897"
      ],
      [
        "69d61490df35d838"
      ],
      [
        "4e1d7986190989e5"
      ]
    ]
  },
  {
    "id": "7b827a64c14fb9cb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6000,
    "y": 1820,
    "wires": [
      [
        "79e409df0c12d8bb"
      ]
    ]
  },
  {
    "id": "f35cf3e3023f161b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 1880,
    "wires": [
      [
        "e416e76dbc779a5c",
        "891441049126e441",
        "f987368eb35277fe",
        "ee59c5af14e637f3",
        "a2ca1cbf65a3d6da"
      ]
    ]
  },
  {
    "id": "5f218ee61959294d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 1820,
    "wires": [
      [
        "2f0256ee1c8ee8bd",
        "6b16733d5f1837c0",
        "0211a14a27109897",
        "69d61490df35d838",
        "4e1d7986190989e5"
      ]
    ]
  },
  {
    "id": "6ebcb13cc88ec167",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "room - ui - lighting - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 1760,
    "wires": [
      [
        "1356cf8e6dacc702"
      ]
    ]
  },
  {
    "id": "d58e31cbba7fe1fb",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "room - ui - lighting - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 1700,
    "wires": [
      [
        "5f218ee61959294d",
        "f35cf3e3023f161b",
        "b90b3d45412b51d0"
      ]
    ]
  },
  {
    "id": "79e409df0c12d8bb",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "room - ui - lighting - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6135,
    "y": 1820,
    "wires": []
  },
  {
    "id": "b90b3d45412b51d0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Eclairage\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 1700,
    "wires": [
      [
        "94e962dcf138ee98",
        "b570fc100217d48f"
      ]
    ]
  },
  {
    "id": "6d468d4c78e0a5d5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Eclairage\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 1760,
    "wires": [
      [
        "b570fc100217d48f",
        "94e962dcf138ee98"
      ]
    ]
  },
  {
    "id": "1356cf8e6dacc702",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "lighting",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 1760,
    "wires": [
      [
        "6d468d4c78e0a5d5",
        "3f34497743010927"
      ]
    ]
  },
  {
    "id": "94e962dcf138ee98",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune gestion d'éclairage",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 1700,
    "wires": [
      [
        "a384b36f395ac476"
      ]
    ]
  },
  {
    "id": "a384b36f395ac476",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 1700,
    "wires": []
  },
  {
    "id": "b570fc100217d48f",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 1760,
    "wires": [
      []
    ]
  },
  {
    "id": "2f0256ee1c8ee8bd",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "actif",
    "label": "Actif",
    "group": "4deac0812bc789d5",
    "order": 2,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 1820,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "e416e76dbc779a5c",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "name": "timer",
    "label": "Minuterie",
    "tooltip": "",
    "order": 3,
    "width": 0,
    "height": 0,
    "passthru": false,
    "outs": "end",
    "topic": "timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "120",
    "step": "1",
    "className": "",
    "x": 5790,
    "y": 1880,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "891441049126e441",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "name": "high",
    "label": "Fort",
    "tooltip": "",
    "order": 4,
    "width": 0,
    "height": 0,
    "passthru": false,
    "outs": "end",
    "topic": "high",
    "topicType": "str",
    "thumbLabel": true,
    "min": "2",
    "max": "99",
    "step": 1,
    "className": "",
    "x": 5790,
    "y": 1940,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "f987368eb35277fe",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "name": "low",
    "label": "Faible",
    "tooltip": "",
    "order": 5,
    "width": 0,
    "height": 0,
    "passthru": false,
    "outs": "end",
    "topic": "low",
    "topicType": "str",
    "thumbLabel": true,
    "min": "2",
    "max": "99",
    "step": 1,
    "className": "",
    "x": 5790,
    "y": 2000,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "ee59c5af14e637f3",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "name": "darkness",
    "label": "Obscurité",
    "tooltip": "",
    "order": 6,
    "width": 0,
    "height": 0,
    "passthru": false,
    "outs": "end",
    "topic": "darkness",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "500",
    "step": "10",
    "className": "",
    "x": 5800,
    "y": 2060,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "a2ca1cbf65a3d6da",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "group": "4deac0812bc789d5",
    "name": "luminosity",
    "label": "Luminosité",
    "tooltip": "",
    "order": 7,
    "width": 0,
    "height": 0,
    "passthru": false,
    "outs": "end",
    "topic": "luminosity",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "2500",
    "step": "100",
    "className": "",
    "x": 5800,
    "y": 2120,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "6b16733d5f1837c0",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "night",
    "label": "Nocturne",
    "group": "4deac0812bc789d5",
    "order": 8,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "night",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 2180,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "0211a14a27109897",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "motion",
    "label": "Mouvement",
    "group": "4deac0812bc789d5",
    "order": 9,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "motion",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 2240,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "3f34497743010927",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 2000,
    "wires": [
      [
        "4db69cc034f21733"
      ]
    ]
  },
  {
    "id": "69d61490df35d838",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "retention",
    "label": "Maintient",
    "group": "4deac0812bc789d5",
    "order": 10,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "retention",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5800,
    "y": 2300,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "4e1d7986190989e5",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "139783cbea6b84f0",
    "name": "nightlight",
    "label": "Veilleuse",
    "group": "4deac0812bc789d5",
    "order": 11,
    "width": 0,
    "height": 0,
    "passthru": false,
    "topic": "nightlight",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5800,
    "y": 2360,
    "wires": [
      [
        "7b827a64c14fb9cb"
      ]
    ]
  },
  {
    "id": "9737afb19d9c9fbb",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 2480,
    "wires": [
      [
        "fbb1bdcb44abce21",
        "fc673a36d8691d63",
        "760d9050f9308b67",
        "9353e083159af033"
      ]
    ]
  },
  {
    "id": "dd49b4996fb683ff",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 2540,
    "wires": [
      [
        "7e364afe6e09d405"
      ]
    ]
  },
  {
    "id": "fbb1bdcb44abce21",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Thermostat\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 2480,
    "wires": [
      [
        "b8374382f89b46c6",
        "fafbe160c912822f"
      ]
    ]
  },
  {
    "id": "6c6cf33417f59f97",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Thermostat\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 2540,
    "wires": [
      [
        "fafbe160c912822f",
        "b8374382f89b46c6"
      ]
    ]
  },
  {
    "id": "fc673a36d8691d63",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 2600,
    "wires": [
      [
        "f85914dec075a3d8",
        "f968a8fc298f04c3",
        "37794c3da2ceda38",
        "f23d5105ca948593",
        "348134507ffe8815"
      ]
    ]
  },
  {
    "id": "37aa96c6d80d8ade",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "thermostat",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6040,
    "y": 2600,
    "wires": [
      [
        "1ef76a4c1fab9b78"
      ]
    ]
  },
  {
    "id": "1ef76a4c1fab9b78",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6175,
    "y": 2600,
    "wires": []
  },
  {
    "id": "adc6196b15cf8c39",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture opened",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "delayed aperture",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "operating mode",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "eco setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "confort setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "pilot",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "status",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "indoor temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "outdoor temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "temperature setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "last pilot",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "indoor coefficient",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "outdoor coefficient",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "preheat time",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "cycle time",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "offloading power",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "heat request",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture delay",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "offloading delay",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 1",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 2",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 3",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 4",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 5",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 25,
    "x": 5630,
    "y": 2960,
    "wires": [
      [
        "f85914dec075a3d8"
      ],
      [
        "bd8ab43b4a91a2ae"
      ],
      [
        "19b6504e1bbece40"
      ],
      [
        "f968a8fc298f04c3"
      ],
      [
        "07108de5adf3ae2a",
        "63561fec4fba2afd"
      ],
      [
        "bcf6468037b4c2a6",
        "e223793b9998818b"
      ],
      [
        "37794c3da2ceda38"
      ],
      [
        "fb9711affc7d14af"
      ],
      [
        "26537f8818c29c61"
      ],
      [
        "27d7b08fb3646a52"
      ],
      [
        "a7420198a3e0f879"
      ],
      [
        "c4f79cb042dc36a1"
      ],
      [
        "6cc81c8342d6ef1c",
        "53f7b3195f6dfeed"
      ],
      [
        "f7ed99ce22cd37cb",
        "99e789a941d2af52"
      ],
      [
        "cb3f8f9fa322b59f",
        "51dc21bc28ea3f06"
      ],
      [
        "272807d6b707d92f",
        "4540d4f432f8742d"
      ],
      [
        "6d0cb16590b1da18",
        "bfb0a473b6a09c81"
      ],
      [
        "61d316384ef1521b"
      ],
      [
        "ff2211c1efd24971",
        "8c3c9bc4a66b1e32"
      ],
      [
        "f814aebd5bd599b5",
        "33fde1af7428bf26"
      ],
      [
        "bcfed6ac5d278d3c"
      ],
      [
        "f5cf184989e2cc69"
      ],
      [
        "95eb528329f90cf2"
      ],
      [
        "3e6cd35a857771f8"
      ],
      [
        "f19ecf4219ed5190"
      ]
    ]
  },
  {
    "id": "760d9050f9308b67",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 2660,
    "wires": [
      [
        "07108de5adf3ae2a",
        "bcf6468037b4c2a6",
        "4c5adf85df17025b",
        "dfd8650d923f73e4",
        "6cc81c8342d6ef1c",
        "f7ed99ce22cd37cb",
        "63561fec4fba2afd",
        "e223793b9998818b",
        "ff2211c1efd24971",
        "f814aebd5bd599b5"
      ]
    ]
  },
  {
    "id": "26bdcbaa93cfcc27",
    "type": "humanizer",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "input": "msg.payload",
    "x": 5970,
    "y": 3380,
    "wires": [
      [
        "2efa063af4b505d2"
      ]
    ]
  },
  {
    "id": "c4f79cb042dc36a1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "calcul",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "$round(($millis() - msg.payload)/1000)",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 3380,
    "wires": [
      [
        "26bdcbaa93cfcc27"
      ]
    ]
  },
  {
    "id": "f391ba85b3d53073",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6040,
    "y": 3080,
    "wires": [
      [
        "1ef76a4c1fab9b78"
      ]
    ]
  },
  {
    "id": "7e364afe6e09d405",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "thermostat",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 2540,
    "wires": [
      [
        "6c6cf33417f59f97",
        "39615dab9370d868",
        "fcbda9c625fdecac"
      ]
    ]
  },
  {
    "id": "b8374382f89b46c6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune thermostat",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 2480,
    "wires": [
      [
        "5b4d546fd3646af7"
      ]
    ]
  },
  {
    "id": "5b4d546fd3646af7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 2480,
    "wires": []
  },
  {
    "id": "fafbe160c912822f",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 2540,
    "wires": [
      []
    ]
  },
  {
    "id": "f85914dec075a3d8",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "actif",
    "label": "Actif",
    "group": "28836135eb153545",
    "order": 11,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 2600,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "bd8ab43b4a91a2ae",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "aperture",
    "label": "",
    "group": "28836135eb153545",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "#717171",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door-closed",
    "offcolor": "#AEBD84",
    "x": 5800,
    "y": 2660,
    "wires": [
      []
    ]
  },
  {
    "id": "19b6504e1bbece40",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "delayed aperture",
    "label": "",
    "group": "28836135eb153545",
    "order": 6,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "timer-remove",
    "oncolor": "#717171",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "timer-check",
    "offcolor": "#AEBD84",
    "x": 5830,
    "y": 2720,
    "wires": [
      []
    ]
  },
  {
    "id": "f968a8fc298f04c3",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "operating mode",
    "label": "Mode",
    "tooltip": "",
    "order": 10,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "Eco",
        "value": "eco",
        "type": "str"
      },
      {
        "label": "Confort",
        "value": "confort",
        "type": "str"
      },
      {
        "label": "Hors-Gel",
        "value": "anti-freeze",
        "type": "str"
      },
      {
        "label": "Arrêt",
        "value": "off",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "operating mode",
    "topicType": "str",
    "className": "",
    "x": 5820,
    "y": 2780,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "07108de5adf3ae2a",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "eco setpoint",
    "label": "",
    "tooltip": "",
    "order": 13,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "eco setpoint",
    "topicType": "str",
    "thumbLabel": true,
    "min": "15",
    "max": "35",
    "step": "0.5",
    "className": "",
    "x": 5810,
    "y": 2900,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "bcf6468037b4c2a6",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "confort setpoint",
    "label": "",
    "tooltip": "",
    "order": 15,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "confort setpoint",
    "topicType": "str",
    "thumbLabel": true,
    "min": "15",
    "max": "35",
    "step": "0.5",
    "className": "",
    "x": 5820,
    "y": 3020,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "37794c3da2ceda38",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "pilot",
    "label": "",
    "group": "28836135eb153545",
    "order": 4,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "pilot",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "#AEBD84",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off",
    "offcolor": "#717171",
    "x": 5790,
    "y": 3080,
    "wires": [
      [
        "f391ba85b3d53073"
      ]
    ]
  },
  {
    "id": "dfd8650d923f73e4",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 8,
    "width": "2",
    "height": "1",
    "name": "indoor temperature",
    "label": "Intérieur",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5990,
    "y": 3320,
    "wires": []
  },
  {
    "id": "4c5adf85df17025b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 7,
    "width": "2",
    "height": "1",
    "name": "temperature setpoint",
    "label": "Consigne",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6000,
    "y": 3200,
    "wires": []
  },
  {
    "id": "26537f8818c29c61",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 3320,
    "wires": [
      [
        "dfd8650d923f73e4"
      ]
    ]
  },
  {
    "id": "a7420198a3e0f879",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 3200,
    "wires": [
      [
        "4c5adf85df17025b"
      ]
    ]
  },
  {
    "id": "f23d5105ca948593",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 31,
    "width": "6",
    "height": "1",
    "name": "seens",
    "label": "Dernier ordre",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6310,
    "y": 3380,
    "wires": []
  },
  {
    "id": "2efa063af4b505d2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "payload.humanized",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6150,
    "y": 3380,
    "wires": [
      [
        "f23d5105ca948593"
      ]
    ]
  },
  {
    "id": "6cc81c8342d6ef1c",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "indoor coefficient",
    "label": "",
    "tooltip": "",
    "order": 17,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "indoor coefficient",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "200",
    "step": 1,
    "className": "",
    "x": 5830,
    "y": 3500,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f7ed99ce22cd37cb",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "outdoor coefficient",
    "label": "",
    "tooltip": "",
    "order": 19,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "outdoor coefficient",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "200",
    "step": 1,
    "className": "",
    "x": 5830,
    "y": 3620,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "348134507ffe8815",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 2,
    "width": "2",
    "height": "1",
    "name": "status",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6290,
    "y": 3140,
    "wires": []
  },
  {
    "id": "63561fec4fba2afd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 12,
    "width": "1",
    "height": "1",
    "name": "eco setpoint (txt)",
    "label": "Eco",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5830,
    "y": 2840,
    "wires": []
  },
  {
    "id": "53f7b3195f6dfeed",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 16,
    "width": "1",
    "height": "1",
    "name": "indoor coefficient (txt)",
    "label": "Coef.Int.",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5840,
    "y": 3440,
    "wires": []
  },
  {
    "id": "99e789a941d2af52",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 18,
    "width": "1",
    "height": "1",
    "name": "outdoor coefficient (txt)",
    "label": "Coef.Ext.",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5840,
    "y": 3560,
    "wires": []
  },
  {
    "id": "39615dab9370d868",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "250 ms",
    "pauseType": "delay",
    "timeout": "250",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5480,
    "y": 2960,
    "wires": [
      [
        "adc6196b15cf8c39"
      ]
    ]
  },
  {
    "id": "e223793b9998818b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 14,
    "width": "1",
    "height": "1",
    "name": "confort setpoint (txt)",
    "label": "Confort",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5840,
    "y": 2960,
    "wires": []
  },
  {
    "id": "136162f12991809c",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 5980,
    "y": 3140,
    "wires": [
      [
        "a9e89b46159c4ec8"
      ]
    ]
  },
  {
    "id": "fb9711affc7d14af",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "...",
    "rules": [
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 3140,
    "wires": [
      [
        "136162f12991809c"
      ]
    ]
  },
  {
    "id": "a9e89b46159c4ec8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "...",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6130,
    "y": 3140,
    "wires": [
      [
        "348134507ffe8815"
      ]
    ]
  },
  {
    "id": "cb3f8f9fa322b59f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 20,
    "width": "1",
    "height": "1",
    "name": "preheat time(txt)",
    "label": "Préchauffe",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5820,
    "y": 3680,
    "wires": []
  },
  {
    "id": "51dc21bc28ea3f06",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "preheat time",
    "label": "",
    "tooltip": "",
    "order": 21,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "preheat time",
    "topicType": "str",
    "thumbLabel": true,
    "min": "5",
    "max": "60",
    "step": "5",
    "className": "",
    "x": 5810,
    "y": 3740,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "272807d6b707d92f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 22,
    "width": "1",
    "height": "1",
    "name": "cycle time(txt)",
    "label": "Cycle",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5820,
    "y": 3800,
    "wires": []
  },
  {
    "id": "4540d4f432f8742d",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "cycle time",
    "label": "",
    "tooltip": "",
    "order": 23,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "cycle time",
    "topicType": "str",
    "thumbLabel": true,
    "min": "5",
    "max": "120",
    "step": "5",
    "className": "",
    "x": 5800,
    "y": 3860,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "6d0cb16590b1da18",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 24,
    "width": "1",
    "height": "1",
    "name": "offloading power (txt)",
    "label": "Puissance",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5840,
    "y": 3920,
    "wires": []
  },
  {
    "id": "bfb0a473b6a09c81",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "offloading power",
    "label": "",
    "tooltip": "",
    "order": 25,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "offloading power",
    "topicType": "str",
    "thumbLabel": true,
    "min": "100",
    "max": "1500",
    "step": "100",
    "className": "",
    "x": 5820,
    "y": 3980,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "61d316384ef1521b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "heat request",
    "label": "",
    "group": "28836135eb153545",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "cog-play",
    "oncolor": "#AEBD84",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "cog-stop-outline",
    "offcolor": "#717171",
    "x": 5810,
    "y": 4040,
    "wires": [
      []
    ]
  },
  {
    "id": "27d7b08fb3646a52",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 3260,
    "wires": [
      [
        "3f9eefa51c1e5e9e"
      ]
    ]
  },
  {
    "id": "3f9eefa51c1e5e9e",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 9,
    "width": "2",
    "height": "1",
    "name": "outdoor temperature",
    "label": "Exterieur",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6000,
    "y": 3260,
    "wires": []
  },
  {
    "id": "2d0ce076b11e16ba",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "timer",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "luminosity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "openwork",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "daily",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 5630,
    "y": 5000,
    "wires": [
      [
        "f0af60c382a79669"
      ],
      [
        "1ff4a921e075affc"
      ],
      [
        "c20f3ad695b504d9"
      ],
      [
        "ace2b79f4bb79129"
      ],
      [
        "4ba85aac882689c9"
      ]
    ]
  },
  {
    "id": "b394effe7a57f79a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "shading",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5980,
    "y": 4880,
    "wires": [
      [
        "8ee8772fa3a4c742"
      ]
    ]
  },
  {
    "id": "c97e08992c83f769",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "room - ui - shading - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 4820,
    "wires": [
      [
        "3473a74146113307"
      ]
    ]
  },
  {
    "id": "3bd921f16659d915",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "boot shading",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 4760,
    "wires": [
      [
        "68431700c349e224",
        "486df3adde8e9f19",
        "2feac259f3f849cf"
      ]
    ]
  },
  {
    "id": "8ee8772fa3a4c742",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "room - ui - shading - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6115,
    "y": 4880,
    "wires": []
  },
  {
    "id": "3473a74146113307",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "shading",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 4820,
    "wires": [
      [
        "6afc26adb1632a78",
        "9016e50cba8bfc51"
      ]
    ]
  },
  {
    "id": "68431700c349e224",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 4940,
    "wires": [
      [
        "1ff4a921e075affc",
        "c20f3ad695b504d9",
        "ace2b79f4bb79129"
      ]
    ]
  },
  {
    "id": "2feac259f3f849cf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 4880,
    "wires": [
      [
        "4ba85aac882689c9",
        "f0af60c382a79669"
      ]
    ]
  },
  {
    "id": "6afc26adb1632a78",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Ombrage\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 4820,
    "wires": [
      [
        "d46a05d7499a2baf",
        "caed2b0a311ef651"
      ]
    ]
  },
  {
    "id": "486df3adde8e9f19",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Ombrage\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 4760,
    "wires": [
      [
        "caed2b0a311ef651",
        "d46a05d7499a2baf"
      ]
    ]
  },
  {
    "id": "caed2b0a311ef651",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune gestion d'ombrage",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4760,
    "wires": [
      [
        "f8c9bdc9468519cc"
      ]
    ]
  },
  {
    "id": "f8c9bdc9468519cc",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "group": "104179763815c332",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 4760,
    "wires": []
  },
  {
    "id": "d46a05d7499a2baf",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 4820,
    "wires": [
      []
    ]
  },
  {
    "id": "1ff4a921e075affc",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "group": "104179763815c332",
    "name": "timer",
    "label": "Minuterie",
    "tooltip": "",
    "order": 3,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "120",
    "step": "5",
    "className": "",
    "x": 5790,
    "y": 4940,
    "wires": [
      [
        "b394effe7a57f79a"
      ]
    ]
  },
  {
    "id": "c20f3ad695b504d9",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "group": "104179763815c332",
    "name": "luminosity",
    "label": "Luminosité",
    "tooltip": "",
    "order": 4,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "luminosity",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "3000",
    "step": "100",
    "className": "",
    "x": 5800,
    "y": 5000,
    "wires": [
      [
        "b394effe7a57f79a"
      ]
    ]
  },
  {
    "id": "ace2b79f4bb79129",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "group": "104179763815c332",
    "name": "openwork",
    "label": "Ajouré",
    "tooltip": "",
    "order": 5,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "openwork",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "x": 5800,
    "y": 5060,
    "wires": [
      [
        "b394effe7a57f79a"
      ]
    ]
  },
  {
    "id": "4ba85aac882689c9",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "daily",
    "label": "Exécuté",
    "group": "104179763815c332",
    "order": 6,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "daily",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 5120,
    "wires": [
      [
        "b394effe7a57f79a"
      ]
    ]
  },
  {
    "id": "f0af60c382a79669",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "actif",
    "label": "Actif",
    "group": "104179763815c332",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 4880,
    "wires": [
      [
        "b394effe7a57f79a"
      ]
    ]
  },
  {
    "id": "9016e50cba8bfc51",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "96eb67f8be94bf98",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 5000,
    "wires": [
      [
        "2d0ce076b11e16ba"
      ]
    ]
  },
  {
    "id": "511350d9f34ce767",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "room - ui - clock - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 5240,
    "wires": [
      [
        "acfd5fff279e15de",
        "f5f89b6efb421399"
      ]
    ]
  },
  {
    "id": "7aaae6f81accc54b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "room - ui - clock - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 5300,
    "wires": [
      [
        "20845c677b589935"
      ]
    ]
  },
  {
    "id": "20845c677b589935",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "clock",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 5300,
    "wires": [
      [
        "f77679312512233c",
        "a87c14e04ed75544"
      ]
    ]
  },
  {
    "id": "acfd5fff279e15de",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Horloge\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5240,
    "wires": [
      [
        "674dd33239c8c3e7",
        "4f9d174388a77ea5"
      ]
    ]
  },
  {
    "id": "674dd33239c8c3e7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune horloge",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 5240,
    "wires": [
      [
        "d2846ad9c776708a"
      ]
    ]
  },
  {
    "id": "d2846ad9c776708a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "group": "3f693201c9dfc80c",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 5240,
    "wires": []
  },
  {
    "id": "4f9d174388a77ea5",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 5300,
    "wires": [
      []
    ]
  },
  {
    "id": "f77679312512233c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Horloge\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5300,
    "wires": [
      [
        "4f9d174388a77ea5",
        "674dd33239c8c3e7"
      ]
    ]
  },
  {
    "id": "f5f89b6efb421399",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5360,
    "wires": [
      [
        "f718cac6e7ec06c5",
        "79fe08848f124125"
      ]
    ]
  },
  {
    "id": "5673ce2c9088f475",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "work day",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "work eve",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 5630,
    "y": 5420,
    "wires": [
      [
        "f718cac6e7ec06c5"
      ],
      [
        "79fe08848f124125"
      ]
    ]
  },
  {
    "id": "f718cac6e7ec06c5",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "work day",
    "label": "Jour de travail",
    "group": "3f693201c9dfc80c",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "work day",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "briefcase-clock",
    "oncolor": "#AEBD84",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "briefcase-clock-outline",
    "offcolor": "#717171",
    "x": 5800,
    "y": 5360,
    "wires": [
      []
    ]
  },
  {
    "id": "79fe08848f124125",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "work eve",
    "label": "Veille de travail",
    "group": "3f693201c9dfc80c",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "work eve",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "briefcase-clock",
    "oncolor": "#AEBD84",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "briefcase-clock-outline",
    "offcolor": "#717171",
    "x": 5800,
    "y": 5420,
    "wires": [
      []
    ]
  },
  {
    "id": "a87c14e04ed75544",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "90046052f5bcb625",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 5420,
    "wires": [
      [
        "5673ce2c9088f475"
      ]
    ]
  },
  {
    "id": "89fea9401e9ea5c1",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "high",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "low",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 5630,
    "y": 5780,
    "wires": [
      [
        "6408540ebef3a980"
      ],
      [
        "91d8f57a2f9da7d7"
      ],
      [
        "40e6363382746d55"
      ]
    ]
  },
  {
    "id": "fc11e57431b3bece",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "jarvis",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 5660,
    "wires": [
      [
        "8beb2a2f4c26c437"
      ]
    ]
  },
  {
    "id": "b1825677cbba4273",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "room - ui - rhasspy - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 5600,
    "wires": [
      [
        "539d1393b0bcbaf6"
      ]
    ]
  },
  {
    "id": "a06fcd9bc49dd111",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "room - ui - rhasspy - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 5540,
    "wires": [
      [
        "0ede8d9899c0ce55",
        "5209317f54f78726",
        "4251d90a5ab9d7a1"
      ]
    ]
  },
  {
    "id": "8beb2a2f4c26c437",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "room - ui - rhasspy - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6095,
    "y": 5660,
    "wires": []
  },
  {
    "id": "539d1393b0bcbaf6",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "jarvis",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 5600,
    "wires": [
      [
        "58a80e8214149e12",
        "892332a6fc4a6710"
      ]
    ]
  },
  {
    "id": "0ede8d9899c0ce55",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5720,
    "wires": [
      [
        "91d8f57a2f9da7d7",
        "40e6363382746d55"
      ]
    ]
  },
  {
    "id": "4251d90a5ab9d7a1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5660,
    "wires": [
      [
        "6408540ebef3a980"
      ]
    ]
  },
  {
    "id": "58a80e8214149e12",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Jarvis\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5600,
    "wires": [
      [
        "0be97543e6033a9a",
        "d5abdb129e7bdcb1"
      ]
    ]
  },
  {
    "id": "5209317f54f78726",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Jarvis\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5540,
    "wires": [
      [
        "d5abdb129e7bdcb1",
        "0be97543e6033a9a"
      ]
    ]
  },
  {
    "id": "d5abdb129e7bdcb1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun assistant local",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 5540,
    "wires": [
      [
        "d201aa9375be8c18"
      ]
    ]
  },
  {
    "id": "d201aa9375be8c18",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "group": "b7f2b376a6150162",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 5540,
    "wires": []
  },
  {
    "id": "0be97543e6033a9a",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 5600,
    "wires": [
      []
    ]
  },
  {
    "id": "91d8f57a2f9da7d7",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "group": "b7f2b376a6150162",
    "name": "high",
    "label": "Fort",
    "tooltip": "",
    "order": 3,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "high",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": "1",
    "className": "",
    "x": 5790,
    "y": 5720,
    "wires": [
      [
        "fc11e57431b3bece"
      ]
    ]
  },
  {
    "id": "40e6363382746d55",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "group": "b7f2b376a6150162",
    "name": "low",
    "label": "Faible",
    "tooltip": "",
    "order": 4,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "low",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": "1",
    "className": "",
    "x": 5790,
    "y": 5780,
    "wires": [
      [
        "fc11e57431b3bece"
      ]
    ]
  },
  {
    "id": "6408540ebef3a980",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "",
    "label": "Actif",
    "group": "b7f2b376a6150162",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 5660,
    "wires": [
      [
        "fc11e57431b3bece"
      ]
    ]
  },
  {
    "id": "892332a6fc4a6710",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "707b31c0a7883fe2",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 5780,
    "wires": [
      [
        "89fea9401e9ea5c1"
      ]
    ]
  },
  {
    "id": "97aa2e016643bfbd",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "room - ui - air conditioner - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 5920,
    "wires": [
      [
        "5a5c10ecd5d798be",
        "baadaeea2e2d4f95",
        "b5f5495cad639af5"
      ]
    ]
  },
  {
    "id": "383c38e98cd05755",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "room - ui - air conditioner - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 5980,
    "wires": [
      [
        "12fca45ce9ab2abb"
      ]
    ]
  },
  {
    "id": "5a5c10ecd5d798be",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Climatisation\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5920,
    "wires": [
      [
        "c6383ca66673fd96",
        "f520ba0c172598b7"
      ]
    ]
  },
  {
    "id": "932e7fad1c98966f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Climatisation\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 5980,
    "wires": [
      [
        "f520ba0c172598b7",
        "c6383ca66673fd96"
      ]
    ]
  },
  {
    "id": "baadaeea2e2d4f95",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6040,
    "wires": [
      [
        "327f0ed7b5fa48d2",
        "f68f5c75e58e22cb",
        "dcfb0cd127aa904e",
        "22c8ba7a5b818ab1",
        "97369cf4b242fdb7"
      ]
    ]
  },
  {
    "id": "c5d646bd69c37865",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "air conditioner",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6060,
    "y": 6040,
    "wires": [
      [
        "9d8b8d237e2704ea"
      ]
    ]
  },
  {
    "id": "9d8b8d237e2704ea",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "room - ui - air conditioner - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6195,
    "y": 6040,
    "wires": []
  },
  {
    "id": "4da4c768067c032b",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "mode",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "fan rate",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "fan direction",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "advanced",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "temperature setpoint",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 6,
    "x": 5630,
    "y": 6220,
    "wires": [
      [
        "327f0ed7b5fa48d2"
      ],
      [
        "f68f5c75e58e22cb"
      ],
      [
        "dcfb0cd127aa904e"
      ],
      [
        "22c8ba7a5b818ab1"
      ],
      [
        "7edfb7f3d98dd2b8"
      ],
      [
        "4205795bed6b3290",
        "a8dd4b383d7eb632"
      ]
    ]
  },
  {
    "id": "b5f5495cad639af5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6100,
    "wires": [
      [
        "a8dd4b383d7eb632",
        "4205795bed6b3290"
      ]
    ]
  },
  {
    "id": "12fca45ce9ab2abb",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "air conditioner",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 5980,
    "wires": [
      [
        "932e7fad1c98966f",
        "2a45ad61a4b3d598"
      ]
    ]
  },
  {
    "id": "c6383ca66673fd96",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun climatiseur",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 5920,
    "wires": [
      [
        "cd9ba8ff11c8036d"
      ]
    ]
  },
  {
    "id": "cd9ba8ff11c8036d",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 5920,
    "wires": []
  },
  {
    "id": "f520ba0c172598b7",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 5980,
    "wires": [
      []
    ]
  },
  {
    "id": "327f0ed7b5fa48d2",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "power",
    "label": "Marche",
    "group": "3b3e6fe6f656ea0e",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 6040,
    "wires": [
      [
        "c5d646bd69c37865"
      ]
    ]
  },
  {
    "id": "f68f5c75e58e22cb",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "name": "mode",
    "label": "Mode",
    "tooltip": "",
    "order": 3,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "Froid",
        "value": "3",
        "type": "str"
      },
      {
        "label": "Chaud",
        "value": "4",
        "type": "str"
      },
      {
        "label": "Ventilation",
        "value": "6",
        "type": "str"
      },
      {
        "label": "Auto (0)",
        "value": "0",
        "type": "str"
      },
      {
        "label": "Auto (1)",
        "value": "1",
        "type": "str"
      },
      {
        "label": "Auto (7)",
        "value": "7",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "mode",
    "topicType": "str",
    "className": "",
    "x": 5790,
    "y": 6100,
    "wires": [
      [
        "c5d646bd69c37865"
      ]
    ]
  },
  {
    "id": "a8dd4b383d7eb632",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "name": "temperature setpoint",
    "label": "",
    "tooltip": "",
    "order": 7,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "temperature setpoint",
    "topicType": "str",
    "thumbLabel": true,
    "min": "18",
    "max": "31",
    "step": "1",
    "className": "",
    "x": 5840,
    "y": 6400,
    "wires": [
      [
        "c5d646bd69c37865"
      ]
    ]
  },
  {
    "id": "4205795bed6b3290",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "order": 6,
    "width": "1",
    "height": "1",
    "name": "temperature setpoint (txt)",
    "label": "Consigne",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5850,
    "y": 6340,
    "wires": []
  },
  {
    "id": "2a45ad61a4b3d598",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 6220,
    "wires": [
      [
        "4da4c768067c032b"
      ]
    ]
  },
  {
    "id": "dcfb0cd127aa904e",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "name": "fan rate",
    "label": "Ventilation",
    "tooltip": "",
    "order": 4,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "Silence",
        "value": "B",
        "type": "str"
      },
      {
        "label": "Froid",
        "value": "3",
        "type": "str"
      },
      {
        "label": "Chaud",
        "value": "4",
        "type": "str"
      },
      {
        "label": "Ventilation",
        "value": "6",
        "type": "str"
      },
      {
        "label": "Auto",
        "value": "A",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "fan rate",
    "topicType": "str",
    "className": "",
    "x": 5800,
    "y": 6160,
    "wires": [
      [
        "c5d646bd69c37865"
      ]
    ]
  },
  {
    "id": "22c8ba7a5b818ab1",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "name": "fan direction",
    "label": "Direction",
    "tooltip": "",
    "order": 5,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "Normal",
        "value": "0",
        "type": "str"
      },
      {
        "label": "Vertical",
        "value": "1",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "fan direction",
    "topicType": "str",
    "className": "",
    "x": 5810,
    "y": 6220,
    "wires": [
      [
        "c5d646bd69c37865"
      ]
    ]
  },
  {
    "id": "97369cf4b242fdb7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "group": "3b3e6fe6f656ea0e",
    "order": 0,
    "width": "6",
    "height": "1",
    "name": "advanced",
    "label": "Avancé",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5960,
    "y": 6280,
    "wires": []
  },
  {
    "id": "7edfb7f3d98dd2b8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a0938dfc54b55acc",
    "name": "trans",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=\"2\"?'Puissant':(msg.payload=\"12\"?'Economique':'Normal')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 6280,
    "wires": [
      [
        "97369cf4b242fdb7"
      ]
    ]
  },
  {
    "id": "d5a2226e7f24deda",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "high",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "low",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "volume",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 4,
    "x": 5630,
    "y": 6760,
    "wires": [
      [
        "dbac3472fc6c8c6b"
      ],
      [
        "e61351b02452479b"
      ],
      [
        "4635fe1f7e4a367f"
      ],
      [
        "626e1746ced16a4c"
      ]
    ]
  },
  {
    "id": "fc6548d30b49e4d0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "alexa",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5980,
    "y": 6640,
    "wires": [
      [
        "8a6f97848d7b1a2c"
      ]
    ]
  },
  {
    "id": "c72c85a05c057eb6",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "room - ui - alexa - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 6580,
    "wires": [
      [
        "63f153f048b1295f"
      ]
    ]
  },
  {
    "id": "5f5234be5bf42b3a",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "room - ui - alexa - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 6520,
    "wires": [
      [
        "01cf02dbabfb3096",
        "2723a51ead34599a",
        "130d6f3ddbbffdae"
      ]
    ]
  },
  {
    "id": "8a6f97848d7b1a2c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "room - ui - alexa - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6115,
    "y": 6640,
    "wires": []
  },
  {
    "id": "63f153f048b1295f",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "alexa",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 6580,
    "wires": [
      [
        "2923cfe0def7c0ad",
        "7475623aa0893639"
      ]
    ]
  },
  {
    "id": "01cf02dbabfb3096",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6700,
    "wires": [
      [
        "e61351b02452479b",
        "4635fe1f7e4a367f",
        "626e1746ced16a4c"
      ]
    ]
  },
  {
    "id": "130d6f3ddbbffdae",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6640,
    "wires": [
      [
        "dbac3472fc6c8c6b"
      ]
    ]
  },
  {
    "id": "2923cfe0def7c0ad",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Alexa\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6580,
    "wires": [
      [
        "ecf7b9d277d80279",
        "f1f8c53efd3838a8"
      ]
    ]
  },
  {
    "id": "2723a51ead34599a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Alexa\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6520,
    "wires": [
      [
        "f1f8c53efd3838a8",
        "ecf7b9d277d80279"
      ]
    ]
  },
  {
    "id": "f1f8c53efd3838a8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun assistant Alexa",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 6520,
    "wires": [
      [
        "a1ac1aa658d58387"
      ]
    ]
  },
  {
    "id": "a1ac1aa658d58387",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "group": "e807a144dac63624",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 6520,
    "wires": []
  },
  {
    "id": "ecf7b9d277d80279",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 6580,
    "wires": [
      []
    ]
  },
  {
    "id": "e61351b02452479b",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "group": "e807a144dac63624",
    "name": "high",
    "label": "Fort",
    "tooltip": "",
    "order": 4,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "high",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": "1",
    "className": "",
    "x": 5790,
    "y": 6700,
    "wires": [
      [
        "fc6548d30b49e4d0"
      ]
    ]
  },
  {
    "id": "4635fe1f7e4a367f",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "group": "e807a144dac63624",
    "name": "low",
    "label": "Faible",
    "tooltip": "",
    "order": 5,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "low",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": "1",
    "className": "",
    "x": 5790,
    "y": 6760,
    "wires": [
      [
        "fc6548d30b49e4d0"
      ]
    ]
  },
  {
    "id": "dbac3472fc6c8c6b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "",
    "label": "Actif",
    "group": "e807a144dac63624",
    "order": 3,
    "width": "6",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "",
    "oncolor": "",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "",
    "offcolor": "",
    "x": 5790,
    "y": 6640,
    "wires": [
      [
        "fc6548d30b49e4d0"
      ]
    ]
  },
  {
    "id": "7475623aa0893639",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 6760,
    "wires": [
      [
        "d5a2226e7f24deda"
      ]
    ]
  },
  {
    "id": "626e1746ced16a4c",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "48dd7d439fba9eda",
    "group": "e807a144dac63624",
    "name": "volume",
    "label": "Volume",
    "tooltip": "",
    "order": 2,
    "width": "6",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "volume",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": "1",
    "className": "",
    "x": 5800,
    "y": 6820,
    "wires": [
      [
        "fc6548d30b49e4d0"
      ]
    ]
  },
  {
    "id": "a2a26d3c15589044",
    "type": "catch",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "catch error",
    "scope": null,
    "uncaught": false,
    "x": 620,
    "y": 60,
    "wires": [
      [
        "fcaaaca3a27426b7"
      ]
    ]
  },
  {
    "id": "fcaaaca3a27426b7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "topic",
    "rules": [
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "room",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 60,
    "wires": [
      [
        "69fc7c7c14fa81f3"
      ]
    ]
  },
  {
    "id": "69fc7c7c14fa81f3",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "catch error",
    "mode": "link",
    "links": [
      "a52f0e788cd4dca3"
    ],
    "x": 915,
    "y": 60,
    "wires": []
  },
  {
    "id": "ec99f621f7253cd7",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "group": "1a2635629b812ca3",
    "name": "chart temperature",
    "label": "",
    "order": 9007199254740991,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#1f77b4",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 1170,
    "y": 2340,
    "wires": [
      []
    ]
  },
  {
    "id": "023b97f731941ec8",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 780,
    "y": 2340,
    "wires": [
      [
        "20c48f73de388537",
        "c1d200de7bed7d83"
      ]
    ]
  },
  {
    "id": "d83b592e2491dcb6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 60s, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"temperature\"\t  )'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 590,
    "y": 2340,
    "wires": [
      [
        "023b97f731941ec8"
      ]
    ]
  },
  {
    "id": "e44987d599f2b366",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "room - ui - chart temperature - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 2340,
    "wires": [
      [
        "b6d352f0739c9c5d"
      ]
    ]
  },
  {
    "id": "b6d352f0739c9c5d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "temperature",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 360,
    "y": 2340,
    "wires": [
      [
        "d83b592e2491dcb6"
      ]
    ]
  },
  {
    "id": "e01a8d98754f1f85",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "room - ui - chart temperature - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 2220,
    "wires": [
      [
        "fc6afa9a094180d3"
      ]
    ]
  },
  {
    "id": "3918bb15caaf1ec5",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "group": "1a2635629b812ca3",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1310,
    "y": 2220,
    "wires": []
  },
  {
    "id": "4a56f9148bd23d8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé de température",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1140,
    "y": 2220,
    "wires": [
      [
        "3918bb15caaf1ec5"
      ]
    ]
  },
  {
    "id": "fc6afa9a094180d3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Température\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2220,
    "wires": [
      [
        "44d4e7ddd6c2f416",
        "4a56f9148bd23d8e"
      ]
    ]
  },
  {
    "id": "c1d200de7bed7d83",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Température\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2280,
    "wires": [
      [
        "44d4e7ddd6c2f416",
        "4a56f9148bd23d8e"
      ]
    ]
  },
  {
    "id": "44d4e7ddd6c2f416",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1140,
    "y": 2280,
    "wires": [
      []
    ]
  },
  {
    "id": "20c48f73de388537",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2340,
    "wires": [
      [
        "ec99f621f7253cd7"
      ]
    ]
  },
  {
    "id": "1f143110084f2d12",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "group": "e41130e3f4e3f1fe",
    "name": "chart humidity",
    "label": "",
    "order": 9007199254740991,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#1f77b4",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 1160,
    "y": 2580,
    "wires": [
      []
    ]
  },
  {
    "id": "c95545cb575e900a",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 780,
    "y": 2580,
    "wires": [
      [
        "238894bac5405d86",
        "40fb52f0b9b6d6f8"
      ]
    ]
  },
  {
    "id": "a521b0c77c8e1b96",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 60s, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"humidity\"\t  )'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 590,
    "y": 2580,
    "wires": [
      [
        "c95545cb575e900a"
      ]
    ]
  },
  {
    "id": "057bd2913e07a3dc",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "room - ui - chart humidity - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 2580,
    "wires": [
      [
        "588f7e8cf7861975"
      ]
    ]
  },
  {
    "id": "588f7e8cf7861975",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 360,
    "y": 2580,
    "wires": [
      [
        "a521b0c77c8e1b96"
      ]
    ]
  },
  {
    "id": "feae7dc17ccbe84b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "room - ui - chart humidity - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 2460,
    "wires": [
      [
        "13bb4993d29c190f"
      ]
    ]
  },
  {
    "id": "40fb52f0b9b6d6f8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Humidité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2520,
    "wires": [
      [
        "4fac1159c7fb1196",
        "280a3b24aff09fd6"
      ]
    ]
  },
  {
    "id": "5943f812794763bb",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "group": "e41130e3f4e3f1fe",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1310,
    "y": 2460,
    "wires": []
  },
  {
    "id": "280a3b24aff09fd6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé d'humidité",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1140,
    "y": 2460,
    "wires": [
      [
        "5943f812794763bb"
      ]
    ]
  },
  {
    "id": "13bb4993d29c190f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Humidité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2460,
    "wires": [
      [
        "4fac1159c7fb1196",
        "280a3b24aff09fd6"
      ]
    ]
  },
  {
    "id": "4fac1159c7fb1196",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1140,
    "y": 2520,
    "wires": [
      []
    ]
  },
  {
    "id": "238894bac5405d86",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2580,
    "wires": [
      [
        "1f143110084f2d12"
      ]
    ]
  },
  {
    "id": "ff3ea6db082a3ede",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 2,
    "width": "1",
    "height": "1",
    "name": "current",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1460,
    "y": 3480,
    "wires": []
  },
  {
    "id": "7a8446bfe5858de9",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 1,
    "width": "5",
    "height": "1",
    "name": "power",
    "label": "Puissance",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1450,
    "y": 3420,
    "wires": []
  },
  {
    "id": "7ca84197b56de1f6",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 4,
    "width": "6",
    "height": "1",
    "name": "tariff",
    "label": "Tarif",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1450,
    "y": 3540,
    "wires": []
  },
  {
    "id": "5f8cd6bd9f561403",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 5,
    "width": "6",
    "height": "1",
    "name": "conso_total_today",
    "label": "Consommation ajourdh'ui",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1490,
    "y": 3600,
    "wires": []
  },
  {
    "id": "3c5b954c4db04bdb",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 6,
    "width": "6",
    "height": "1",
    "name": "conso_total_yesturday",
    "label": "Consommation hier",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1500,
    "y": 3660,
    "wires": []
  },
  {
    "id": "3a816c9d45c03626",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 900,
    "y": 3600,
    "wires": [
      [
        "6ef64156f6aee952"
      ]
    ]
  },
  {
    "id": "d387848d485bbad4",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "import \"date\"\nfrom(bucket: \"linky\")\n  |> range(start: date.truncate(t:-1d,unit:1d), stop: date.truncate(t:0d,unit:1d))\n  |> filter(fn: (r) =>\n    r._field == \"conso_total_day\"\n  )\n  |> aggregateWindow(every: 24h, fn: max)",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 900,
    "y": 3660,
    "wires": [
      [
        "ab09e46f4313cec3"
      ]
    ]
  },
  {
    "id": "88b4fa01095bf6be",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "payload.0['_value']",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "$round($number(msg.payload)/1000, 1)&'kWh'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 3600,
    "wires": [
      [
        "5f8cd6bd9f561403"
      ]
    ]
  },
  {
    "id": "9afdec924f923d90",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "payload.0['_value']",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "$round(msg.payload/1000, 1)&'kWh'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 3660,
    "wires": [
      [
        "3c5b954c4db04bdb"
      ]
    ]
  },
  {
    "id": "6ef64156f6aee952",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "has values",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nempty"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1110,
    "y": 3600,
    "wires": [
      [
        "88b4fa01095bf6be"
      ]
    ]
  },
  {
    "id": "ab09e46f4313cec3",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "has values",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nempty"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1110,
    "y": 3660,
    "wires": [
      [
        "9afdec924f923d90"
      ]
    ]
  },
  {
    "id": "88a3ebf72baa83c9",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "room - ui - chart temperature - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 3240,
    "wires": [
      [
        "76f6a0873cbd318f",
        "ce16a38c205cea88"
      ]
    ]
  },
  {
    "id": "7bde9e5371850ec6",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "group": "",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1630,
    "y": 3240,
    "wires": []
  },
  {
    "id": "94a9afc0489abcb3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun compteur d'énergie",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1460,
    "y": 3240,
    "wires": [
      [
        "7bde9e5371850ec6"
      ]
    ]
  },
  {
    "id": "76f6a0873cbd318f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Electricité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 3240,
    "wires": [
      [
        "2c63dd2b7c70df86",
        "94a9afc0489abcb3"
      ]
    ]
  },
  {
    "id": "a86d64f42452a3b7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Electricité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 3300,
    "wires": [
      [
        "2c63dd2b7c70df86",
        "94a9afc0489abcb3"
      ]
    ]
  },
  {
    "id": "2c63dd2b7c70df86",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1460,
    "y": 3300,
    "wires": [
      []
    ]
  },
  {
    "id": "ce16a38c205cea88",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune donnée",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 3360,
    "wires": [
      [
        "7a8446bfe5858de9",
        "ff3ea6db082a3ede",
        "7ca84197b56de1f6",
        "5f8cd6bd9f561403",
        "3c5b954c4db04bdb"
      ]
    ]
  },
  {
    "id": "223c9437360c96cb",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "room - ui - seen - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 3300,
    "wires": [
      [
        "8a1c1129f96fc4f7"
      ]
    ]
  },
  {
    "id": "8a1c1129f96fc4f7",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "power",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "current",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "tariff",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 300,
    "y": 3300,
    "wires": [
      [
        "a86d64f42452a3b7",
        "674e46c767bb1ff9",
        "636a8238144e0df5"
      ],
      [
        "a86d64f42452a3b7",
        "53c25ef43112837d"
      ],
      [
        "a86d64f42452a3b7",
        "da46e6b6c18a5350"
      ]
    ]
  },
  {
    "id": "2da12c408933c87b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload&'W'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1280,
    "y": 3420,
    "wires": [
      [
        "7a8446bfe5858de9"
      ]
    ]
  },
  {
    "id": "9725fd4ac3730948",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'('&msg.payload&'A)'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1280,
    "y": 3480,
    "wires": [
      [
        "ff3ea6db082a3ede"
      ]
    ]
  },
  {
    "id": "bb91528b79a7fef4",
    "type": "function",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "HP/HC",
    "func": "if (msg.payload=='HP'){\n    msg.payload='Heures pleines';\n} else {\n    msg.payload='Heures creuses';\n}\nreturn msg;",
    "outputs": 1,
    "timeout": "",
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 1280,
    "y": 3540,
    "wires": [
      [
        "7ca84197b56de1f6"
      ]
    ]
  },
  {
    "id": "5ee9de3d5907e482",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "",
    "pauseType": "rate",
    "timeout": "5",
    "timeoutUnits": "seconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "minute",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": true,
    "allowrate": false,
    "outputs": 1,
    "x": 680,
    "y": 3600,
    "wires": [
      [
        "3a816c9d45c03626",
        "d387848d485bbad4"
      ]
    ]
  },
  {
    "id": "f8bf0c474caebb26",
    "type": "comment",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "from db bucket linky",
    "info": "",
    "x": 690,
    "y": 3660,
    "wires": []
  },
  {
    "id": "da46e6b6c18a5350",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "40 ms",
    "pauseType": "delay",
    "timeout": "40",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 490,
    "y": 3540,
    "wires": [
      [
        "bb91528b79a7fef4"
      ]
    ]
  },
  {
    "id": "53c25ef43112837d",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "40 ms",
    "pauseType": "delay",
    "timeout": "40",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 490,
    "y": 3480,
    "wires": [
      [
        "9725fd4ac3730948"
      ]
    ]
  },
  {
    "id": "674e46c767bb1ff9",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "40 ms",
    "pauseType": "delay",
    "timeout": "40",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 490,
    "y": 3420,
    "wires": [
      [
        "2da12c408933c87b"
      ]
    ]
  },
  {
    "id": "636a8238144e0df5",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "37f02e75f6e70daa",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 490,
    "y": 3600,
    "wires": [
      [
        "5ee9de3d5907e482"
      ]
    ]
  },
  {
    "id": "44795f19725dfb16",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "name": "chart power",
    "label": "",
    "order": 5,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "150",
    "colors": [
      "#1f77b4",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 1530,
    "y": 3000,
    "wires": [
      []
    ]
  },
  {
    "id": "2b909499790cab01",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 1160,
    "y": 3000,
    "wires": [
      [
        "5cc27b9e016bbe1b"
      ]
    ]
  },
  {
    "id": "73cb2cee63b22726",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 10m, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"'&msg.measurement&'\" and r._field == \"'&msg.field&'\"\t  )'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 3000,
    "wires": [
      [
        "2b909499790cab01"
      ]
    ]
  },
  {
    "id": "eeab0942d3417e79",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "room - ui - chart power - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 2880,
    "wires": [
      [
        "fea7dd1138155750"
      ]
    ]
  },
  {
    "id": "012dbd0798e129d0",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "check if field exists",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "electric meter",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "solar panels",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 770,
    "y": 2880,
    "wires": [
      [
        "73cb2cee63b22726",
        "ce300a4fa3da028b"
      ],
      [
        "73cb2cee63b22726",
        "ce300a4fa3da028b"
      ]
    ]
  },
  {
    "id": "23dabc507247dfc0",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "room - ui - chart power - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 2700,
    "wires": [
      [
        "ecd8bf936f027cdc",
        "4ca2710a68ee8cf7"
      ]
    ]
  },
  {
    "id": "992ae204a4e2dac4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Puissance électrique\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 2760,
    "wires": [
      [
        "c60c3603ff04bca1",
        "b9f8b477c288e0f0"
      ]
    ]
  },
  {
    "id": "32acac8443b52345",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1690,
    "y": 2700,
    "wires": []
  },
  {
    "id": "b9f8b477c288e0f0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé de puissance",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1520,
    "y": 2700,
    "wires": [
      [
        "32acac8443b52345"
      ]
    ]
  },
  {
    "id": "ecd8bf936f027cdc",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Puissance électrique\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 2700,
    "wires": [
      [
        "c60c3603ff04bca1",
        "b9f8b477c288e0f0"
      ]
    ]
  },
  {
    "id": "c60c3603ff04bca1",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1520,
    "y": 2760,
    "wires": [
      []
    ]
  },
  {
    "id": "5cc27b9e016bbe1b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 3000,
    "wires": [
      [
        "44795f19725dfb16"
      ]
    ]
  },
  {
    "id": "fea7dd1138155750",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "power",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "tariff",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 340,
    "y": 2880,
    "wires": [
      [
        "3506806a53b51ad4"
      ],
      [
        "69a335eac7fb4998"
      ]
    ]
  },
  {
    "id": "ce300a4fa3da028b",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1000,
    "y": 2880,
    "wires": [
      [
        "acd8bdd056e44c39",
        "5c3172390ae5eefb",
        "992ae204a4e2dac4"
      ]
    ]
  },
  {
    "id": "42f15ae606bcd5c0",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "field",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1510,
    "y": 2880,
    "wires": []
  },
  {
    "id": "acd8bdd056e44c39",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1340,
    "y": 2880,
    "wires": [
      [
        "42f15ae606bcd5c0"
      ]
    ]
  },
  {
    "id": "5c3172390ae5eefb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload&'W'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1340,
    "y": 2940,
    "wires": [
      [
        "898d54359ae10f09"
      ]
    ]
  },
  {
    "id": "898d54359ae10f09",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 3,
    "width": "1",
    "height": "1",
    "name": "power",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1510,
    "y": 2940,
    "wires": []
  },
  {
    "id": "3506806a53b51ad4",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "40 ms",
    "pauseType": "delay",
    "timeout": "40",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 570,
    "y": 2880,
    "wires": [
      [
        "012dbd0798e129d0"
      ]
    ]
  },
  {
    "id": "4ca2710a68ee8cf7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 2820,
    "wires": [
      [
        "44795f19725dfb16",
        "42f15ae606bcd5c0",
        "898d54359ae10f09",
        "61b1903f970a1cda"
      ]
    ]
  },
  {
    "id": "dac472279b8e26a6",
    "type": "function",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "HP/HC",
    "func": "if (msg.payload=='HP'){\n    msg.payload='Heures pleines';\n} else {\n    msg.payload='Heures creuses';\n}\nmsg.class = '';\nreturn msg;",
    "outputs": 1,
    "timeout": "",
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 740,
    "y": 3060,
    "wires": [
      [
        "61b1903f970a1cda"
      ]
    ]
  },
  {
    "id": "61b1903f970a1cda",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 4,
    "width": "6",
    "height": "1",
    "name": "tariff",
    "label": "Tarif",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1510,
    "y": 3060,
    "wires": []
  },
  {
    "id": "69a335eac7fb4998",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "40 ms",
    "pauseType": "delay",
    "timeout": "40",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 570,
    "y": 3060,
    "wires": [
      [
        "dac472279b8e26a6"
      ]
    ]
  },
  {
    "id": "5c7542a83bbabb35",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "options[0]",
        "pt": "msg",
        "to": "{'label':'select','value':''}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 360,
    "wires": [
      [
        "e67a8cdad7117ce2"
      ]
    ]
  },
  {
    "id": "c35b2b2e8f2b4219",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "cumulus.options",
        "pt": "flow",
        "to": "[]",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5810,
    "y": 540,
    "wires": [
      [
        "92754828aa30243d"
      ]
    ]
  },
  {
    "id": "92754828aa30243d",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "bucket",
    "x": 5990,
    "y": 540,
    "wires": [
      [
        "473d6854093e32df"
      ]
    ]
  },
  {
    "id": "473d6854093e32df",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "measurement",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "hask",
        "v": "tariff",
        "vt": "str"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 6180,
    "y": 540,
    "wires": [
      [
        "109b8b2fe8df33cb"
      ],
      [
        "d51ca92136da8ea4"
      ]
    ]
  },
  {
    "id": "109b8b2fe8df33cb",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "field",
    "property": "payload.current",
    "propertyType": "msg",
    "rules": [
      {
        "t": "hask",
        "v": "electric meter",
        "vt": "str"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 6370,
    "y": 480,
    "wires": [
      [
        "98eb7016dea145b8"
      ],
      [
        "d51ca92136da8ea4"
      ]
    ]
  },
  {
    "id": "98eb7016dea145b8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "add",
    "rules": [
      {
        "t": "set",
        "p": "cumulus_options",
        "pt": "msg",
        "to": "cumulus.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "cumulus_count",
        "pt": "msg",
        "to": "$count(msg.cumulus_options)-1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "cumulus_count",
        "pt": "msg",
        "to": "msg.cumulus_count+1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "cumulus_options[msg.cumulus_count]",
        "pt": "msg",
        "to": "{\t    'label': msg.bucket&'/tariff/electric meter',\t    'value': msg.bucket&'/tariff/electric meter'\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "cumulus.options",
        "pt": "flow",
        "to": "cumulus_options",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6530,
    "y": 480,
    "wires": [
      [
        "d51ca92136da8ea4"
      ]
    ]
  },
  {
    "id": "d51ca92136da8ea4",
    "type": "join",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "",
    "mode": "auto",
    "build": "object",
    "property": "payload",
    "propertyType": "msg",
    "key": "topic",
    "joiner": "\\n",
    "joinerType": "str",
    "accumulate": "false",
    "timeout": "",
    "count": "",
    "reduceRight": false,
    "x": 6690,
    "y": 540,
    "wires": [
      [
        "56484d472a10cece"
      ]
    ]
  },
  {
    "id": "56484d472a10cece",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "cumulus.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "old_payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6860,
    "y": 540,
    "wires": [
      [
        "e67a8cdad7117ce2"
      ]
    ]
  },
  {
    "id": "e67a8cdad7117ce2",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "name": "electric meter",
    "label": "Compteur électrique :",
    "tooltip": "",
    "order": 3,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "electric meter",
    "topicType": "str",
    "className": "",
    "x": 7060,
    "y": 480,
    "wires": [
      [
        "6d4b70fa6bba8616"
      ]
    ]
  },
  {
    "id": "0691d9a37686f464",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5630,
    "y": 7120,
    "wires": [
      [
        "6495af71a7195bb4",
        "4edb12baad4c5bd0"
      ]
    ]
  },
  {
    "id": "3c6ee783748b235e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "telegram",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6320,
    "y": 7060,
    "wires": [
      [
        "1d6b2ca73ae11560"
      ]
    ]
  },
  {
    "id": "761cb37547fe4dc2",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "room - ui - telegram - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5115,
    "y": 7240,
    "wires": [
      [
        "befe8bfd3d3446cc"
      ]
    ]
  },
  {
    "id": "a033c6dbdefb80f9",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "room - ui - telegram - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5115,
    "y": 6940,
    "wires": [
      [
        "45ec5e8001fad3fa",
        "2936573edcac41e4",
        "49f151ae87de3745"
      ]
    ]
  },
  {
    "id": "1d6b2ca73ae11560",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "room - ui - alexa - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 6455,
    "y": 7060,
    "wires": []
  },
  {
    "id": "befe8bfd3d3446cc",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "telegram",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5280,
    "y": 7240,
    "wires": [
      [
        "661f755eabe3c32b",
        "bf793e9865c9e834"
      ]
    ]
  },
  {
    "id": "2936573edcac41e4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 7060,
    "wires": [
      [
        "6495af71a7195bb4",
        "4edb12baad4c5bd0"
      ]
    ]
  },
  {
    "id": "661f755eabe3c32b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Telegram\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 7000,
    "wires": [
      [
        "42cb1c19195b7aaf",
        "9c9162236e4b23a6"
      ]
    ]
  },
  {
    "id": "45ec5e8001fad3fa",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Telegram\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 6940,
    "wires": [
      [
        "9c9162236e4b23a6",
        "42cb1c19195b7aaf"
      ]
    ]
  },
  {
    "id": "9c9162236e4b23a6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun assistant Telegram",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 6940,
    "wires": [
      [
        "ce9aca3509c7c320"
      ]
    ]
  },
  {
    "id": "ce9aca3509c7c320",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "group": "cfbed463c3e70b05",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 6940,
    "wires": []
  },
  {
    "id": "42cb1c19195b7aaf",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 5800,
    "y": 7000,
    "wires": [
      []
    ]
  },
  {
    "id": "6495af71a7195bb4",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "actif",
    "label": "",
    "group": "cfbed463c3e70b05",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "cog-play",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "cog-off-outline",
    "offcolor": "grey",
    "x": 5790,
    "y": 7060,
    "wires": [
      [
        "3c6ee783748b235e"
      ]
    ]
  },
  {
    "id": "bf793e9865c9e834",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5470,
    "y": 7240,
    "wires": [
      [
        "0691d9a37686f464",
        "5ab53f45b766d97b"
      ]
    ]
  },
  {
    "id": "5f4fe9067e1fd9a0",
    "type": "ui-text-input",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "group": "cfbed463c3e70b05",
    "name": "",
    "label": "Message",
    "order": 2,
    "width": "5",
    "height": "1",
    "topic": "topic",
    "topicType": "msg",
    "mode": "text",
    "delay": 300,
    "passthru": true,
    "sendOnDelay": false,
    "sendOnBlur": true,
    "sendOnEnter": true,
    "className": "",
    "x": 5800,
    "y": 7180,
    "wires": [
      [
        "b4a9884f6b553123"
      ]
    ]
  },
  {
    "id": "05b5a24c1547eb9a",
    "type": "ui-button",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "group": "cfbed463c3e70b05",
    "name": "send",
    "label": "",
    "order": 3,
    "width": "1",
    "height": "1",
    "emulateClick": false,
    "tooltip": "",
    "color": "",
    "bgcolor": "",
    "className": "",
    "icon": "send",
    "iconPosition": "left",
    "payload": "",
    "payloadType": "str",
    "topic": "message",
    "topicType": "str",
    "x": 5790,
    "y": 7240,
    "wires": [
      [
        "12697008ac3ea99d"
      ]
    ]
  },
  {
    "id": "b4a9884f6b553123",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "flow",
    "rules": [
      {
        "t": "set",
        "p": "telegram.content",
        "pt": "flow",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5970,
    "y": 7180,
    "wires": [
      []
    ]
  },
  {
    "id": "5ab53f45b766d97b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "empty",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 7240,
    "wires": [
      [
        "5f4fe9067e1fd9a0"
      ]
    ]
  },
  {
    "id": "86f604b24a73308c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "telegram.content",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6140,
    "y": 7240,
    "wires": [
      [
        "5ab53f45b766d97b",
        "25609df681da5c1b",
        "3c6ee783748b235e"
      ]
    ]
  },
  {
    "id": "25609df681da5c1b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "set notification metric",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "system",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "notification",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "message",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Message telegram envoyé",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6360,
    "y": 7240,
    "wires": [
      [
        "d2194c4dad790ec4"
      ]
    ]
  },
  {
    "id": "d2194c4dad790ec4",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "telegram - ui - notification",
    "mode": "link",
    "links": [
      "206c1fb4a48067df"
    ],
    "x": 6535,
    "y": 7240,
    "wires": []
  },
  {
    "id": "49f151ae87de3745",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 7180,
    "wires": [
      [
        "5f4fe9067e1fd9a0"
      ]
    ]
  },
  {
    "id": "12697008ac3ea99d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "flow",
    "property": "telegram.content",
    "propertyType": "flow",
    "rules": [
      {
        "t": "nempty"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5970,
    "y": 7240,
    "wires": [
      [
        "86f604b24a73308c"
      ]
    ]
  },
  {
    "id": "9775046f290c1bf5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 1860,
    "wires": [
      [
        "b7732e5da33d4247",
        "0ff03eeb1954d8f2"
      ]
    ]
  },
  {
    "id": "c32cc33c321acd07",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "camera",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1080,
    "y": 2040,
    "wires": [
      [
        "8c7c93ce9d3d346c"
      ]
    ]
  },
  {
    "id": "8c7c93ce9d3d346c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "room - ui - camera - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 1215,
    "y": 2040,
    "wires": []
  },
  {
    "id": "b7732e5da33d4247",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "snapshot",
    "label": "",
    "group": "0083c332a401849d",
    "order": 4,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "snapshot",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "camera-wireless",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "camera-off-outline",
    "offcolor": "grey",
    "x": 900,
    "y": 2040,
    "wires": [
      [
        "c32cc33c321acd07"
      ]
    ]
  },
  {
    "id": "ae7ba0058dad62d1",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "20 ms",
    "pauseType": "delay",
    "timeout": "20",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 730,
    "y": 2040,
    "wires": [
      [
        "b7732e5da33d4247",
        "8dfe90979253107e"
      ]
    ]
  },
  {
    "id": "ff2211c1efd24971",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture delay",
    "label": "",
    "tooltip": "",
    "order": 29,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "aperture delay",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "30",
    "step": 1,
    "className": "",
    "x": 5820,
    "y": 4160,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f814aebd5bd599b5",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "offloading delay",
    "label": "",
    "tooltip": "",
    "order": 27,
    "width": "5",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "offloading delay",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "60",
    "step": 1,
    "className": "",
    "x": 5820,
    "y": 4280,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "8c3c9bc4a66b1e32",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 28,
    "width": "1",
    "height": "1",
    "name": "aperture delay(txt)",
    "label": "T. ouvrant",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5830,
    "y": 4100,
    "wires": []
  },
  {
    "id": "33fde1af7428bf26",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 26,
    "width": "1",
    "height": "1",
    "name": "offloading delay(txt)",
    "label": "T. délestage",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5830,
    "y": 4220,
    "wires": []
  },
  {
    "id": "0711217590341f99",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "thermostat.options",
        "pt": "flow",
        "to": "[]",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "thermostat.options[0]",
        "pt": "flow",
        "to": "{\t    'label': 'non assigné',\t    'value': ''\t}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5650,
    "y": 4640,
    "wires": [
      [
        "3930f84bd36fd5aa"
      ]
    ]
  },
  {
    "id": "3930f84bd36fd5aa",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "bucket",
    "x": 5830,
    "y": 4640,
    "wires": [
      [
        "b6f3145afc37707c"
      ]
    ]
  },
  {
    "id": "b6f3145afc37707c",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 5990,
    "y": 4640,
    "wires": [
      [
        "7a9f4d42d5c7497c"
      ]
    ]
  },
  {
    "id": "7a9f4d42d5c7497c",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "aperture",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 6180,
    "y": 4640,
    "wires": [
      [
        "dd517b4d06983aac"
      ]
    ]
  },
  {
    "id": "dd517b4d06983aac",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "field",
    "x": 6370,
    "y": 4640,
    "wires": [
      [
        "e7dcdd83cf9e08e1"
      ]
    ]
  },
  {
    "id": "e7dcdd83cf9e08e1",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "shutter",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 6530,
    "y": 4640,
    "wires": [
      [
        "73dc6a2b0e041f8e"
      ]
    ]
  },
  {
    "id": "73dc6a2b0e041f8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "add",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "$count(msg.options)-1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "msg.count+1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "options[msg.count]",
        "pt": "msg",
        "to": "{\t    'label': msg.bucket&'/aperture/'&msg.field,\t    'value': msg.bucket&'/aperture/'&msg.field\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "thermostat.options",
        "pt": "flow",
        "to": "options",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6690,
    "y": 4640,
    "wires": [
      []
    ]
  },
  {
    "id": "bcfed6ac5d278d3c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4340,
    "wires": [
      [
        "93e874f6e4a1f87a"
      ]
    ]
  },
  {
    "id": "93e874f6e4a1f87a",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 1",
    "label": "Ouverture 1 :",
    "tooltip": "",
    "order": 30,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "aperture 1",
    "topicType": "str",
    "className": "",
    "x": 5990,
    "y": 4340,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "fcbda9c625fdecac",
    "type": "rbe",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "func": "rbe",
    "gap": "",
    "start": "",
    "inout": "out",
    "septopics": false,
    "property": "bucket",
    "topi": "topic",
    "x": 5470,
    "y": 4640,
    "wires": [
      [
        "0711217590341f99"
      ]
    ]
  },
  {
    "id": "3d40410e159beaab",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 2",
    "label": "Ouverture 2 :",
    "tooltip": "",
    "order": 30,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "aperture 2",
    "topicType": "str",
    "className": "",
    "x": 5990,
    "y": 4400,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f5cf184989e2cc69",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4400,
    "wires": [
      [
        "3d40410e159beaab"
      ]
    ]
  },
  {
    "id": "4565730f04bd7072",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 3",
    "label": "Ouverture 3 :",
    "tooltip": "",
    "order": 30,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "aperture 3",
    "topicType": "str",
    "className": "",
    "x": 5990,
    "y": 4460,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "95eb528329f90cf2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4460,
    "wires": [
      [
        "4565730f04bd7072"
      ]
    ]
  },
  {
    "id": "79764253e9e92fda",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 4",
    "label": "Ouverture 4 :",
    "tooltip": "",
    "order": 30,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "aperture 4",
    "topicType": "str",
    "className": "",
    "x": 5990,
    "y": 4520,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "3e6cd35a857771f8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4520,
    "wires": [
      [
        "79764253e9e92fda"
      ]
    ]
  },
  {
    "id": "4ad97596d0efa64b",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 5",
    "label": "Ouverture 5 :",
    "tooltip": "",
    "order": 30,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "aperture 5",
    "topicType": "str",
    "className": "",
    "x": 5990,
    "y": 4580,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f19ecf4219ed5190",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5800,
    "y": 4580,
    "wires": [
      [
        "4ad97596d0efa64b"
      ]
    ]
  },
  {
    "id": "9958ae246d4edc9d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "thermostat.options",
        "pt": "flow",
        "to": "[]",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "airflow.options[0]",
        "pt": "flow",
        "to": "{\t    'label': 'non assigné',\t    'value': ''\t}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5650,
    "y": 1500,
    "wires": [
      [
        "625142605bf476a4"
      ]
    ]
  },
  {
    "id": "625142605bf476a4",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "bucket",
    "x": 5830,
    "y": 1500,
    "wires": [
      [
        "4dcfe4665aa8fabf"
      ]
    ]
  },
  {
    "id": "4dcfe4665aa8fabf",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 5990,
    "y": 1500,
    "wires": [
      [
        "ce3cb01895016d69"
      ]
    ]
  },
  {
    "id": "ce3cb01895016d69",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 6180,
    "y": 1500,
    "wires": [
      [
        "8be81912e014841a"
      ]
    ]
  },
  {
    "id": "8be81912e014841a",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "field",
    "x": 6370,
    "y": 1500,
    "wires": [
      [
        "6b8eff0718819266"
      ]
    ]
  },
  {
    "id": "6b8eff0718819266",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "add",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "$count(msg.options)-1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "msg.count+1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "options[msg.count]",
        "pt": "msg",
        "to": "{\t    'label': msg.bucket&'/humidity/'&msg.field,\t    'value': msg.bucket&'/humidity/'&msg.field\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "airflow.options",
        "pt": "flow",
        "to": "options",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6530,
    "y": 1500,
    "wires": [
      []
    ]
  },
  {
    "id": "b1ebe0e08e2084f1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 1200,
    "wires": [
      [
        "fd421d21a13fd9cd"
      ]
    ]
  },
  {
    "id": "fd421d21a13fd9cd",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity 1",
    "label": "Capteur d'humidité 1 :",
    "tooltip": "",
    "order": 3,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "humidity 1",
    "topicType": "str",
    "className": "",
    "x": 6150,
    "y": 1200,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "5994c74117a8e31c",
    "type": "rbe",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "func": "rbe",
    "gap": "",
    "start": "",
    "inout": "out",
    "septopics": false,
    "property": "bucket",
    "topi": "topic",
    "x": 5470,
    "y": 1500,
    "wires": [
      [
        "9958ae246d4edc9d"
      ]
    ]
  },
  {
    "id": "ddcf6edbc20142df",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity 2",
    "label": "Capteur d'humidité 2 :",
    "tooltip": "",
    "order": 4,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "humidity 2",
    "topicType": "str",
    "className": "",
    "x": 6150,
    "y": 1260,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "055c0a0f268053e4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 1260,
    "wires": [
      [
        "ddcf6edbc20142df"
      ]
    ]
  },
  {
    "id": "4751d9bbafc5bc21",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity 3",
    "label": "Capteur d'humidité 3 :",
    "tooltip": "",
    "order": 5,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "humidity 3",
    "topicType": "str",
    "className": "",
    "x": 6150,
    "y": 1320,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "a5bf2bb33f9ff5bb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 1320,
    "wires": [
      [
        "4751d9bbafc5bc21"
      ]
    ]
  },
  {
    "id": "16cca2765e899796",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity 4",
    "label": "Capteur d'humidité 4 :",
    "tooltip": "",
    "order": 6,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "humidity 4",
    "topicType": "str",
    "className": "",
    "x": 6150,
    "y": 1380,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "0cbdea1f752e09f9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 1380,
    "wires": [
      [
        "16cca2765e899796"
      ]
    ]
  },
  {
    "id": "3d3b69a92d3e5a3b",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "name": "humidity 5",
    "label": "Capteur d'humidité 5 :",
    "tooltip": "",
    "order": 7,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [],
    "payload": "",
    "topic": "humidity 5",
    "topicType": "str",
    "className": "",
    "x": 6150,
    "y": 1440,
    "wires": [
      [
        "661050a25f78f9a2"
      ]
    ]
  },
  {
    "id": "b2f7ebfba6bbc4d4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "airflow.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5960,
    "y": 1440,
    "wires": [
      [
        "3d3b69a92d3e5a3b"
      ]
    ]
  },
  {
    "id": "c31394b8d77d7bd8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "options[0]",
        "pt": "msg",
        "to": "{'label':'non assigné','value':''}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 960,
    "wires": [
      [
        "fd421d21a13fd9cd",
        "ddcf6edbc20142df",
        "4751d9bbafc5bc21",
        "16cca2765e899796",
        "3d3b69a92d3e5a3b"
      ]
    ]
  },
  {
    "id": "9353e083159af033",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "options[0]",
        "pt": "msg",
        "to": "{'label':'non assigné','value':''}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5630,
    "y": 2720,
    "wires": [
      [
        "93e874f6e4a1f87a",
        "3d40410e159beaab",
        "4565730f04bd7072",
        "79764253e9e92fda",
        "4ad97596d0efa64b"
      ]
    ]
  },
  {
    "id": "98ea4337ad7298c2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "order": 8,
    "width": "1",
    "height": "1",
    "name": "titmer (txt)",
    "label": "Minuterie",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5960,
    "y": 900,
    "wires": []
  },
  {
    "id": "ab9f875320713f08",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "order": 10,
    "width": "1",
    "height": "1",
    "name": "humidity (txt)",
    "label": "Humidité",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5970,
    "y": 1020,
    "wires": []
  },
  {
    "id": "8e1e779d0e2a97e2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "order": 4,
    "width": "1",
    "height": "1",
    "name": "titmer (txt)",
    "label": "Minuterie",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5800,
    "y": 300,
    "wires": []
  },
  {
    "id": "97087ce25aae4515",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "group": "cfbed463c3e70b05",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "actif (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 5960,
    "y": 7120,
    "wires": []
  },
  {
    "id": "4edb12baad4c5bd0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "35fa81df547b4491",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload?'Assistant actif':'Assistant inactif'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5790,
    "y": 7120,
    "wires": [
      [
        "97087ce25aae4515"
      ]
    ]
  },
  {
    "id": "0ff03eeb1954d8f2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "group": "0083c332a401849d",
    "order": 3,
    "width": "5",
    "height": "1",
    "name": "snapshot (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1100,
    "y": 1980,
    "wires": []
  },
  {
    "id": "8dfe90979253107e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload?'Capture de mouvement active':'Capture de mouvement inactive'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 890,
    "y": 1980,
    "wires": [
      [
        "0ff03eeb1954d8f2"
      ]
    ]
  }
]