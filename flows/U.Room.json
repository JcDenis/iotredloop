[
  {
    "id": "aab0c030de7df5cc",
    "type": "tab",
    "label": "U.Room",
    "disabled": false,
    "info": "",
    "env": []
  },
  {
    "id": "0aeb80f7dfc7025e",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - bucket",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ffC000"
    },
    "nodes": [
      "606f3caa9058900f",
      "4e6003732b266fe2",
      "68c4344a4704c54f"
    ],
    "x": 94,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "f6132c9f3c5a2911",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - metric",
    "style": {
      "fill": "#0070c0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "116de42631d4b17a",
      "f138e16b633d9429",
      "2690f4e06626ebda"
    ],
    "x": 1054,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "8ebd43deda9d56d4",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - config",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "0bdefb56ee5ef918",
      "fedaeb34f9bc97e4"
    ],
    "x": 68,
    "y": 173,
    "w": 1454,
    "h": 194
  },
  {
    "id": "b64c96e257072f51",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - selection",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "66835e34ae95f3f0",
      "9ee5e12567650c9d",
      "3b74b2448cdb18a9",
      "b2e5e7af716d4ec6",
      "aa39991b7847c574",
      "1dd86a8b8b446749",
      "3ec4a86ec9ec37f6",
      "ef424db05e8a1103",
      "1c55a9cf641c38ba",
      "4ed33d50e1b4ebc9",
      "656d1866a8ae8cf8",
      "9e4bfee0db3051d4",
      "1be6ca3c2b8615a2",
      "06976c9133796ab8",
      "9043871af737eb1a",
      "b6323e1460f6f50c",
      "dc4343f890e4a3e1",
      "57e1a96c1bf54302",
      "458c9a22f37b6191",
      "314561e371cc1d33",
      "d261fda32fe95984",
      "37a5b70ff95bdfaa",
      "a236904666d238af",
      "9ff63582ab95f6c6",
      "e5e35f07fafcaa5b",
      "cd511cc2255f17b9"
    ],
    "x": 94,
    "y": 439,
    "w": 2712,
    "h": 322
  },
  {
    "id": "094bebacb1145e5f",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - various",
    "style": {
      "label": true,
      "fill": "#777777",
      "fill-opacity": "0.05"
    },
    "nodes": [
      "4e8f7076589ea977",
      "42c0f1473438a281",
      "9b11e3a85026957b",
      "486786996f8e512b"
    ],
    "x": 68,
    "y": 2213,
    "w": 2344,
    "h": 1934
  },
  {
    "id": "f68e8c6415aca870",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "catch error",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ff0000"
    },
    "nodes": [
      "a2a26d3c15589044",
      "fcaaaca3a27426b7",
      "69fc7c7c14fa81f3"
    ],
    "x": 534,
    "y": 19,
    "w": 422,
    "h": 82
  },
  {
    "id": "1d72cb06c368a2c9",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - chart",
    "style": {
      "label": true,
      "fill": "#777777",
      "fill-opacity": "0.05"
    },
    "nodes": [
      "a3df49e3ec177d8d",
      "80f986da1d02c67c",
      "0db8801c7e0e4401"
    ],
    "x": 68,
    "y": 1253,
    "w": 2484,
    "h": 914
  },
  {
    "id": "df46e2504e16fc3e",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "home - ui - chart (customized to my needs)",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "04de52a5f5237233",
      "84416ebc7a349dd4"
    ],
    "x": 68,
    "y": 933,
    "w": 644,
    "h": 254
  },
  {
    "id": "70381517043fd6a9",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "list",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "af3293313a492113",
      "edfd321fdae55df0",
      "cfd2fc533d86ab94",
      "e9b46670bc7283be",
      "55552ce2fcab661e",
      "3a47bd390630563b",
      "65f5bcaeef2cb043",
      "14365542ae0790c8",
      "450d06a664f3f2f1",
      "04f5c0e72326d896"
    ],
    "x": 2628,
    "y": 1253,
    "w": 4654,
    "h": 6254
  },
  {
    "id": "bb2ebd173a2ba06c",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "name": "room - ui - thermostat",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "9737afb19d9c9fbb",
      "dd49b4996fb683ff",
      "fbb1bdcb44abce21",
      "6c6cf33417f59f97",
      "fc673a36d8691d63",
      "37aa96c6d80d8ade",
      "1ef76a4c1fab9b78",
      "adc6196b15cf8c39",
      "26bdcbaa93cfcc27",
      "c4f79cb042dc36a1",
      "f391ba85b3d53073",
      "7e364afe6e09d405",
      "b8374382f89b46c6",
      "5b4d546fd3646af7",
      "fafbe160c912822f",
      "f85914dec075a3d8",
      "bd8ab43b4a91a2ae",
      "19b6504e1bbece40",
      "f968a8fc298f04c3",
      "07108de5adf3ae2a",
      "bcf6468037b4c2a6",
      "37794c3da2ceda38",
      "dfd8650d923f73e4",
      "4c5adf85df17025b",
      "26537f8818c29c61",
      "a7420198a3e0f879",
      "f23d5105ca948593",
      "2efa063af4b505d2",
      "6cc81c8342d6ef1c",
      "f7ed99ce22cd37cb",
      "348134507ffe8815",
      "63561fec4fba2afd",
      "53f7b3195f6dfeed",
      "99e789a941d2af52",
      "39615dab9370d868",
      "e223793b9998818b",
      "136162f12991809c",
      "fb9711affc7d14af",
      "a9e89b46159c4ec8",
      "cb3f8f9fa322b59f",
      "51dc21bc28ea3f06",
      "272807d6b707d92f",
      "4540d4f432f8742d",
      "6d0cb16590b1da18",
      "bfb0a473b6a09c81",
      "61d316384ef1521b",
      "27d7b08fb3646a52",
      "3f9eefa51c1e5e9e",
      "ff2211c1efd24971",
      "f814aebd5bd599b5",
      "8c3c9bc4a66b1e32",
      "0711217590341f99",
      "3930f84bd36fd5aa",
      "b6f3145afc37707c",
      "7a9f4d42d5c7497c",
      "dd517b4d06983aac",
      "e7dcdd83cf9e08e1",
      "73dc6a2b0e041f8e",
      "bcfed6ac5d278d3c",
      "93e874f6e4a1f87a",
      "fcbda9c625fdecac",
      "f5cf184989e2cc69",
      "3d40410e159beaab",
      "4565730f04bd7072",
      "95eb528329f90cf2",
      "79764253e9e92fda",
      "3e6cd35a857771f8",
      "4ad97596d0efa64b",
      "f19ecf4219ed5190",
      "33fde1af7428bf26",
      "1d92bf6b8fc98959",
      "25b3542fda8fae4d",
      "4b8267934ced5596",
      "151d5194b8538480",
      "f670239d8cf08808",
      "a4b56ada8159bff6",
      "990b4d58c23a68a2",
      "ee3e358d88bbf249",
      "6f096e24c9634c56",
      "83b16f9aed4fa051",
      "db3ebf0b6421aeae",
      "10c3697bddec1a05",
      "4f0ea1cdd4d0b719",
      "ad09f7f6ad1acedd",
      "7bb3239b80bb5650"
    ],
    "x": 94,
    "y": 4639,
    "w": 2127,
    "h": 1942
  },
  {
    "id": "a3df49e3ec177d8d",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart temperature",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "ec99f621f7253cd7",
      "023b97f731941ec8",
      "d83b592e2491dcb6",
      "e44987d599f2b366",
      "b6d352f0739c9c5d",
      "e01a8d98754f1f85",
      "c1d200de7bed7d83",
      "3918bb15caaf1ec5",
      "4a56f9148bd23d8e",
      "fc6afa9a094180d3",
      "44d4e7ddd6c2f416",
      "20c48f73de388537"
    ],
    "x": 94,
    "y": 1279,
    "w": 1292,
    "h": 202
  },
  {
    "id": "80f986da1d02c67c",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart humidity",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "1f143110084f2d12",
      "c95545cb575e900a",
      "a521b0c77c8e1b96",
      "057bd2913e07a3dc",
      "588f7e8cf7861975",
      "feae7dc17ccbe84b",
      "40fb52f0b9b6d6f8",
      "5943f812794763bb",
      "280a3b24aff09fd6",
      "13bb4993d29c190f",
      "4fac1159c7fb1196",
      "238894bac5405d86"
    ],
    "x": 94,
    "y": 1519,
    "w": 1292,
    "h": 202
  },
  {
    "id": "0db8801c7e0e4401",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "1d72cb06c368a2c9",
    "name": "room - ui - chart power",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "44795f19725dfb16",
      "2b909499790cab01",
      "73cb2cee63b22726",
      "eeab0942d3417e79",
      "23dabc507247dfc0",
      "992ae204a4e2dac4",
      "32acac8443b52345",
      "b9f8b477c288e0f0",
      "ecd8bf936f027cdc",
      "c60c3603ff04bca1",
      "5cc27b9e016bbe1b",
      "fea7dd1138155750",
      "ce300a4fa3da028b",
      "5c3172390ae5eefb",
      "898d54359ae10f09",
      "4ca2710a68ee8cf7",
      "ea377511bda2edc5",
      "8bb2921d3035f78f",
      "d28afb23b014c0d3",
      "2b7c57be9b721cd6",
      "8baf81aaecbe3ab0",
      "f64316cbc425c3fb",
      "27ccfea85f2033da",
      "529b8f85ea492b9a",
      "154312b0a80ad157",
      "8bc96e353c45fe20",
      "a8c19f86a71e21fe"
    ],
    "x": 94,
    "y": 1759,
    "w": 2432,
    "h": 382
  },
  {
    "id": "0bdefb56ee5ef918",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "8ebd43deda9d56d4",
    "name": "room - config - device",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "177aee50c214945c",
      "ca620b08c9922bd0",
      "8d6827df412a4059"
    ],
    "x": 94,
    "y": 199,
    "w": 502,
    "h": 82
  },
  {
    "id": "fedaeb34f9bc97e4",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "8ebd43deda9d56d4",
    "name": "room - config - ui",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "b6c03b0d5a9952c9",
      "9a20f95447f8ddfd",
      "d4f555ae99a41fee",
      "cd4ebdd2c6d86368",
      "48ee82efe7b41570",
      "290e5853a51cb170",
      "e15462f85288d3c0",
      "5a9f17c8e8298b92",
      "b8e3afedf42e1ec0"
    ],
    "x": 694,
    "y": 199,
    "w": 802,
    "h": 142
  },
  {
    "id": "4e8f7076589ea977",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - sensor",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "dfb1c71d12e96d7e",
      "01e05de4b3ca9c5f",
      "f4795bfce2a04229",
      "1e12a54af3ef13b7",
      "88b32f9b417c1d89",
      "fd4ef897d9752a3c",
      "24e20be30ebc92aa",
      "8a52378a44bf7f3b",
      "9615af109f15be41",
      "59c93aa71ad35d29",
      "6c94f5bf30aea70d",
      "8fb6a9d9412b2bec",
      "88b22e34de3b524d",
      "d05c1a4eee3f01e4",
      "e46801b96418c26a",
      "d7aff9d041ae7444",
      "a81fa955d6562f5f",
      "5cc6b20c6df480dd",
      "689bb472e2d91059",
      "20c75ef7e51d5b8e",
      "e0045ca80f8e03c1",
      "0a90a652239db393",
      "3fddcb78e40b1d2b",
      "778d16bd84481a10",
      "93a7acc4ebb52d85",
      "c0b755705bfe5f7c",
      "68ac80a46640bc8a",
      "4f1473471bbae45e",
      "8585e6f3431e8d42",
      "83438124d9dced41",
      "035559e237d36f74",
      "b0e2b38384530493",
      "adf79dcb4ba8b960",
      "25fcf6d56ac6dc3a",
      "18e8c1312e9832c1",
      "2109f9c2efef71b7",
      "d37f5597502da265",
      "c22c3490c00ce12b",
      "3cb202072fae30ca",
      "cecdc0524ebf11ca"
    ],
    "x": 94,
    "y": 2239,
    "w": 2292,
    "h": 802
  },
  {
    "id": "42c0f1473438a281",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - camera",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "24f76309a6dfe14a",
      "6bd965a44bd48431",
      "4adc84859872765c",
      "78f2cb047057edc0",
      "ef4532a3ebf0b36e",
      "967fea7a3b32f198",
      "16094297767ce839",
      "50c35b8d464c83cd",
      "d1904515488ddaf4",
      "725065af055abe45",
      "fb170cb858137be7",
      "b74b0ea99d56eb7e",
      "ea0406109e5de115",
      "03b02d165b1d7e28",
      "153555b528c18e18",
      "263b6e6e05263288",
      "b60115a1fd023b76",
      "c2aa1840a5deddbf",
      "62c1bb0cb832960f",
      "8aa78c963092f63a"
    ],
    "x": 94,
    "y": 3079,
    "w": 2292,
    "h": 322
  },
  {
    "id": "04de52a5f5237233",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "df46e2504e16fc3e",
    "name": "home - ui - chart outdoor temperature",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "3bd22b1740d9d8b2",
      "43e68c058a7661d6",
      "b3f5b970a9b03119"
    ],
    "x": 94,
    "y": 959,
    "w": 592,
    "h": 82
  },
  {
    "id": "84416ebc7a349dd4",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "df46e2504e16fc3e",
    "name": "home - ui - chart outdoor humidity",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "53e61734d5875604",
      "f9ae231f709aa135",
      "50bc182c3569008c"
    ],
    "x": 94,
    "y": 1079,
    "w": 572,
    "h": 82
  },
  {
    "id": "9b11e3a85026957b",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - cumulus",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "3ea1bb4e5ff3e53a",
      "bf71f08c103ab9bf",
      "b8ed61d35607d163",
      "4c93ed77e680ad7a",
      "f1cc0ee7d294d743",
      "6899ef31a931df1c",
      "a2ed4c3380f63344",
      "d66a556c8804aa96",
      "5a3cf6eb82112299",
      "3fbe41cfcb30b29f",
      "8a877a1f0ad96a9f",
      "86bf6614eaaed4fb",
      "417fbb2eb3a923ed",
      "c17dc35aca46f82c",
      "92f84c3ac249f995",
      "e5267eaa5761e821",
      "309706fa0b759907"
    ],
    "x": 94,
    "y": 3439,
    "w": 1262,
    "h": 322
  },
  {
    "id": "486786996f8e512b",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "094bebacb1145e5f",
    "name": "room - ui - airflow",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "367ddcc943fb234e",
      "b3e71ec6ef25bab1",
      "ef2769915480b0f6",
      "4bea82d34bf79d91",
      "a4dbfc219ae2dcd8",
      "9cab1d58af793873",
      "174edf5e342c527e",
      "c7121847509f1d08",
      "989b7d7ecba85616",
      "1fc6514464e22856",
      "ede7f68b56764350",
      "a80b7e58e8b264f6",
      "0e12a116cd5a645e",
      "3902e4b05ebbbfaf",
      "18531ed9a7d1af80",
      "204d9ba1193ba811",
      "ef9a2b91b42284b7"
    ],
    "x": 94,
    "y": 3799,
    "w": 1262,
    "h": 322
  },
  {
    "id": "af3293313a492113",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - aperture",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "af81b0a41bcf99df",
      "6d6224968ba7c5d9",
      "c6f86ceb44d413ed",
      "227b59bd71d4ea5a",
      "0667b13392452757",
      "b4bde00bbca1c9c3",
      "1c698f378d20c0c8",
      "4468e5d7d722f524",
      "b2720f096a0b488e",
      "d0e8c2ef168e690c",
      "f87851f6472299ee",
      "e9d47e8d56320c0f",
      "e1468bd07f7833d2",
      "fd32c9160864393c",
      "e92aecb14578b6f2",
      "8511a4bc957115d4",
      "08e432ec0eeec199",
      "04ae900e7a8e5ac8",
      "248ab1ebea76ecae",
      "95a3aef8bfc333e1",
      "d5b35dbd65c8c2b9",
      "3cecd7c4f79dd7fe",
      "6b79b66429521305",
      "7b3f1aaec004ecfa",
      "c7e91ffdb1fe5a2e",
      "99abe6ab320bf6f1",
      "5e8e9f03c92c72bf",
      "cec940e246132dd8",
      "bc3f1c8b796e6e94",
      "55458de5ef49bb91",
      "f098e88f376a791b",
      "c3a2ed381aba6a33",
      "3fecb11ba25e2884",
      "b129a76c891d0014",
      "280b16759c50ec5d",
      "48fe1d10a3a37a85",
      "22b8700637e578f9",
      "557d6369a161cd69"
    ],
    "x": 2654,
    "y": 1279,
    "w": 2302,
    "h": 622
  },
  {
    "id": "edfd321fdae55df0",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - light",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "2ac79808a71cacb1",
      "191e72ca8d7deecf",
      "4f140e0b7bb038a6",
      "68a06a849669ed22",
      "3add54b2949c23ec",
      "5f3f7c722ac856e1",
      "60368ba60dfa48a3",
      "6d778528ac85f061",
      "2416eed2ad7fb675",
      "cae48203992d0c58",
      "d01299e89f601944",
      "c9b6f8136ca0bd79",
      "fa4bf780a0f34822",
      "2839b9ab42bf552c",
      "428c4887aeb1b8bf",
      "2c47c873b0dfeb59",
      "eba701577392c37d",
      "f0f16786525d1859",
      "246e55d292fe0f91",
      "c863abef8c3dded1",
      "caf4791638c6f452",
      "1b1ed5db08fa516f",
      "ea7482edacd656f7",
      "4a96348eb648c97c",
      "f9014dd138d70756",
      "4ed4b78dc034a6c9",
      "a95a9af12bbd3646",
      "3ea01cdef09d498b",
      "912811332f1921eb",
      "27111821405d5644",
      "0fa65bab1ee8568a",
      "7280c7be1481cd40",
      "7de1422ef0247bba",
      "ac514b49b2018467",
      "639c01a19ae1a820",
      "283d461116d4ddad",
      "689e466df8f8c5c5"
    ],
    "x": 2654,
    "y": 1939,
    "w": 2482,
    "h": 562
  },
  {
    "id": "cfd2fc533d86ab94",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - outlet",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "197667ca4e9cdc54",
      "3bb2a286f77067a9",
      "3996f05011c215e4",
      "c81bc2696963b090",
      "24db240be39b9a2a",
      "e804fb2bad48ce0d",
      "89d8b374ec0c8d64",
      "cdf2ad725fe8ba54",
      "7e8e1ce7414fbc36",
      "38b3477f104b9d36",
      "bc14b0716cd43585",
      "9f05d32a15544b29",
      "465d409da29c386d",
      "a3a4cb31ebdbb809",
      "f31fb49f04148c64",
      "a0e5fc984e2031a8",
      "8e95a2345189876d",
      "6a476a7e62631884",
      "e163c6ad2e2227d2",
      "b7a0e4825f15e4a2",
      "d84590265fa8da9a",
      "5dd5e52ffb38148e",
      "1d70860e3f2cb386",
      "0217c5132e551168",
      "c3d1a81ac0746df1",
      "ad569b0b9d7deb89",
      "1ebdf2bf88a5d99c",
      "41ab086b1bafeb41",
      "7d41bae2b6bb3e6a",
      "0bac1457f2c3c913",
      "fbcc441952a7c9da",
      "4f0a78c09e88ac52",
      "825e71c37d3c674a",
      "b2a2d9d670500881",
      "142c5e63a5897acb",
      "17e00a50bca8a511"
    ],
    "x": 2654,
    "y": 2539,
    "w": 2342,
    "h": 562
  },
  {
    "id": "e9b46670bc7283be",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - battery",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "cfe03bc0196989f5",
      "80c3ce3d49bd331a",
      "3bc4111acd19c69a",
      "55f064781c895892",
      "ffe2a77ad5394471",
      "44e6838e903b3566",
      "90d065528adcfb62",
      "c6dfc590e40a4878",
      "b184b34450d43367",
      "b70f40f78b57a9e9",
      "276edc393b2b8718",
      "9d9a9a166ac14a87",
      "fb5636e8659a3798",
      "f6a8e56f95d2e83f",
      "188c450232762d9f",
      "28383999950bc1ee",
      "ab5070d8e2289db3",
      "0b3ada9a154f8404",
      "2a102caad43b93f6",
      "47c0bf4047a645fd",
      "82e320bbcec01dec",
      "8ffac054b06e408a",
      "47b82a6a458a6f25",
      "3744b28f43a5bb2b",
      "65e427add3ad7d5c",
      "65d2993302d9e21b",
      "999a7018d46ffc73",
      "aa91636fd91822cd",
      "8b02b507d6467dcb",
      "510ee05b3d6497d4",
      "7cdf67aea069fe46",
      "699ec99e677c7dc7",
      "3272b2668f830af9",
      "0f1d5657502571bf",
      "3d01f404ce8e4f2e",
      "c8c8e81ef5a7a779",
      "25c121f68955e797",
      "815d0596d6b03dba",
      "3cfbbbdec94a469c",
      "12443294ea11d3c1",
      "91b94a9d896e7e78",
      "b525d95cb47e05e7",
      "bb111dd74584e31e",
      "d23964f1034cc332",
      "2bf944e313216712",
      "8ba2fb2ae10d5f8a",
      "3c125c12aed493a6"
    ],
    "x": 2654,
    "y": 3139,
    "w": 1912,
    "h": 862
  },
  {
    "id": "55552ce2fcab661e",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - seen",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "0556201671b0285e",
      "fa99b8b44e92f9be",
      "8b94e3c61d1c7e5d",
      "eeae2c986dcc4fd5",
      "1b2fe53f9f4527dc",
      "e3241702c334a377",
      "6eac671a3b5398ca",
      "8e7e9d97a6c879c9",
      "aeac844b38d85fc6",
      "764bf2a2badb8940",
      "ff242d9ca428610e",
      "1191a4f0f73ac0a2",
      "8cfe805309e7f14b",
      "a53d417127982757",
      "f8cca546e04eb48f",
      "78919c58e908a11f",
      "1debe93af15df2b3",
      "3e0c8f89c9ad2c59",
      "190cd8656368dea1",
      "c98bc4cd21e70d26",
      "8796089a19e22fe4",
      "41178c35c209aac0",
      "9251d2904afbdbde",
      "b5e1b5781b6067d7",
      "b8af5e3061c3fd5a",
      "2c43537a0cf9e307",
      "5bc2441e8a6e0e82",
      "24163d2ac0806a9e",
      "395a54a40d57ff29",
      "6c04bba89bc4d93f",
      "ef1a0dcd39c2ebfa",
      "75b4cef66ff5b569",
      "a1fecc9bf61cbecc",
      "7a5403df0db1a125",
      "b308c52fad5e3003",
      "31e66543c855840b",
      "9fe066202aa296f9",
      "82643125d8e7bae9",
      "4155536a5f1ff708",
      "a3c2ced4e60f6aff",
      "68ac0321fc403487",
      "4c31f8c823796b9d",
      "1fde23683c7ff5d8",
      "97b05bc746ae98eb",
      "8422a13fa9dcca51",
      "80ccf2e84836c3b9",
      "2da226787a8deb51",
      "52be14f6c954aaec"
    ],
    "x": 2654,
    "y": 4039,
    "w": 2132,
    "h": 862
  },
  {
    "id": "3a47bd390630563b",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - power",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "b456712facdb8f99",
      "9eec2a58eea2f794",
      "f7f44b26d3494661",
      "60ec289316037465",
      "438956ec28a1644e",
      "e9be7bc2cece9e6b",
      "4ad7e0736cb2f3e1",
      "3dacfc613c2d6949",
      "159905f89f658c3d",
      "37342614a8bd3e6c",
      "36b6ced1758a043b",
      "55023cb2a00a038e",
      "65f301cc578576a3",
      "a0f6a91598012b9a",
      "47f442e7e5c89435",
      "962301d657a74408",
      "eb891ec4b0a07cfe",
      "3a821e7da32a3561",
      "cf55e9963f617d17",
      "0109e7088ec7040c",
      "fb14e8329c2c77c8",
      "628630966e299dce",
      "57516cd75e235df7",
      "a4d7386dea5c2987",
      "0aa9ffb8eb4cd831",
      "fc59359ff0fc3578",
      "5d01b01dda282884",
      "95dbd0806f6e50e3",
      "65ba5d4db252f373",
      "8c26987fb7503da4",
      "b4ade4e43f7f5619",
      "1c5b37e443ea3a54",
      "d66db8193ecbf5f3",
      "11459cef626d8dd5",
      "d48781c900013ee5",
      "865b1e2e30c1406e",
      "2c3c9f634bfc436b",
      "c18aac930067b2c5",
      "01d61d75b12c086d",
      "f996e39f99239f8f",
      "ef696b96885101ae",
      "48a0cc5241d2549f",
      "8360781eafaecfeb",
      "c19b6e3169ebc381",
      "1127e98653b5a27a",
      "4183c52e2b2c85f1",
      "5fbe5259545c7e84"
    ],
    "x": 2654,
    "y": 4939,
    "w": 1912,
    "h": 862
  },
  {
    "id": "65f5bcaeef2cb043",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - color",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "d59c718c84ca0c45",
      "6974a448a0c0c431",
      "3f26e65e9e14b140",
      "165086f5eeb45889",
      "26655f3b52fd390b",
      "4f053126291b5804",
      "656edb879555e04e",
      "fd6b81a32bb8d757",
      "17650efb4c8eac6d",
      "35aed833a6fd89c9",
      "78389a0e3cf80961",
      "b5aef2391dcbcf4b",
      "9bdb14efae83866c",
      "6aa0699f4eb35c14",
      "b21e235c39afcb03",
      "bd985c8dc9609479",
      "095ea15b0b3f109a",
      "a0a1caf4e95d5a2b",
      "230b7b206cbda14f",
      "93ed91bff23ccae6",
      "c369c0df4127877c",
      "cd27de68d9e0cbc4",
      "11e8012b77840d09",
      "67c80d1f6f7f4480",
      "862bd44140894d07",
      "eb3242a9703a76df",
      "d963d406dbde22b8",
      "037325aca1c515e3",
      "7b14579668c1af3f",
      "fa5d15edbf72f647",
      "b2e76bba0862cef8",
      "46ff4d153fc9736c",
      "04052562e24f52a7",
      "b2358081175b0301",
      "b73d1209033d8724",
      "929e091f58d7e981",
      "d23265902eda3894",
      "a803317ea68e18fc",
      "fadfc3bdbc68f76f",
      "cbe25ff8706d300b",
      "159202a1e2a32023",
      "e4063f822861a8e3",
      "bc769b10e03830e1"
    ],
    "x": 2654,
    "y": 5839,
    "w": 2542,
    "h": 562
  },
  {
    "id": "14365542ae0790c8",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - brihgtness",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "42acd7f9ad626301",
      "c3e90ec1d4493bb4",
      "6ab8f6f585ebee36",
      "c17daf8aa7e26a0c",
      "7379c487515b9889",
      "3a6f2959b098c17e",
      "69f1300be1c6d8ab",
      "32f30c6a0241b184",
      "1313dd5a267993d9",
      "1b38e8d77f15ac4a",
      "d9d65b36d28ee1b5",
      "af81a38fa86c6cc8",
      "dbe559c73da68763",
      "d88e0ed1a96a90b5",
      "42c1dae9372de9c6",
      "149cc130f5efb763",
      "7eacb809027a3f29",
      "992d3a4f1f2cef04",
      "7f81ef3f4f7d218f",
      "6aeea1de4587093e",
      "2155a7e805ce62e5",
      "db3dc40ea4b498e3",
      "65dca07a06ffa9c6",
      "d272a453214030a9",
      "f89a84a4111a2df9",
      "ccd498fdd2090daf",
      "6318eeea1f540ad8",
      "6e9d7cb4048d2eef",
      "ae5513076154ad8a",
      "9a9eba7461771815",
      "7f33cfc11587b83c",
      "04f0f1dcc6935c42",
      "51dd51d87769dfc4",
      "1cfe4db12a78f24a"
    ],
    "x": 2654,
    "y": 6439,
    "w": 2242,
    "h": 562
  },
  {
    "id": "450d06a664f3f2f1",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - overload",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "d3ecaf8ee5a9a5f3",
      "892aa8fda585f5b2",
      "e0cb1aec4e0fda1c",
      "31254c9a4c46f49c",
      "943c9a5e7bb69227",
      "94b3fd103974e612",
      "44bb7746b927fef2",
      "a8f14d2493aa1ccc",
      "11f218242b107b91",
      "9d11ec1e81b17e3d",
      "143b6433267f0fa1",
      "4bd89dce27b61c84",
      "2c68008e717394eb",
      "e4e4dde43d4eef06",
      "a2bcd5bf77abacdd",
      "c7dde6eba09fbd5a",
      "b3fb451be3c81d2b",
      "96c183ca09036f9e",
      "207c8c517b76a96d",
      "41be9069ac8254e1",
      "f7df745c748863ac",
      "fae60b32c35a15e2",
      "f8787219bfa0b999",
      "7acbbb904086727c",
      "36f2cc31fc4e1e37",
      "94ecac051c7ae0c0",
      "c3fd837c967f3c0d",
      "8d582cfd231d8e30"
    ],
    "x": 2654,
    "y": 7039,
    "w": 2202,
    "h": 442
  },
  {
    "id": "04f5c0e72326d896",
    "type": "group",
    "z": "aab0c030de7df5cc",
    "g": "70381517043fd6a9",
    "name": "room - ui - volume",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "f4e17d477136f068",
      "9daae248b4f1952b",
      "3c869e854f5d6809",
      "605d72f6f24befbf",
      "e192f06ea5f1e3e5",
      "aa0c5812f7e6349b",
      "67310a7a72933e8e",
      "0166eab08f6fbafc",
      "fa2aea6161a5fd41",
      "b942b34f373e2a3f",
      "2991065843b84eee",
      "ee380c3cf1a2020b",
      "c6a4524ab3539276",
      "4ef9210c5e612de7",
      "98e59bcef4b2d697",
      "905659284218c2dc",
      "b71f413cfe3d9305",
      "b2dc7736b4de45e7",
      "14ccbc8fbb2303ac",
      "b9aa798eae125dd5",
      "a67149ef65f5d76f",
      "aa8b6591f26d0aa9",
      "f706754b772baa6f",
      "00bc3a1cffc305cc",
      "a3bf1460c7cfb7b1",
      "e368b811a3ce64eb",
      "1bfca2b520f057f8",
      "db5d3a06b3c4888a",
      "c594a37fe86aa4a8",
      "ee30b3a5827bf77f",
      "377467850cf184c6",
      "d83fcce023a2646b",
      "e5363afaefd9c154",
      "6e879e2fe3ef4f2f"
    ],
    "x": 5054,
    "y": 1279,
    "w": 2202,
    "h": 562
  },
  {
    "id": "606f3caa9058900f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "bucket",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "bucket",
        "pt": "flow",
        "to": "bucket",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "flow",
        "to": "{}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 270,
    "y": 60,
    "wires": [
      [
        "68c4344a4704c54f"
      ]
    ]
  },
  {
    "id": "4e6003732b266fe2",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "room - bucket",
    "links": [
      "25445f5a9b787a0a"
    ],
    "x": 135,
    "y": 60,
    "wires": [
      [
        "606f3caa9058900f"
      ]
    ]
  },
  {
    "id": "68c4344a4704c54f",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "0aeb80f7dfc7025e",
    "name": "room - bucket",
    "mode": "link",
    "links": [
      "177aee50c214945c"
    ],
    "x": 395,
    "y": 60,
    "wires": []
  },
  {
    "id": "116de42631d4b17a",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "room - metric",
    "mode": "link",
    "links": [
      "206c1fb4a48067df"
    ],
    "x": 1355,
    "y": 60,
    "wires": []
  },
  {
    "id": "f138e16b633d9429",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "topic",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "repeat",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "delete",
        "p": "path",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1220,
    "y": 60,
    "wires": [
      [
        "116de42631d4b17a"
      ]
    ]
  },
  {
    "id": "2690f4e06626ebda",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "f6132c9f3c5a2911",
    "name": "room - metric",
    "links": [
      "1c698f378d20c0c8",
      "60368ba60dfa48a3",
      "89d8b374ec0c8d64",
      "f1cc0ee7d294d743",
      "ef9a2b91b42284b7",
      "79e409df0c12d8bb",
      "1ef76a4c1fab9b78",
      "8ee8772fa3a4c742",
      "8beb2a2f4c26c437",
      "9d8b8d237e2704ea",
      "8a6f97848d7b1a2c",
      "5024c05850b207a9",
      "1d6b2ca73ae11560",
      "8c7c93ce9d3d346c",
      "165086f5eeb45889",
      "c17daf8aa7e26a0c",
      "326ca0a44e78d7d6",
      "31254c9a4c46f49c",
      "ee30b3a5827bf77f"
    ],
    "x": 1095,
    "y": 60,
    "wires": [
      [
        "f138e16b633d9429"
      ]
    ]
  },
  {
    "id": "177aee50c214945c",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "room - config - device",
    "links": [
      "68c4344a4704c54f"
    ],
    "x": 135,
    "y": 240,
    "wires": [
      [
        "ca620b08c9922bd0"
      ]
    ]
  },
  {
    "id": "ca620b08c9922bd0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "config / reset timer / number / 5",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "config",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "reset timer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "number",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 350,
    "y": 240,
    "wires": [
      [
        "8d6827df412a4059"
      ]
    ]
  },
  {
    "id": "8d6827df412a4059",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "0bdefb56ee5ef918",
    "name": "room - config - device",
    "mode": "link",
    "links": [
      "bfa594bf1f876c92"
    ],
    "x": 555,
    "y": 240,
    "wires": []
  },
  {
    "id": "b6c03b0d5a9952c9",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - metric",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 735,
    "y": 240,
    "wires": [
      [
        "d4f555ae99a41fee"
      ]
    ]
  },
  {
    "id": "9a20f95447f8ddfd",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - metric",
    "mode": "link",
    "links": [
      "206c1fb4a48067df"
    ],
    "x": 1455,
    "y": 300,
    "wires": []
  },
  {
    "id": "d4f555ae99a41fee",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "check path",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "room/config/reset timer",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 930,
    "y": 240,
    "wires": [
      [
        "cd4ebdd2c6d86368",
        "b8e3afedf42e1ec0"
      ]
    ]
  },
  {
    "id": "48ee82efe7b41570",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "config",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "topic",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1320,
    "y": 300,
    "wires": [
      [
        "9a20f95447f8ddfd"
      ]
    ]
  },
  {
    "id": "290e5853a51cb170",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "room - config - ui - load",
    "links": [
      "94c79b8f52f0b6ba"
    ],
    "x": 735,
    "y": 300,
    "wires": [
      [
        "e15462f85288d3c0"
      ]
    ]
  },
  {
    "id": "e15462f85288d3c0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "from global metrics",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.bucket]config['reset timer']",
        "tot": "global"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 910,
    "y": 300,
    "wires": [
      [
        "cd4ebdd2c6d86368",
        "b8e3afedf42e1ec0"
      ]
    ]
  },
  {
    "id": "66835e34ae95f3f0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "set room",
    "rules": [
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "page_title",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.payload]",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "flow",
        "to": "{}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 280,
    "y": 660,
    "wires": [
      [
        "3b74b2448cdb18a9"
      ]
    ]
  },
  {
    "id": "9ee5e12567650c9d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "enabled metric",
    "rules": [
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1100,
    "y": 720,
    "wires": [
      [
        "dc4343f890e4a3e1"
      ]
    ]
  },
  {
    "id": "3b74b2448cdb18a9",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "split bucket",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 470,
    "y": 660,
    "wires": [
      [
        "b2e5e7af716d4ec6"
      ]
    ]
  },
  {
    "id": "b2e5e7af716d4ec6",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "split measurement",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "field",
    "x": 690,
    "y": 660,
    "wires": [
      [
        "aa39991b7847c574"
      ]
    ]
  },
  {
    "id": "aa39991b7847c574",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "cleanup",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "delete",
        "p": "parts",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 660,
    "wires": [
      [
        "9ee5e12567650c9d"
      ]
    ]
  },
  {
    "id": "1dd86a8b8b446749",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "disabled elements",
    "rules": [
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "[{'label':'N/A','value':''}]",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1270,
    "y": 600,
    "wires": [
      [
        "9e4bfee0db3051d4"
      ]
    ]
  },
  {
    "id": "3ec4a86ec9ec37f6",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - metric",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 135,
    "y": 720,
    "wires": [
      [
        "ef424db05e8a1103"
      ]
    ]
  },
  {
    "id": "ef424db05e8a1103",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "check bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "room",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 290,
    "y": 720,
    "wires": [
      [
        "9ee5e12567650c9d"
      ]
    ]
  },
  {
    "id": "1c55a9cf641c38ba",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "wait delay then reset visibility",
    "op1": "",
    "op2": "",
    "op1type": "nul",
    "op2type": "str",
    "duration": "30",
    "extend": true,
    "overrideDelay": true,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 580,
    "y": 540,
    "wires": [
      [
        "4ed33d50e1b4ebc9"
      ]
    ]
  },
  {
    "id": "4ed33d50e1b4ebc9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "unset room",
    "rules": [
      {
        "t": "set",
        "p": "room",
        "pt": "flow",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "room",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 480,
    "wires": [
      [
        "9043871af737eb1a"
      ]
    ]
  },
  {
    "id": "656d1866a8ae8cf8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "set visibility delay",
    "rules": [
      {
        "t": "set",
        "p": "delay",
        "pt": "msg",
        "to": "metrics.room.config['reset timer']",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "delay",
        "pt": "msg",
        "to": "msg.delay*60000",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 310,
    "y": 540,
    "wires": [
      [
        "1c55a9cf641c38ba"
      ]
    ]
  },
  {
    "id": "9e4bfee0db3051d4",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - reset",
    "mode": "link",
    "links": [
      "dfb1c71d12e96d7e",
      "d1904515488ddaf4",
      "c6f86ceb44d413ed",
      "80c3ce3d49bd331a",
      "fa99b8b44e92f9be",
      "5f3f7c722ac856e1",
      "e804fb2bad48ce0d",
      "9eec2a58eea2f794",
      "b8ed61d35607d163",
      "ef2769915480b0f6",
      "d58e31cbba7fe1fb",
      "9737afb19d9c9fbb",
      "3bd921f16659d915",
      "511350d9f34ce767",
      "a06fcd9bc49dd111",
      "97aa2e016643bfbd",
      "5f5234be5bf42b3a",
      "e01a8d98754f1f85",
      "feae7dc17ccbe84b",
      "88a3ebf72baa83c9",
      "23dabc507247dfc0",
      "71d0e8896af92442",
      "a033c6dbdefb80f9",
      "3f26e65e9e14b140",
      "6ab8f6f585ebee36",
      "613dd73590f50433",
      "0cdf527eea858d38",
      "27c5af4040c9d67b",
      "e0cb1aec4e0fda1c",
      "df15e932155f2ba9",
      "9daae248b4f1952b"
    ],
    "x": 1435,
    "y": 600,
    "wires": []
  },
  {
    "id": "1be6ca3c2b8615a2",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - select",
    "links": [
      "019a3a8edd5faf37",
      "2a9d3ecd8577a6f1",
      "5f57bad104da1bb5",
      "bbf50f3943683db6",
      "57edb1e8b87cefb2",
      "d9435658511d2531",
      "c11914e72f89fb79",
      "44bf80d373658b2d",
      "92e5847f6900c415",
      "ddd7a64191f066e2",
      "4526a823900a3869",
      "72159ff35b8394bc",
      "f62a05821139fc1e",
      "c5652bf083077eba",
      "3e0916086ca22bc8",
      "d1fa2ec297591574",
      "d6a7e2cef723dc90",
      "0ffed8fdad553396",
      "167294a666df090a",
      "601b5a75c014b306",
      "e5e35f07fafcaa5b"
    ],
    "x": 135,
    "y": 600,
    "wires": [
      [
        "1dd86a8b8b446749",
        "656d1866a8ae8cf8",
        "66835e34ae95f3f0"
      ]
    ]
  },
  {
    "id": "06976c9133796ab8",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - reset",
    "links": [
      "94c79b8f52f0b6ba"
    ],
    "x": 135,
    "y": 480,
    "wires": [
      [
        "4ed33d50e1b4ebc9"
      ]
    ]
  },
  {
    "id": "9043871af737eb1a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "reset menu title",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "page_title",
        "pt": "msg",
        "to": "Selectionner une pièce",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1040,
    "y": 480,
    "wires": [
      [
        "57e1a96c1bf54302",
        "1dd86a8b8b446749"
      ]
    ]
  },
  {
    "id": "b6323e1460f6f50c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - selection - metric",
    "mode": "link",
    "links": [
      "8a52378a44bf7f3b",
      "725065af055abe45",
      "6d6224968ba7c5d9",
      "3bc4111acd19c69a",
      "8b94e3c61d1c7e5d",
      "6d778528ac85f061",
      "cdf2ad725fe8ba54",
      "f7f44b26d3494661",
      "4c93ed77e680ad7a",
      "4bea82d34bf79d91",
      "6ebcb13cc88ec167",
      "dd49b4996fb683ff",
      "c97e08992c83f769",
      "7aaae6f81accc54b",
      "b1825677cbba4273",
      "383c38e98cd05755",
      "c72c85a05c057eb6",
      "e44987d599f2b366",
      "057bd2913e07a3dc",
      "223c9437360c96cb",
      "eeab0942d3417e79",
      "157c2c86081bbfab",
      "761cb37547fe4dc2",
      "26655f3b52fd390b",
      "7379c487515b9889",
      "150f3acd97d50753",
      "fa60e7b17b73d75a",
      "dd8957465e23e1c9",
      "943c9a5e7bb69227",
      "c30333f4e590339e",
      "3c869e854f5d6809"
    ],
    "x": 1415,
    "y": 720,
    "wires": []
  },
  {
    "id": "dc4343f890e4a3e1",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 1290,
    "y": 720,
    "wires": [
      [
        "b6323e1460f6f50c"
      ]
    ]
  },
  {
    "id": "57e1a96c1bf54302",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "wait 100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 1250,
    "y": 480,
    "wires": [
      [
        "458c9a22f37b6191"
      ]
    ]
  },
  {
    "id": "cd4ebdd2c6d86368",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "group": "36396f5285df476c",
    "name": "reset delay",
    "label": "",
    "tooltip": "",
    "order": 3,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "reset timer",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "30",
    "step": "0.5",
    "className": "",
    "x": 1130,
    "y": 300,
    "wires": [
      [
        "48ee82efe7b41570"
      ]
    ]
  },
  {
    "id": "dfb1c71d12e96d7e",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "room - ui - sensor - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 2280,
    "wires": [
      [
        "01e05de4b3ca9c5f",
        "3cb202072fae30ca"
      ]
    ]
  },
  {
    "id": "01e05de4b3ca9c5f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Capteurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2280,
    "wires": [
      [
        "20c75ef7e51d5b8e",
        "0a90a652239db393"
      ]
    ]
  },
  {
    "id": "f4795bfce2a04229",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Capteurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2340,
    "wires": [
      [
        "0a90a652239db393",
        "20c75ef7e51d5b8e"
      ]
    ]
  },
  {
    "id": "1e12a54af3ef13b7",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "ddd39f991efd9d31"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1610,
    "y": 2460,
    "wires": [
      [
        "3fddcb78e40b1d2b"
      ]
    ]
  },
  {
    "id": "88b32f9b417c1d89",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "49927aaaafcc60ec"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1600,
    "y": 2580,
    "wires": [
      [
        "778d16bd84481a10"
      ]
    ]
  },
  {
    "id": "fd4ef897d9752a3c",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "aa96d5f77fcf68e5"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1610,
    "y": 2700,
    "wires": [
      [
        "93a7acc4ebb52d85"
      ]
    ]
  },
  {
    "id": "24e20be30ebc92aa",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "links": [
      "12b1109de2f09cfc"
    ],
    "linkType": "static",
    "timeout": "0.5",
    "x": 1600,
    "y": 2820,
    "wires": [
      [
        "c0b755705bfe5f7c"
      ]
    ]
  },
  {
    "id": "8a52378a44bf7f3b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "room - ui - sensor - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 2340,
    "wires": [
      [
        "035559e237d36f74"
      ]
    ]
  },
  {
    "id": "9615af109f15be41",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "select measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "fire",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "luminosity",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "motion",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 1360,
    "y": 2460,
    "wires": [
      [],
      [
        "1e12a54af3ef13b7"
      ],
      [
        "88b32f9b417c1d89"
      ],
      [
        "fd4ef897d9752a3c"
      ],
      [
        "24e20be30ebc92aa"
      ]
    ]
  },
  {
    "id": "59c93aa71ad35d29",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=true?'Mouvement détecté':'Aucun mouvement'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1980,
    "y": 2820,
    "wires": [
      [
        "6c94f5bf30aea70d"
      ]
    ]
  },
  {
    "id": "6c94f5bf30aea70d",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "motion (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2170,
    "y": 2820,
    "wires": []
  },
  {
    "id": "8fb6a9d9412b2bec",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "luminosity (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2180,
    "y": 2700,
    "wires": []
  },
  {
    "id": "88b22e34de3b524d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Luminosité de '&msg.payload&'Lx'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1980,
    "y": 2700,
    "wires": [
      [
        "8fb6a9d9412b2bec"
      ]
    ]
  },
  {
    "id": "d05c1a4eee3f01e4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Humidité à '&msg.payload&'%'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1980,
    "y": 2580,
    "wires": [
      [
        "e46801b96418c26a"
      ]
    ]
  },
  {
    "id": "e46801b96418c26a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "humidity (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2170,
    "y": 2580,
    "wires": []
  },
  {
    "id": "d7aff9d041ae7444",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Température de '&msg.payload&'°C'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1980,
    "y": 2460,
    "wires": [
      [
        "a81fa955d6562f5f"
      ]
    ]
  },
  {
    "id": "a81fa955d6562f5f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "temperature (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2180,
    "y": 2460,
    "wires": []
  },
  {
    "id": "5cc6b20c6df480dd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "fire (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2160,
    "y": 2940,
    "wires": []
  },
  {
    "id": "689bb472e2d91059",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=true?'Alarme incendie déclenchée':\"Aucun défaut d'incendie\"",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1980,
    "y": 2940,
    "wires": [
      [
        "5cc6b20c6df480dd"
      ]
    ]
  },
  {
    "id": "20c75ef7e51d5b8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun capteur",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2140,
    "y": 2280,
    "wires": [
      [
        "e0045ca80f8e03c1"
      ]
    ]
  },
  {
    "id": "e0045ca80f8e03c1",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "group": "82b3ef69e7817bbb",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2310,
    "y": 2280,
    "wires": []
  },
  {
    "id": "0a90a652239db393",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 2140,
    "y": 2340,
    "wires": [
      []
    ]
  },
  {
    "id": "3fddcb78e40b1d2b",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1810,
    "y": 2460,
    "wires": [
      [
        "d7aff9d041ae7444",
        "d37f5597502da265"
      ]
    ]
  },
  {
    "id": "778d16bd84481a10",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1810,
    "y": 2580,
    "wires": [
      [
        "d05c1a4eee3f01e4",
        "18e8c1312e9832c1"
      ]
    ]
  },
  {
    "id": "93a7acc4ebb52d85",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1810,
    "y": 2700,
    "wires": [
      [
        "88b22e34de3b524d",
        "25fcf6d56ac6dc3a"
      ]
    ]
  },
  {
    "id": "c0b755705bfe5f7c",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "rsp",
    "property": "search.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1810,
    "y": 2820,
    "wires": [
      [
        "59c93aa71ad35d29",
        "b0e2b38384530493"
      ]
    ]
  },
  {
    "id": "68ac80a46640bc8a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2400,
    "wires": [
      [
        "a81fa955d6562f5f",
        "e46801b96418c26a",
        "8fb6a9d9412b2bec",
        "6c94f5bf30aea70d",
        "5cc6b20c6df480dd",
        "b0e2b38384530493",
        "308199e1755f6e79",
        "adf79dcb4ba8b960",
        "cecdc0524ebf11ca",
        "2109f9c2efef71b7"
      ]
    ]
  },
  {
    "id": "4f1473471bbae45e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "room",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics[msg.scene.bucket]",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 2460,
    "wires": [
      [
        "83438124d9dced41"
      ]
    ]
  },
  {
    "id": "8585e6f3431e8d42",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "wait 20ms then send 1",
    "op1": "",
    "op2": "1",
    "op1type": "nul",
    "op2type": "str",
    "duration": "20",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 560,
    "y": 2340,
    "wires": [
      [
        "f4795bfce2a04229",
        "c22c3490c00ce12b",
        "3cb202072fae30ca"
      ]
    ]
  },
  {
    "id": "83438124d9dced41",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 1150,
    "y": 2460,
    "wires": [
      [
        "9615af109f15be41"
      ]
    ]
  },
  {
    "id": "035559e237d36f74",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "limit measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "fire|temperature|humidity|luminosity|motion",
        "vt": "str",
        "case": false
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 310,
    "y": 2340,
    "wires": [
      [
        "8585e6f3431e8d42"
      ]
    ]
  },
  {
    "id": "24f76309a6dfe14a",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "select field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "url",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "rstp",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 550,
    "y": 3360,
    "wires": [
      [
        "50c35b8d464c83cd",
        "78f2cb047057edc0"
      ],
      [
        "50c35b8d464c83cd",
        "b74b0ea99d56eb7e"
      ]
    ]
  },
  {
    "id": "6bd965a44bd48431",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Camera\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 3180,
    "wires": [
      [
        "ea0406109e5de115",
        "153555b528c18e18",
        "c2aa1840a5deddbf"
      ]
    ]
  },
  {
    "id": "4adc84859872765c",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "every second",
    "op1": "",
    "op2": "0",
    "op1type": "pay",
    "op2type": "str",
    "duration": "-1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1290,
    "y": 3360,
    "wires": [
      [
        "ef4532a3ebf0b36e"
      ]
    ]
  },
  {
    "id": "78f2cb047057edc0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "url",
    "rules": [
      {
        "t": "set",
        "p": "url",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 3300,
    "wires": [
      [
        "8aa78c963092f63a"
      ]
    ]
  },
  {
    "id": "ef4532a3ebf0b36e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "check url",
    "property": "url",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nempty"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1480,
    "y": 3360,
    "wires": [
      [
        "967fea7a3b32f198"
      ]
    ]
  },
  {
    "id": "967fea7a3b32f198",
    "type": "http request",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "query camera url",
    "method": "GET",
    "ret": "bin",
    "paytoqs": "ignore",
    "url": "",
    "tls": "",
    "persist": false,
    "proxy": "",
    "insecureHTTPParser": false,
    "authType": "",
    "senderr": false,
    "headers": [],
    "x": 1690,
    "y": 3360,
    "wires": [
      [
        "16094297767ce839"
      ]
    ]
  },
  {
    "id": "50c35b8d464c83cd",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Camera\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 3240,
    "wires": [
      [
        "ea0406109e5de115",
        "153555b528c18e18"
      ]
    ]
  },
  {
    "id": "d1904515488ddaf4",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "room - ui - camera - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 3180,
    "wires": [
      [
        "6bd965a44bd48431"
      ]
    ]
  },
  {
    "id": "725065af055abe45",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "room - ui - camera - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 3360,
    "wires": [
      [
        "fb170cb858137be7"
      ]
    ]
  },
  {
    "id": "fb170cb858137be7",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "check measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "camera",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 320,
    "y": 3360,
    "wires": [
      [
        "24f76309a6dfe14a"
      ]
    ]
  },
  {
    "id": "b74b0ea99d56eb7e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "rstp",
    "rules": [
      {
        "t": "set",
        "p": "rstp",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 730,
    "y": 3360,
    "wires": [
      []
    ]
  },
  {
    "id": "ea0406109e5de115",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 900,
    "y": 3180,
    "wires": [
      []
    ]
  },
  {
    "id": "03b02d165b1d7e28",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "group": "0083c332a401849d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1070,
    "y": 3120,
    "wires": []
  },
  {
    "id": "153555b528c18e18",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune caméra",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 3120,
    "wires": [
      [
        "03b02d165b1d7e28"
      ]
    ]
  },
  {
    "id": "263b6e6e05263288",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "image to payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'data:image/png;base64,'&msg.payload",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 3360,
    "wires": [
      [
        "b60115a1fd023b76"
      ]
    ]
  },
  {
    "id": "b60115a1fd023b76",
    "type": "ui-template",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "group": "0083c332a401849d",
    "page": "",
    "ui": "",
    "name": "image",
    "order": 2,
    "width": "6",
    "height": "7",
    "head": "",
    "format": "<template>\n    <img ref=\"iotnode-camera\" class=\"\" alt=\"Aucune camera\" width=\"100%\" src=\"\" />\n</template>\n\n<script>\nexport default {\n  name: 'MyCamera',\n  mounted () {\n    this.$socket.on('msg-input:' + this.id, (msg) => {\n        // get the Video's DOM element\n        const iotnodecamera = this.$refs['iotnode-camera']\n\n        if (msg.class==='remove') {\n          iotnodecamera.class = 'remove'\n        } else {\n          iotnodecamera.class = ''\n          iotnodecamera.src = msg.payload\n        }\n    })\n  },\n  unmounted () {\n    this.$socket.off(`msg-input:${this.id}`)\n  }\n}\n</script>",
    "storeOutMessages": true,
    "passthru": true,
    "resendOnRefresh": true,
    "templateScope": "local",
    "className": "",
    "x": 2310,
    "y": 3240,
    "wires": [
      []
    ]
  },
  {
    "id": "c2aa1840a5deddbf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "to empty",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 900,
    "y": 3240,
    "wires": [
      [
        "b60115a1fd023b76",
        "62c1bb0cb832960f"
      ]
    ]
  },
  {
    "id": "62c1bb0cb832960f",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "repeat once",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "pay",
    "duration": "250",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1090,
    "y": 3300,
    "wires": [
      [
        "4adc84859872765c"
      ]
    ]
  },
  {
    "id": "8aa78c963092f63a",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "repeat once",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "pay",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1090,
    "y": 3360,
    "wires": [
      [
        "4adc84859872765c"
      ]
    ]
  },
  {
    "id": "16094297767ce839",
    "type": "base64",
    "z": "aab0c030de7df5cc",
    "g": "42c0f1473438a281",
    "name": "",
    "action": "str",
    "property": "payload",
    "x": 1900,
    "y": 3360,
    "wires": [
      [
        "263b6e6e05263288"
      ]
    ]
  },
  {
    "id": "a2a26d3c15589044",
    "type": "catch",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "catch error",
    "scope": null,
    "uncaught": false,
    "x": 620,
    "y": 60,
    "wires": [
      [
        "fcaaaca3a27426b7"
      ]
    ]
  },
  {
    "id": "fcaaaca3a27426b7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "topic",
    "rules": [
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "room",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 60,
    "wires": [
      [
        "69fc7c7c14fa81f3"
      ]
    ]
  },
  {
    "id": "69fc7c7c14fa81f3",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "f68e8c6415aca870",
    "name": "catch error",
    "mode": "link",
    "links": [
      "a52f0e788cd4dca3"
    ],
    "x": 915,
    "y": 60,
    "wires": []
  },
  {
    "id": "ec99f621f7253cd7",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "group": "1a2635629b812ca3",
    "name": "chart temperature",
    "label": "",
    "order": 2,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#008080",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 1170,
    "y": 1440,
    "wires": [
      []
    ]
  },
  {
    "id": "023b97f731941ec8",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 780,
    "y": 1440,
    "wires": [
      [
        "20c48f73de388537",
        "c1d200de7bed7d83"
      ]
    ]
  },
  {
    "id": "d83b592e2491dcb6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 60s, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"temperature\"\t  )'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 590,
    "y": 1440,
    "wires": [
      [
        "023b97f731941ec8"
      ]
    ]
  },
  {
    "id": "e44987d599f2b366",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "room - ui - chart temperature - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 1440,
    "wires": [
      [
        "b6d352f0739c9c5d"
      ]
    ]
  },
  {
    "id": "b6d352f0739c9c5d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "temperature",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 360,
    "y": 1440,
    "wires": [
      [
        "d83b592e2491dcb6"
      ]
    ]
  },
  {
    "id": "e01a8d98754f1f85",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "room - ui - chart temperature - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 1320,
    "wires": [
      [
        "fc6afa9a094180d3"
      ]
    ]
  },
  {
    "id": "3918bb15caaf1ec5",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "group": "1a2635629b812ca3",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1310,
    "y": 1320,
    "wires": []
  },
  {
    "id": "4a56f9148bd23d8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé de température",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1140,
    "y": 1320,
    "wires": [
      [
        "3918bb15caaf1ec5"
      ]
    ]
  },
  {
    "id": "fc6afa9a094180d3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Température\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1320,
    "wires": [
      [
        "44d4e7ddd6c2f416",
        "4a56f9148bd23d8e"
      ]
    ]
  },
  {
    "id": "c1d200de7bed7d83",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Température\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1380,
    "wires": [
      [
        "44d4e7ddd6c2f416",
        "4a56f9148bd23d8e"
      ]
    ]
  },
  {
    "id": "44d4e7ddd6c2f416",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1140,
    "y": 1380,
    "wires": [
      []
    ]
  },
  {
    "id": "20c48f73de388537",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "a3df49e3ec177d8d",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1440,
    "wires": [
      [
        "ec99f621f7253cd7"
      ]
    ]
  },
  {
    "id": "1f143110084f2d12",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "group": "e41130e3f4e3f1fe",
    "name": "chart humidity",
    "label": "",
    "order": 2,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#008080",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 1160,
    "y": 1680,
    "wires": [
      []
    ]
  },
  {
    "id": "c95545cb575e900a",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 780,
    "y": 1680,
    "wires": [
      [
        "238894bac5405d86",
        "40fb52f0b9b6d6f8"
      ]
    ]
  },
  {
    "id": "a521b0c77c8e1b96",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 60s, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"humidity\"\t  )'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 590,
    "y": 1680,
    "wires": [
      [
        "c95545cb575e900a"
      ]
    ]
  },
  {
    "id": "057bd2913e07a3dc",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "room - ui - chart humidity - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 1680,
    "wires": [
      [
        "588f7e8cf7861975"
      ]
    ]
  },
  {
    "id": "588f7e8cf7861975",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "humidity",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 360,
    "y": 1680,
    "wires": [
      [
        "a521b0c77c8e1b96"
      ]
    ]
  },
  {
    "id": "feae7dc17ccbe84b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "room - ui - chart humidity - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 1560,
    "wires": [
      [
        "13bb4993d29c190f"
      ]
    ]
  },
  {
    "id": "40fb52f0b9b6d6f8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Humidité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1620,
    "wires": [
      [
        "4fac1159c7fb1196",
        "280a3b24aff09fd6"
      ]
    ]
  },
  {
    "id": "5943f812794763bb",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "group": "e41130e3f4e3f1fe",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1310,
    "y": 1560,
    "wires": []
  },
  {
    "id": "280a3b24aff09fd6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé d'humidité",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1140,
    "y": 1560,
    "wires": [
      [
        "5943f812794763bb"
      ]
    ]
  },
  {
    "id": "13bb4993d29c190f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Humidité\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1560,
    "wires": [
      [
        "4fac1159c7fb1196",
        "280a3b24aff09fd6"
      ]
    ]
  },
  {
    "id": "4fac1159c7fb1196",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1140,
    "y": 1620,
    "wires": [
      []
    ]
  },
  {
    "id": "238894bac5405d86",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "80f986da1d02c67c",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 970,
    "y": 1680,
    "wires": [
      [
        "1f143110084f2d12"
      ]
    ]
  },
  {
    "id": "44795f19725dfb16",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "name": "chart power",
    "label": "",
    "order": 4,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "150",
    "colors": [
      "#008080",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 2290,
    "y": 2100,
    "wires": [
      []
    ]
  },
  {
    "id": "2b909499790cab01",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 1920,
    "y": 2100,
    "wires": [
      [
        "5cc27b9e016bbe1b"
      ]
    ]
  },
  {
    "id": "73cb2cee63b22726",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "query",
    "rules": [
      {
        "t": "set",
        "p": "query",
        "pt": "msg",
        "to": "'from(bucket: \"'&msg.bucket&'\")\t  |> range(start: -1d, stop:now())\t  |> aggregateWindow(every: 10m, fn: last, createEmpty: false)\t  |> filter(fn: (r) =>\t    r._measurement == \"'&msg.measurement&'\" and r._field == \"'&msg.field&'\"\t  )'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1730,
    "y": 2100,
    "wires": [
      [
        "2b909499790cab01"
      ]
    ]
  },
  {
    "id": "eeab0942d3417e79",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "room - ui - chart power - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 1860,
    "wires": [
      [
        "fea7dd1138155750"
      ]
    ]
  },
  {
    "id": "23dabc507247dfc0",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "room - ui - chart power - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 1800,
    "wires": [
      [
        "ecd8bf936f027cdc",
        "ea377511bda2edc5"
      ]
    ]
  },
  {
    "id": "992ae204a4e2dac4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Puissance électrique\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1190,
    "y": 1860,
    "wires": [
      [
        "c60c3603ff04bca1",
        "b9f8b477c288e0f0",
        "4ca2710a68ee8cf7",
        "a8c19f86a71e21fe"
      ]
    ]
  },
  {
    "id": "32acac8443b52345",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2450,
    "y": 1800,
    "wires": []
  },
  {
    "id": "b9f8b477c288e0f0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun relevé de puissance",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2280,
    "y": 1800,
    "wires": [
      [
        "32acac8443b52345"
      ]
    ]
  },
  {
    "id": "ecd8bf936f027cdc",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Puissance électrique\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1190,
    "y": 1800,
    "wires": [
      [
        "c60c3603ff04bca1",
        "b9f8b477c288e0f0"
      ]
    ]
  },
  {
    "id": "c60c3603ff04bca1",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 2280,
    "y": 1860,
    "wires": [
      []
    ]
  },
  {
    "id": "5cc27b9e016bbe1b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "class",
    "rules": [
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 2100,
    "wires": [
      [
        "44795f19725dfb16"
      ]
    ]
  },
  {
    "id": "fea7dd1138155750",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "check if measurement exists",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "(power|tariff)",
        "vt": "str",
        "case": false
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 340,
    "y": 1860,
    "wires": [
      [
        "2b7c57be9b721cd6"
      ]
    ]
  },
  {
    "id": "ce300a4fa3da028b",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1920,
    "y": 1980,
    "wires": [
      [
        "5c3172390ae5eefb"
      ]
    ]
  },
  {
    "id": "5c3172390ae5eefb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.trans&' à '&msg.payload&'W'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 1980,
    "wires": [
      [
        "898d54359ae10f09"
      ]
    ]
  },
  {
    "id": "898d54359ae10f09",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 2,
    "width": "6",
    "height": "1",
    "name": "power",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2270,
    "y": 1980,
    "wires": []
  },
  {
    "id": "4ca2710a68ee8cf7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "reset",
    "rules": [],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 1920,
    "wires": [
      [
        "44795f19725dfb16",
        "898d54359ae10f09",
        "8bc96e353c45fe20"
      ]
    ]
  },
  {
    "id": "b0e2b38384530493",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "motion",
    "label": "",
    "group": "82b3ef69e7817bbb",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "motion-sensor",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "motion-sensor-off",
    "offcolor": "grey",
    "x": 2150,
    "y": 2880,
    "wires": [
      []
    ]
  },
  {
    "id": "adf79dcb4ba8b960",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "luminosity",
    "label": "",
    "group": "82b3ef69e7817bbb",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "sun-angle",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "sun-angle-outline",
    "offcolor": "grey",
    "x": 2160,
    "y": 2760,
    "wires": [
      []
    ]
  },
  {
    "id": "25fcf6d56ac6dc3a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload>50",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2760,
    "wires": [
      [
        "adf79dcb4ba8b960"
      ]
    ]
  },
  {
    "id": "308199e1755f6e79",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "name": "humidity",
    "label": "",
    "group": "82b3ef69e7817bbb",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "water",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "water-outline",
    "offcolor": "grey",
    "x": 2160,
    "y": 2400,
    "wires": [
      []
    ]
  },
  {
    "id": "18e8c1312e9832c1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload>50",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2640,
    "wires": [
      [
        "308199e1755f6e79"
      ]
    ]
  },
  {
    "id": "2109f9c2efef71b7",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "temperature",
    "label": "",
    "group": "82b3ef69e7817bbb",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "thermometer",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "thermometer-low",
    "offcolor": "grey",
    "x": 2170,
    "y": 2520,
    "wires": [
      []
    ]
  },
  {
    "id": "d37f5597502da265",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload>22",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1970,
    "y": 2520,
    "wires": [
      [
        "2109f9c2efef71b7"
      ]
    ]
  },
  {
    "id": "cecdc0524ebf11ca",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "fire",
    "label": "",
    "group": "82b3ef69e7817bbb",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "fire-alert",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "fire-off",
    "offcolor": "grey",
    "x": 2150,
    "y": 3000,
    "wires": [
      []
    ]
  },
  {
    "id": "c22c3490c00ce12b",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 780,
    "y": 2460,
    "wires": [
      [
        "4f1473471bbae45e"
      ]
    ]
  },
  {
    "id": "3cb202072fae30ca",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "4e8f7076589ea977",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 770,
    "y": 2400,
    "wires": [
      [
        "68ac80a46640bc8a"
      ]
    ]
  },
  {
    "id": "ea377511bda2edc5",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 270,
    "y": 1920,
    "wires": [
      [
        "4ca2710a68ee8cf7"
      ]
    ]
  },
  {
    "id": "8bb2921d3035f78f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload='HP'?'Heures pleines':'Heures creuses'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2110,
    "y": 2040,
    "wires": [
      [
        "8bc96e353c45fe20"
      ]
    ]
  },
  {
    "id": "d28afb23b014c0d3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "power",
        "pt": "msg",
        "to": "metrics[msg.bucket]['power'][msg.field]",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "tariff",
        "pt": "msg",
        "to": "metrics[msg.bucket]['tariff'][msg.field]",
        "tot": "global"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1010,
    "y": 1980,
    "wires": [
      [
        "8baf81aaecbe3ab0",
        "f64316cbc425c3fb"
      ]
    ]
  },
  {
    "id": "2b7c57be9b721cd6",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "check if field exists",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "(electric meter|solar panels)",
        "vt": "str",
        "case": false
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 610,
    "y": 1860,
    "wires": [
      [
        "154312b0a80ad157",
        "992ae204a4e2dac4"
      ]
    ]
  },
  {
    "id": "8baf81aaecbe3ab0",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "power",
    "property": "power",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nnull"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1190,
    "y": 1980,
    "wires": [
      [
        "529b8f85ea492b9a"
      ]
    ]
  },
  {
    "id": "f64316cbc425c3fb",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "tariff",
    "property": "tariff",
    "propertyType": "msg",
    "rules": [
      {
        "t": "nnull"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1190,
    "y": 2040,
    "wires": [
      [
        "27ccfea85f2033da"
      ]
    ]
  },
  {
    "id": "27ccfea85f2033da",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "tariff",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 2040,
    "wires": [
      [
        "8bb2921d3035f78f"
      ]
    ]
  },
  {
    "id": "529b8f85ea492b9a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "power",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 1980,
    "wires": [
      [
        "ce300a4fa3da028b",
        "3e26b34cc3ab9745"
      ]
    ]
  },
  {
    "id": "154312b0a80ad157",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 820,
    "y": 1980,
    "wires": [
      [
        "d28afb23b014c0d3"
      ]
    ]
  },
  {
    "id": "3e26b34cc3ab9745",
    "type": "trigger",
    "z": "aab0c030de7df5cc",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "10",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "bucket",
    "outputs": 1,
    "x": 1540,
    "y": 1800,
    "wires": [
      [
        "73cb2cee63b22726"
      ]
    ]
  },
  {
    "id": "a8c19f86a71e21fe",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1350,
    "y": 2100,
    "wires": [
      [
        "3e26b34cc3ab9745"
      ]
    ]
  },
  {
    "id": "8bc96e353c45fe20",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "0db8801c7e0e4401",
    "group": "c19749d8e5cc1e1f",
    "order": 3,
    "width": "6",
    "height": "1",
    "name": "tariff",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 2270,
    "y": 2040,
    "wires": []
  },
  {
    "id": "458c9a22f37b6191",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "get rooms from global",
    "rules": [
      {
        "t": "set",
        "p": "form.rooms",
        "pt": "flow",
        "to": "[]",
        "tot": "json"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "rooms",
        "tot": "global"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1480,
    "y": 480,
    "wires": [
      [
        "314561e371cc1d33"
      ]
    ]
  },
  {
    "id": "314561e371cc1d33",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "split rooms",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "room",
    "x": 1710,
    "y": 480,
    "wires": [
      [
        "d261fda32fe95984"
      ]
    ]
  },
  {
    "id": "d261fda32fe95984",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "to array",
    "rules": [
      {
        "t": "set",
        "p": "form.rooms[msg.parts.index]",
        "pt": "flow",
        "to": "{'label':msg.room,'value':msg.room}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1900,
    "y": 480,
    "wires": [
      [
        "37a5b70ff95bdfaa"
      ]
    ]
  },
  {
    "id": "37a5b70ff95bdfaa",
    "type": "join",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "",
    "mode": "auto",
    "build": "object",
    "property": "payload",
    "propertyType": "msg",
    "key": "topic",
    "joiner": "\\n",
    "joinerType": "str",
    "accumulate": "false",
    "timeout": "",
    "count": "",
    "reduceRight": false,
    "x": 2070,
    "y": 480,
    "wires": [
      [
        "a236904666d238af"
      ]
    ]
  },
  {
    "id": "a236904666d238af",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "set option",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "form.rooms",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$append(msg.options,[{'label':'» recharger','value':''}])",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2240,
    "y": 480,
    "wires": [
      [
        "9ff63582ab95f6c6"
      ]
    ]
  },
  {
    "id": "9ff63582ab95f6c6",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "group": "36396f5285df476c",
    "name": "select room",
    "label": "Chosir une pièce :",
    "tooltip": "",
    "order": 1,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "» recharger",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 2430,
    "y": 480,
    "wires": [
      [
        "cd511cc2255f17b9"
      ]
    ]
  },
  {
    "id": "e5e35f07fafcaa5b",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "room - seletion - select",
    "mode": "link",
    "links": [
      "1be6ca3c2b8615a2"
    ],
    "x": 2765,
    "y": 480,
    "wires": []
  },
  {
    "id": "5a9f17c8e8298b92",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "group": "36396f5285df476c",
    "order": 2,
    "width": "2",
    "height": "1",
    "name": "reset delay (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1300,
    "y": 240,
    "wires": []
  },
  {
    "id": "b8e3afedf42e1ec0",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "fedaeb34f9bc97e4",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'RAZ à '&msg.payload&'min'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1110,
    "y": 240,
    "wires": [
      [
        "5a9f17c8e8298b92"
      ]
    ]
  },
  {
    "id": "cd511cc2255f17b9",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "b64c96e257072f51",
    "name": "reload",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "",
        "vt": "str"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 2610,
    "y": 480,
    "wires": [
      [
        "458c9a22f37b6191"
      ],
      [
        "e5e35f07fafcaa5b"
      ]
    ]
  },
  {
    "id": "3bd22b1740d9d8b2",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "04de52a5f5237233",
    "group": "8bdaa1ba3eb700cc",
    "name": "chart outdoor temperature",
    "label": "",
    "order": 1,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#1f77b4",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 550,
    "y": 1000,
    "wires": [
      []
    ]
  },
  {
    "id": "43e68c058a7661d6",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "04de52a5f5237233",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "from(bucket: \"resume\")\n  |> range(start: -1d, stop: now())\n  |> aggregateWindow(every: 30m, fn: last, createEmpty: false)\n  |> filter(fn: (r) =>\n    r._measurement == \"temperature\" and (r._field == \"parking probe\" or r._field == \"jardin probe\")\n  )",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 300,
    "y": 1000,
    "wires": [
      [
        "3bd22b1740d9d8b2"
      ]
    ]
  },
  {
    "id": "b3f5b970a9b03119",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "04de52a5f5237233",
    "name": "home - ui - chart outdoor temperature",
    "links": [
      "004bb30c27c94fb4"
    ],
    "x": 135,
    "y": 1000,
    "wires": [
      [
        "43e68c058a7661d6"
      ]
    ]
  },
  {
    "id": "53e61734d5875604",
    "type": "ui-chart",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "84416ebc7a349dd4",
    "group": "7f89503f8062898b",
    "name": "chart outdoor humidity",
    "label": "",
    "order": 1,
    "chartType": "line",
    "category": "_field",
    "categoryType": "property",
    "xAxisProperty": "_time",
    "xAxisPropertyType": "msg",
    "xAxisType": "time",
    "yAxisProperty": "_value",
    "ymin": "",
    "ymax": "",
    "action": "replace",
    "pointShape": "false",
    "pointRadius": "2",
    "showLegend": false,
    "removeOlder": 1,
    "removeOlderUnit": "86400",
    "removeOlderPoints": "100",
    "colors": [
      "#1f77b4",
      "#aec7e8",
      "#ff7f0e",
      "#2ca02c",
      "#98df8a",
      "#d62728",
      "#ff9896",
      "#9467bd",
      "#c5b0d5"
    ],
    "width": 6,
    "height": "6",
    "className": "",
    "x": 540,
    "y": 1120,
    "wires": [
      []
    ]
  },
  {
    "id": "f9ae231f709aa135",
    "type": "influxdb in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "84416ebc7a349dd4",
    "influxdb": "e408b55d1dc6870d",
    "name": "",
    "query": "from(bucket: \"resume\")\n  |> range(start: -1d, stop: now())\n  |> aggregateWindow(every: 30m, fn: last, createEmpty: false)\n  |> filter(fn: (r) =>\n    r._measurement == \"humidity\" and (r._field == \"parking probe\" or r._field == \"jardin probe\")\n  )",
    "rawOutput": false,
    "precision": "",
    "retentionPolicy": "",
    "org": "iotredloop",
    "x": 300,
    "y": 1120,
    "wires": [
      [
        "53e61734d5875604"
      ]
    ]
  },
  {
    "id": "50bc182c3569008c",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "d": true,
    "g": "84416ebc7a349dd4",
    "name": "home - ui - chart outdoor humidity",
    "links": [
      "004bb30c27c94fb4"
    ],
    "x": 135,
    "y": 1120,
    "wires": [
      [
        "f9ae231f709aa135"
      ]
    ]
  },
  {
    "id": "3ea1bb4e5ff3e53a",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "balloon",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 670,
    "y": 3660,
    "wires": [
      [
        "417fbb2eb3a923ed",
        "e5267eaa5761e821"
      ]
    ]
  },
  {
    "id": "bf71f08c103ab9bf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "[{'label':'N/A','value':''}]",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3600,
    "wires": [
      [
        "417fbb2eb3a923ed",
        "309706fa0b759907"
      ]
    ]
  },
  {
    "id": "b8ed61d35607d163",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 3480,
    "wires": [
      [
        "3fbe41cfcb30b29f",
        "92f84c3ac249f995"
      ]
    ]
  },
  {
    "id": "4c93ed77e680ad7a",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 3540,
    "wires": [
      [
        "a2ed4c3380f63344"
      ]
    ]
  },
  {
    "id": "f1cc0ee7d294d743",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "room - ui - cumulus - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 1315,
    "y": 3660,
    "wires": []
  },
  {
    "id": "6899ef31a931df1c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1180,
    "y": 3660,
    "wires": [
      [
        "f1cc0ee7d294d743"
      ]
    ]
  },
  {
    "id": "a2ed4c3380f63344",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "cumulus",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 300,
    "y": 3540,
    "wires": [
      [
        "8a877a1f0ad96a9f",
        "c17dc35aca46f82c"
      ]
    ]
  },
  {
    "id": "d66a556c8804aa96",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1170,
    "y": 3480,
    "wires": []
  },
  {
    "id": "5a3cf6eb82112299",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun cumulus",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1000,
    "y": 3480,
    "wires": [
      [
        "d66a556c8804aa96"
      ]
    ]
  },
  {
    "id": "3fbe41cfcb30b29f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Cumulus\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3480,
    "wires": [
      [
        "5a3cf6eb82112299",
        "86bf6614eaaed4fb"
      ]
    ]
  },
  {
    "id": "8a877a1f0ad96a9f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Cumulus\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3540,
    "wires": [
      [
        "86bf6614eaaed4fb",
        "5a3cf6eb82112299"
      ]
    ]
  },
  {
    "id": "86bf6614eaaed4fb",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1000,
    "y": 3540,
    "wires": [
      []
    ]
  },
  {
    "id": "417fbb2eb3a923ed",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "balloon",
    "label": "",
    "group": "d9226f161296ef5d",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "balloon",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "water-boiler",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "water-boiler-off",
    "offcolor": "grey",
    "x": 1000,
    "y": 3660,
    "wires": [
      [
        "6899ef31a931df1c"
      ]
    ]
  },
  {
    "id": "c17dc35aca46f82c",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 500,
    "y": 3660,
    "wires": [
      [
        "3ea1bb4e5ff3e53a"
      ]
    ]
  },
  {
    "id": "92f84c3ac249f995",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 270,
    "y": 3600,
    "wires": [
      [
        "bf71f08c103ab9bf"
      ]
    ]
  },
  {
    "id": "e5267eaa5761e821",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload?\"Cumulus en marche\":\"Cumulus à l'arrêt\"",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3720,
    "wires": [
      [
        "309706fa0b759907"
      ]
    ]
  },
  {
    "id": "309706fa0b759907",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "9b11e3a85026957b",
    "group": "d9226f161296ef5d",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "balloon (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1010,
    "y": 3720,
    "wires": []
  },
  {
    "id": "367ddcc943fb234e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "cmv",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 670,
    "y": 4020,
    "wires": [
      [
        "18531ed9a7d1af80",
        "a80b7e58e8b264f6"
      ]
    ]
  },
  {
    "id": "b3e71ec6ef25bab1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "[{'label':'N/A','value':''}]",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3960,
    "wires": [
      [
        "a80b7e58e8b264f6",
        "204d9ba1193ba811"
      ]
    ]
  },
  {
    "id": "ef2769915480b0f6",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 3840,
    "wires": [
      [
        "174edf5e342c527e",
        "3902e4b05ebbbfaf"
      ]
    ]
  },
  {
    "id": "4bea82d34bf79d91",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 3900,
    "wires": [
      [
        "9cab1d58af793873"
      ]
    ]
  },
  {
    "id": "a4dbfc219ae2dcd8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1180,
    "y": 4020,
    "wires": [
      [
        "ef9a2b91b42284b7"
      ]
    ]
  },
  {
    "id": "9cab1d58af793873",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "airflow",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 300,
    "y": 3900,
    "wires": [
      [
        "ede7f68b56764350",
        "0e12a116cd5a645e"
      ]
    ]
  },
  {
    "id": "174edf5e342c527e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Ventilation\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3840,
    "wires": [
      [
        "1fc6514464e22856",
        "c7121847509f1d08"
      ]
    ]
  },
  {
    "id": "c7121847509f1d08",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune ventialtion",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1000,
    "y": 3840,
    "wires": [
      [
        "989b7d7ecba85616"
      ]
    ]
  },
  {
    "id": "989b7d7ecba85616",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1170,
    "y": 3840,
    "wires": []
  },
  {
    "id": "1fc6514464e22856",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1000,
    "y": 3900,
    "wires": [
      []
    ]
  },
  {
    "id": "ede7f68b56764350",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Ventilation\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 3900,
    "wires": [
      [
        "1fc6514464e22856",
        "c7121847509f1d08"
      ]
    ]
  },
  {
    "id": "a80b7e58e8b264f6",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "cmv",
    "label": "",
    "group": "2da57f82233c276b",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "cmv",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "fan",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "fan-off",
    "offcolor": "grey",
    "x": 990,
    "y": 4020,
    "wires": [
      [
        "a4dbfc219ae2dcd8"
      ]
    ]
  },
  {
    "id": "0e12a116cd5a645e",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "250 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 500,
    "y": 4020,
    "wires": [
      [
        "367ddcc943fb234e"
      ]
    ]
  },
  {
    "id": "3902e4b05ebbbfaf",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 270,
    "y": 3960,
    "wires": [
      [
        "b3e71ec6ef25bab1"
      ]
    ]
  },
  {
    "id": "18531ed9a7d1af80",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload?\"Ventilation en marche\":\"Ventialtion à l'arrêt\"",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 830,
    "y": 4080,
    "wires": [
      [
        "204d9ba1193ba811"
      ]
    ]
  },
  {
    "id": "204d9ba1193ba811",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "group": "2da57f82233c276b",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "cmv (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1000,
    "y": 4080,
    "wires": []
  },
  {
    "id": "ef9a2b91b42284b7",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "486786996f8e512b",
    "name": "room - ui - airflow - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 1315,
    "y": 4020,
    "wires": []
  },
  {
    "id": "af81b0a41bcf99df",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.aperture",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1440,
    "wires": [
      [
        "e9d47e8d56320c0f",
        "e1468bd07f7833d2",
        "fd32c9160864393c",
        "e92aecb14578b6f2",
        "8511a4bc957115d4",
        "08e432ec0eeec199",
        "c7e91ffdb1fe5a2e",
        "280b16759c50ec5d",
        "f098e88f376a791b",
        "c3a2ed381aba6a33",
        "3fecb11ba25e2884",
        "48fe1d10a3a37a85"
      ]
    ]
  },
  {
    "id": "6d6224968ba7c5d9",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "room - ui - aperture - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 1380,
    "wires": [
      [
        "4468e5d7d722f524"
      ]
    ]
  },
  {
    "id": "c6f86ceb44d413ed",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "room - ui - aperture - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 1320,
    "wires": [
      [
        "227b59bd71d4ea5a",
        "557d6369a161cd69"
      ]
    ]
  },
  {
    "id": "227b59bd71d4ea5a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Ouvertures\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1320,
    "wires": [
      [
        "b2720f096a0b488e",
        "f87851f6472299ee"
      ]
    ]
  },
  {
    "id": "0667b13392452757",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Ouvertures\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1380,
    "wires": [
      [
        "b2720f096a0b488e",
        "f87851f6472299ee"
      ]
    ]
  },
  {
    "id": "b4bde00bbca1c9c3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4780,
    "y": 1560,
    "wires": [
      [
        "1c698f378d20c0c8"
      ]
    ]
  },
  {
    "id": "1c698f378d20c0c8",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "room - ui - aperture - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 4915,
    "y": 1560,
    "wires": []
  },
  {
    "id": "4468e5d7d722f524",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "aperture",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 1380,
    "wires": [
      [
        "0667b13392452757",
        "b129a76c891d0014"
      ]
    ]
  },
  {
    "id": "b2720f096a0b488e",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4420,
    "y": 1380,
    "wires": [
      []
    ]
  },
  {
    "id": "d0e8c2ef168e690c",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 1320,
    "wires": []
  },
  {
    "id": "f87851f6472299ee",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune ouverture",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4420,
    "y": 1320,
    "wires": [
      [
        "d0e8c2ef168e690c"
      ]
    ]
  },
  {
    "id": "e9d47e8d56320c0f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "aperture 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4440,
    "y": 1620,
    "wires": []
  },
  {
    "id": "e1468bd07f7833d2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "aperture 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4440,
    "y": 1680,
    "wires": []
  },
  {
    "id": "fd32c9160864393c",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "aperture 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4440,
    "y": 1740,
    "wires": []
  },
  {
    "id": "e92aecb14578b6f2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "aperture 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4440,
    "y": 1800,
    "wires": []
  },
  {
    "id": "8511a4bc957115d4",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "aperture 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4440,
    "y": 1860,
    "wires": []
  },
  {
    "id": "08e432ec0eeec199",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "name": "shutter",
    "label": "",
    "tooltip": "",
    "order": 13,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "shutter",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "x": 4610,
    "y": 1560,
    "wires": [
      [
        "b4bde00bbca1c9c3"
      ]
    ]
  },
  {
    "id": "04ae900e7a8e5ac8",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3420,
    "y": 1620,
    "wires": [
      [
        "248ab1ebea76ecae"
      ]
    ]
  },
  {
    "id": "248ab1ebea76ecae",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'La '&$string(msg.trans)&' est '&(msg.payload?'ouverte':'fermée')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3610,
    "y": 1620,
    "wires": [
      [
        "95a3aef8bfc333e1"
      ]
    ]
  },
  {
    "id": "95a3aef8bfc333e1",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "exists",
    "property": "index.aperture",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3770,
    "y": 1620,
    "wires": [
      [
        "d5b35dbd65c8c2b9"
      ],
      [
        "3cecd7c4f79dd7fe"
      ]
    ]
  },
  {
    "id": "d5b35dbd65c8c2b9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.battery[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3930,
    "y": 1620,
    "wires": [
      [
        "6b79b66429521305"
      ]
    ]
  },
  {
    "id": "3cecd7c4f79dd7fe",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.aperture",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.aperture[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3930,
    "y": 1680,
    "wires": [
      [
        "6b79b66429521305"
      ]
    ]
  },
  {
    "id": "6b79b66429521305",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 4090,
    "y": 1620,
    "wires": [
      [
        "99abe6ab320bf6f1",
        "c7e91ffdb1fe5a2e"
      ],
      [
        "5e8e9f03c92c72bf",
        "280b16759c50ec5d"
      ],
      [
        "cec940e246132dd8",
        "f098e88f376a791b"
      ],
      [
        "bc3f1c8b796e6e94",
        "c3a2ed381aba6a33"
      ],
      [
        "55458de5ef49bb91",
        "3fecb11ba25e2884"
      ]
    ]
  },
  {
    "id": "7b3f1aaec004ecfa",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "shutter",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "shutter",
        "vt": "str"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3230,
    "y": 1560,
    "wires": [
      [
        "08e432ec0eeec199",
        "22b8700637e578f9"
      ],
      [
        "04ae900e7a8e5ac8"
      ]
    ]
  },
  {
    "id": "c7e91ffdb1fe5a2e",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "aperture 01",
    "label": "",
    "group": "1af30d82c94d6258",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "purple",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door",
    "offcolor": "grey",
    "x": 4650,
    "y": 1620,
    "wires": [
      []
    ]
  },
  {
    "id": "99abe6ab320bf6f1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1620,
    "wires": [
      [
        "e9d47e8d56320c0f"
      ]
    ]
  },
  {
    "id": "5e8e9f03c92c72bf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1680,
    "wires": [
      [
        "e1468bd07f7833d2"
      ]
    ]
  },
  {
    "id": "cec940e246132dd8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1740,
    "wires": [
      [
        "fd32c9160864393c"
      ]
    ]
  },
  {
    "id": "bc3f1c8b796e6e94",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1800,
    "wires": [
      [
        "e92aecb14578b6f2"
      ]
    ]
  },
  {
    "id": "55458de5ef49bb91",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1860,
    "wires": [
      [
        "8511a4bc957115d4"
      ]
    ]
  },
  {
    "id": "f098e88f376a791b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "aperture 03",
    "label": "",
    "group": "1af30d82c94d6258",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "purple",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door",
    "offcolor": "grey",
    "x": 4650,
    "y": 1740,
    "wires": [
      []
    ]
  },
  {
    "id": "c3a2ed381aba6a33",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "aperture 04",
    "label": "",
    "group": "1af30d82c94d6258",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "purple",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door",
    "offcolor": "grey",
    "x": 4650,
    "y": 1800,
    "wires": [
      []
    ]
  },
  {
    "id": "3fecb11ba25e2884",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "aperture 05",
    "label": "",
    "group": "1af30d82c94d6258",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "purple",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door",
    "offcolor": "grey",
    "x": 4650,
    "y": 1860,
    "wires": [
      []
    ]
  },
  {
    "id": "b129a76c891d0014",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 1560,
    "wires": [
      [
        "7b3f1aaec004ecfa"
      ]
    ]
  },
  {
    "id": "280b16759c50ec5d",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "aperture 02",
    "label": "",
    "group": "1af30d82c94d6258",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "purple",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door",
    "offcolor": "grey",
    "x": 4650,
    "y": 1680,
    "wires": [
      []
    ]
  },
  {
    "id": "48fe1d10a3a37a85",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "group": "1af30d82c94d6258",
    "order": 12,
    "width": "2",
    "height": "1",
    "name": "shutter (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 1560,
    "wires": []
  },
  {
    "id": "22b8700637e578f9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Volet à '&msg.payload&'%'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 1560,
    "wires": [
      [
        "48fe1d10a3a37a85"
      ]
    ]
  },
  {
    "id": "557d6369a161cd69",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "af3293313a492113",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 1440,
    "wires": [
      [
        "af81b0a41bcf99df"
      ]
    ]
  },
  {
    "id": "2ac79808a71cacb1",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "value",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "0",
        "vt": "num"
      },
      {
        "t": "false"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 3610,
    "y": 2220,
    "wires": [
      [
        "191e72ca8d7deecf"
      ],
      [
        "191e72ca8d7deecf"
      ],
      [
        "4f140e0b7bb038a6"
      ]
    ]
  },
  {
    "id": "191e72ca8d7deecf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "false",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 2220,
    "wires": [
      [
        "fa4bf780a0f34822"
      ]
    ]
  },
  {
    "id": "4f140e0b7bb038a6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "true",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 2280,
    "wires": [
      [
        "fa4bf780a0f34822"
      ]
    ]
  },
  {
    "id": "68a06a849669ed22",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4960,
    "y": 2220,
    "wires": [
      [
        "60368ba60dfa48a3"
      ]
    ]
  },
  {
    "id": "3add54b2949c23ec",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.light",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2100,
    "wires": [
      [
        "246e55d292fe0f91",
        "c863abef8c3dded1",
        "ea7482edacd656f7",
        "1b1ed5db08fa516f",
        "f9014dd138d70756",
        "4ed4b78dc034a6c9",
        "3ea01cdef09d498b",
        "912811332f1921eb",
        "0fa65bab1ee8568a",
        "7280c7be1481cd40"
      ]
    ]
  },
  {
    "id": "5f3f7c722ac856e1",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "boot light",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 1980,
    "wires": [
      [
        "cae48203992d0c58",
        "689e466df8f8c5c5"
      ]
    ]
  },
  {
    "id": "60368ba60dfa48a3",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "room - ui - light - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 5095,
    "y": 2220,
    "wires": []
  },
  {
    "id": "6d778528ac85f061",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "room - ui - light - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 2040,
    "wires": [
      [
        "428c4887aeb1b8bf"
      ]
    ]
  },
  {
    "id": "2416eed2ad7fb675",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Lumières\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2040,
    "wires": [
      [
        "2c47c873b0dfeb59",
        "eba701577392c37d"
      ]
    ]
  },
  {
    "id": "cae48203992d0c58",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Lumières\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 1980,
    "wires": [
      [
        "eba701577392c37d",
        "2c47c873b0dfeb59"
      ]
    ]
  },
  {
    "id": "d01299e89f601944",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 4250,
    "y": 2220,
    "wires": [
      [
        "caf4791638c6f452",
        "246e55d292fe0f91"
      ],
      [
        "4a96348eb648c97c",
        "1b1ed5db08fa516f"
      ],
      [
        "a95a9af12bbd3646",
        "f9014dd138d70756"
      ],
      [
        "27111821405d5644",
        "3ea01cdef09d498b"
      ],
      [
        "7de1422ef0247bba",
        "0fa65bab1ee8568a"
      ]
    ]
  },
  {
    "id": "c9b6f8136ca0bd79",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.light[msg.field]",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 2220,
    "wires": [
      [
        "d01299e89f601944"
      ]
    ]
  },
  {
    "id": "fa4bf780a0f34822",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "exists",
    "property": "index.light",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3930,
    "y": 2220,
    "wires": [
      [
        "c9b6f8136ca0bd79"
      ],
      [
        "2839b9ab42bf552c"
      ]
    ]
  },
  {
    "id": "2839b9ab42bf552c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.light",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.light[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 2280,
    "wires": [
      [
        "d01299e89f601944"
      ]
    ]
  },
  {
    "id": "428c4887aeb1b8bf",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "light",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 2040,
    "wires": [
      [
        "2416eed2ad7fb675",
        "283d461116d4ddad"
      ]
    ]
  },
  {
    "id": "2c47c873b0dfeb59",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4580,
    "y": 2040,
    "wires": [
      []
    ]
  },
  {
    "id": "eba701577392c37d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune lumière",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4580,
    "y": 1980,
    "wires": [
      [
        "f0f16786525d1859"
      ]
    ]
  },
  {
    "id": "f0f16786525d1859",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4750,
    "y": 1980,
    "wires": []
  },
  {
    "id": "246e55d292fe0f91",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "light 01",
    "label": "",
    "group": "0b218c608a39070c",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "4",
    "onvalueType": "num",
    "onicon": "lightbulb-on",
    "oncolor": "yellow",
    "offvalue": "0",
    "offvalueType": "num",
    "officon": "lightbulb-off-outline",
    "offcolor": "grey",
    "x": 4780,
    "y": 2220,
    "wires": [
      [
        "68a06a849669ed22"
      ]
    ]
  },
  {
    "id": "c863abef8c3dded1",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "light 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2220,
    "wires": []
  },
  {
    "id": "caf4791638c6f452",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2220,
    "wires": [
      [
        "c863abef8c3dded1"
      ]
    ]
  },
  {
    "id": "1b1ed5db08fa516f",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "light 02",
    "label": "",
    "group": "0b218c608a39070c",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "4",
    "onvalueType": "num",
    "onicon": "lightbulb-on",
    "oncolor": "yellow",
    "offvalue": "0",
    "offvalueType": "num",
    "officon": "lightbulb-off-outline",
    "offcolor": "grey",
    "x": 4780,
    "y": 2280,
    "wires": [
      [
        "68a06a849669ed22"
      ]
    ]
  },
  {
    "id": "ea7482edacd656f7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "light 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2280,
    "wires": []
  },
  {
    "id": "4a96348eb648c97c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2280,
    "wires": [
      [
        "ea7482edacd656f7"
      ]
    ]
  },
  {
    "id": "f9014dd138d70756",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "light 03",
    "label": "",
    "group": "0b218c608a39070c",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "4",
    "onvalueType": "num",
    "onicon": "lightbulb-on",
    "oncolor": "yellow",
    "offvalue": "0",
    "offvalueType": "num",
    "officon": "lightbulb-off-outline",
    "offcolor": "grey",
    "x": 4780,
    "y": 2340,
    "wires": [
      [
        "68a06a849669ed22"
      ]
    ]
  },
  {
    "id": "4ed4b78dc034a6c9",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "light 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2340,
    "wires": []
  },
  {
    "id": "a95a9af12bbd3646",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2340,
    "wires": [
      [
        "4ed4b78dc034a6c9"
      ]
    ]
  },
  {
    "id": "3ea01cdef09d498b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "light 04",
    "label": "",
    "group": "0b218c608a39070c",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "4",
    "onvalueType": "num",
    "onicon": "lightbulb-on",
    "oncolor": "yellow",
    "offvalue": "0",
    "offvalueType": "num",
    "officon": "lightbulb-off-outline",
    "offcolor": "grey",
    "x": 4780,
    "y": 2400,
    "wires": [
      [
        "68a06a849669ed22"
      ]
    ]
  },
  {
    "id": "912811332f1921eb",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "light 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2400,
    "wires": []
  },
  {
    "id": "27111821405d5644",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2400,
    "wires": [
      [
        "912811332f1921eb"
      ]
    ]
  },
  {
    "id": "0fa65bab1ee8568a",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "light 05",
    "label": "",
    "group": "0b218c608a39070c",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "4",
    "onvalueType": "num",
    "onicon": "lightbulb-on",
    "oncolor": "yellow",
    "offvalue": "0",
    "offvalueType": "num",
    "officon": "lightbulb-off-outline",
    "offcolor": "grey",
    "x": 4780,
    "y": 2460,
    "wires": [
      [
        "68a06a849669ed22"
      ]
    ]
  },
  {
    "id": "7280c7be1481cd40",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "group": "0b218c608a39070c",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "light 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2460,
    "wires": []
  },
  {
    "id": "7de1422ef0247bba",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 2460,
    "wires": [
      [
        "7280c7be1481cd40"
      ]
    ]
  },
  {
    "id": "ac514b49b2018467",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 2220,
    "wires": [
      [
        "639c01a19ae1a820"
      ]
    ]
  },
  {
    "id": "639c01a19ae1a820",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Lumière '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 2220,
    "wires": [
      [
        "2ac79808a71cacb1"
      ]
    ]
  },
  {
    "id": "283d461116d4ddad",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 2220,
    "wires": [
      [
        "ac514b49b2018467"
      ]
    ]
  },
  {
    "id": "689e466df8f8c5c5",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "edfd321fdae55df0",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 2100,
    "wires": [
      [
        "3add54b2949c23ec"
      ]
    ]
  },
  {
    "id": "197667ca4e9cdc54",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "value",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "true"
      },
      {
        "t": "gt",
        "v": "0",
        "vt": "num"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 3450,
    "y": 2820,
    "wires": [
      [
        "3bb2a286f77067a9"
      ],
      [
        "3bb2a286f77067a9"
      ],
      [
        "3996f05011c215e4"
      ]
    ]
  },
  {
    "id": "3bb2a286f77067a9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "true",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3610,
    "y": 2820,
    "wires": [
      [
        "9f05d32a15544b29"
      ]
    ]
  },
  {
    "id": "3996f05011c215e4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "false",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3610,
    "y": 2880,
    "wires": [
      [
        "9f05d32a15544b29"
      ]
    ]
  },
  {
    "id": "c81bc2696963b090",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4820,
    "y": 2820,
    "wires": [
      [
        "89d8b374ec0c8d64"
      ]
    ]
  },
  {
    "id": "24db240be39b9a2a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.outlet",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2700,
    "wires": [
      [
        "e163c6ad2e2227d2",
        "b7a0e4825f15e4a2",
        "5dd5e52ffb38148e",
        "1d70860e3f2cb386",
        "c3d1a81ac0746df1",
        "ad569b0b9d7deb89",
        "41ab086b1bafeb41",
        "7d41bae2b6bb3e6a",
        "fbcc441952a7c9da",
        "4f0a78c09e88ac52"
      ]
    ]
  },
  {
    "id": "e804fb2bad48ce0d",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "boot outlet",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 2580,
    "wires": [
      [
        "f31fb49f04148c64",
        "17e00a50bca8a511"
      ]
    ]
  },
  {
    "id": "89d8b374ec0c8d64",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "room - ui - outlet - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 4955,
    "y": 2820,
    "wires": []
  },
  {
    "id": "cdf2ad725fe8ba54",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "room - ui - outlet - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 2640,
    "wires": [
      [
        "465d409da29c386d"
      ]
    ]
  },
  {
    "id": "7e8e1ce7414fbc36",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 4090,
    "y": 2820,
    "wires": [
      [
        "d84590265fa8da9a",
        "e163c6ad2e2227d2"
      ],
      [
        "0217c5132e551168",
        "5dd5e52ffb38148e"
      ],
      [
        "1ebdf2bf88a5d99c",
        "c3d1a81ac0746df1"
      ],
      [
        "0bac1457f2c3c913",
        "41ab086b1bafeb41"
      ],
      [
        "825e71c37d3c674a",
        "fbcc441952a7c9da"
      ]
    ]
  },
  {
    "id": "38b3477f104b9d36",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.outlet",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.outlet[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3930,
    "y": 2880,
    "wires": [
      [
        "7e8e1ce7414fbc36"
      ]
    ]
  },
  {
    "id": "bc14b0716cd43585",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.outlet[msg.field]",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3930,
    "y": 2820,
    "wires": [
      [
        "7e8e1ce7414fbc36"
      ]
    ]
  },
  {
    "id": "9f05d32a15544b29",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "exists",
    "property": "index.outlet",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3770,
    "y": 2820,
    "wires": [
      [
        "bc14b0716cd43585"
      ],
      [
        "38b3477f104b9d36"
      ]
    ]
  },
  {
    "id": "465d409da29c386d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "outlet",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 2640,
    "wires": [
      [
        "a3a4cb31ebdbb809",
        "142c5e63a5897acb"
      ]
    ]
  },
  {
    "id": "a3a4cb31ebdbb809",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Prises\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2640,
    "wires": [
      [
        "a0e5fc984e2031a8",
        "8e95a2345189876d"
      ]
    ]
  },
  {
    "id": "f31fb49f04148c64",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Prises\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2580,
    "wires": [
      [
        "8e95a2345189876d",
        "a0e5fc984e2031a8"
      ]
    ]
  },
  {
    "id": "a0e5fc984e2031a8",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4420,
    "y": 2640,
    "wires": [
      []
    ]
  },
  {
    "id": "8e95a2345189876d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune lumière",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4420,
    "y": 2580,
    "wires": [
      [
        "6a476a7e62631884"
      ]
    ]
  },
  {
    "id": "6a476a7e62631884",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4590,
    "y": 2580,
    "wires": []
  },
  {
    "id": "e163c6ad2e2227d2",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "sw outlet 1",
    "label": "",
    "group": "73569c6c69828619",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off-outline",
    "offcolor": "grey",
    "x": 4630,
    "y": 2820,
    "wires": [
      [
        "c81bc2696963b090"
      ]
    ]
  },
  {
    "id": "b7a0e4825f15e4a2",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "txt outlet 1",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 2820,
    "wires": []
  },
  {
    "id": "d84590265fa8da9a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "state",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Prise '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2820,
    "wires": [
      [
        "b7a0e4825f15e4a2"
      ]
    ]
  },
  {
    "id": "5dd5e52ffb38148e",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "sw outlet 2",
    "label": "",
    "group": "73569c6c69828619",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off-outline",
    "offcolor": "grey",
    "x": 4630,
    "y": 2880,
    "wires": [
      [
        "c81bc2696963b090"
      ]
    ]
  },
  {
    "id": "1d70860e3f2cb386",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "txt outlet 2",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 2880,
    "wires": []
  },
  {
    "id": "0217c5132e551168",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "state",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Prise '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2880,
    "wires": [
      [
        "1d70860e3f2cb386"
      ]
    ]
  },
  {
    "id": "c3d1a81ac0746df1",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "sw outlet 3",
    "label": "",
    "group": "73569c6c69828619",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off-outline",
    "offcolor": "grey",
    "x": 4630,
    "y": 2940,
    "wires": [
      [
        "c81bc2696963b090"
      ]
    ]
  },
  {
    "id": "ad569b0b9d7deb89",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "txt outlet  3",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 2940,
    "wires": []
  },
  {
    "id": "1ebdf2bf88a5d99c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "state",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Prise '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 2940,
    "wires": [
      [
        "ad569b0b9d7deb89"
      ]
    ]
  },
  {
    "id": "41ab086b1bafeb41",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "sw outlet 4",
    "label": "",
    "group": "73569c6c69828619",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off-outline",
    "offcolor": "grey",
    "x": 4630,
    "y": 3000,
    "wires": [
      [
        "c81bc2696963b090"
      ]
    ]
  },
  {
    "id": "7d41bae2b6bb3e6a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "txt outlet 4",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 3000,
    "wires": []
  },
  {
    "id": "0bac1457f2c3c913",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "state",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Prise '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 3000,
    "wires": [
      [
        "7d41bae2b6bb3e6a"
      ]
    ]
  },
  {
    "id": "fbcc441952a7c9da",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "sw outlet 5",
    "label": "",
    "group": "73569c6c69828619",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off-outline",
    "offcolor": "grey",
    "x": 4630,
    "y": 3060,
    "wires": [
      [
        "c81bc2696963b090"
      ]
    ]
  },
  {
    "id": "4f0a78c09e88ac52",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "group": "73569c6c69828619",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "txt outlet 5",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 3060,
    "wires": []
  },
  {
    "id": "825e71c37d3c674a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "state",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Prise '&msg.trans&(msg.payload?' allumée':' éteinte')",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 3060,
    "wires": [
      [
        "4f0a78c09e88ac52"
      ]
    ]
  },
  {
    "id": "b2a2d9d670500881",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 2820,
    "wires": [
      [
        "197667ca4e9cdc54"
      ]
    ]
  },
  {
    "id": "142c5e63a5897acb",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 2820,
    "wires": [
      [
        "b2a2d9d670500881"
      ]
    ]
  },
  {
    "id": "17e00a50bca8a511",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "cfd2fc533d86ab94",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 2700,
    "wires": [
      [
        "24db240be39b9a2a"
      ]
    ]
  },
  {
    "id": "cfe03bc0196989f5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.battery",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3300,
    "wires": [
      [
        "9d9a9a166ac14a87",
        "28383999950bc1ee",
        "ab5070d8e2289db3",
        "0b3ada9a154f8404",
        "2a102caad43b93f6",
        "47c0bf4047a645fd",
        "82e320bbcec01dec",
        "47b82a6a458a6f25",
        "3744b28f43a5bb2b",
        "8ffac054b06e408a",
        "25c121f68955e797",
        "815d0596d6b03dba",
        "3cfbbbdec94a469c",
        "8ba2fb2ae10d5f8a",
        "12443294ea11d3c1",
        "91b94a9d896e7e78",
        "b525d95cb47e05e7",
        "bb111dd74584e31e",
        "d23964f1034cc332",
        "2bf944e313216712"
      ]
    ]
  },
  {
    "id": "80c3ce3d49bd331a",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "boot battery",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 3180,
    "wires": [
      [
        "ffe2a77ad5394471",
        "3c125c12aed493a6"
      ]
    ]
  },
  {
    "id": "3bc4111acd19c69a",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "room - ui - battery - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 3240,
    "wires": [
      [
        "b70f40f78b57a9e9"
      ]
    ]
  },
  {
    "id": "55f064781c895892",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Batteries\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3240,
    "wires": [
      [
        "276edc393b2b8718",
        "f6a8e56f95d2e83f"
      ]
    ]
  },
  {
    "id": "ffe2a77ad5394471",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Batteries\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3180,
    "wires": [
      [
        "276edc393b2b8718",
        "f6a8e56f95d2e83f"
      ]
    ]
  },
  {
    "id": "44e6838e903b3566",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.battery[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 3420,
    "wires": [
      [
        "b184b34450d43367"
      ]
    ]
  },
  {
    "id": "90d065528adcfb62",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.battery",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.battery[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 3480,
    "wires": [
      [
        "b184b34450d43367"
      ]
    ]
  },
  {
    "id": "c6dfc590e40a4878",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "exists",
    "property": "index.battery",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3610,
    "y": 3420,
    "wires": [
      [
        "44e6838e903b3566"
      ],
      [
        "90d065528adcfb62"
      ]
    ]
  },
  {
    "id": "b184b34450d43367",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "6",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "7",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "8",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "9",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "10",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 10,
    "x": 3930,
    "y": 3420,
    "wires": [
      [
        "c8c8e81ef5a7a779",
        "25c121f68955e797"
      ],
      [
        "3d01f404ce8e4f2e",
        "815d0596d6b03dba"
      ],
      [
        "0f1d5657502571bf",
        "3cfbbbdec94a469c"
      ],
      [
        "3272b2668f830af9",
        "8ba2fb2ae10d5f8a"
      ],
      [
        "699ec99e677c7dc7",
        "12443294ea11d3c1"
      ],
      [
        "7cdf67aea069fe46",
        "91b94a9d896e7e78"
      ],
      [
        "510ee05b3d6497d4",
        "b525d95cb47e05e7"
      ],
      [
        "8b02b507d6467dcb",
        "bb111dd74584e31e"
      ],
      [
        "aa91636fd91822cd",
        "d23964f1034cc332"
      ],
      [
        "999a7018d46ffc73",
        "2bf944e313216712"
      ]
    ]
  },
  {
    "id": "b70f40f78b57a9e9",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "battery",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 3240,
    "wires": [
      [
        "55f064781c895892",
        "65d2993302d9e21b"
      ]
    ]
  },
  {
    "id": "276edc393b2b8718",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4260,
    "y": 3240,
    "wires": [
      []
    ]
  },
  {
    "id": "9d9a9a166ac14a87",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "battery 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3420,
    "wires": []
  },
  {
    "id": "fb5636e8659a3798",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Niveau de batterie '&$string(msg.trans)&' à '&$string(msg.payload)&'%'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload>30",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 3420,
    "wires": [
      [
        "c6dfc590e40a4878"
      ]
    ]
  },
  {
    "id": "f6a8e56f95d2e83f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune batterie",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 3180,
    "wires": [
      [
        "188c450232762d9f"
      ]
    ]
  },
  {
    "id": "188c450232762d9f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 3180,
    "wires": []
  },
  {
    "id": "28383999950bc1ee",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "battery 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3480,
    "wires": []
  },
  {
    "id": "ab5070d8e2289db3",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "battery  03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3540,
    "wires": []
  },
  {
    "id": "0b3ada9a154f8404",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "battery 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3600,
    "wires": []
  },
  {
    "id": "2a102caad43b93f6",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "battery 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3660,
    "wires": []
  },
  {
    "id": "47c0bf4047a645fd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 12,
    "width": "5",
    "height": "1",
    "name": "battery 06 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3720,
    "wires": []
  },
  {
    "id": "82e320bbcec01dec",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 14,
    "width": "5",
    "height": "1",
    "name": "battery 07 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3780,
    "wires": []
  },
  {
    "id": "8ffac054b06e408a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 16,
    "width": "5",
    "height": "1",
    "name": "battery 08 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3840,
    "wires": []
  },
  {
    "id": "47b82a6a458a6f25",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 18,
    "width": "5",
    "height": "1",
    "name": "battery 09 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3900,
    "wires": []
  },
  {
    "id": "3744b28f43a5bb2b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "group": "a8c4088f8bac709d",
    "order": 20,
    "width": "5",
    "height": "1",
    "name": "battery 10 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 3960,
    "wires": []
  },
  {
    "id": "65e427add3ad7d5c",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 3420,
    "wires": [
      [
        "fb5636e8659a3798"
      ]
    ]
  },
  {
    "id": "65d2993302d9e21b",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 3420,
    "wires": [
      [
        "65e427add3ad7d5c"
      ]
    ]
  },
  {
    "id": "999a7018d46ffc73",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3960,
    "wires": [
      [
        "3744b28f43a5bb2b"
      ]
    ]
  },
  {
    "id": "aa91636fd91822cd",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3900,
    "wires": [
      [
        "47b82a6a458a6f25"
      ]
    ]
  },
  {
    "id": "8b02b507d6467dcb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3840,
    "wires": [
      [
        "8ffac054b06e408a"
      ]
    ]
  },
  {
    "id": "510ee05b3d6497d4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3780,
    "wires": [
      [
        "82e320bbcec01dec"
      ]
    ]
  },
  {
    "id": "7cdf67aea069fe46",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3720,
    "wires": [
      [
        "47c0bf4047a645fd"
      ]
    ]
  },
  {
    "id": "699ec99e677c7dc7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3660,
    "wires": [
      [
        "2a102caad43b93f6"
      ]
    ]
  },
  {
    "id": "3272b2668f830af9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3600,
    "wires": [
      [
        "0b3ada9a154f8404"
      ]
    ]
  },
  {
    "id": "0f1d5657502571bf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3540,
    "wires": [
      [
        "ab5070d8e2289db3"
      ]
    ]
  },
  {
    "id": "3d01f404ce8e4f2e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3480,
    "wires": [
      [
        "28383999950bc1ee"
      ]
    ]
  },
  {
    "id": "c8c8e81ef5a7a779",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 3420,
    "wires": [
      [
        "9d9a9a166ac14a87"
      ]
    ]
  },
  {
    "id": "25c121f68955e797",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 01",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3420,
    "wires": [
      []
    ]
  },
  {
    "id": "815d0596d6b03dba",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 02",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3480,
    "wires": [
      []
    ]
  },
  {
    "id": "3cfbbbdec94a469c",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 03",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3540,
    "wires": [
      []
    ]
  },
  {
    "id": "12443294ea11d3c1",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 05",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3660,
    "wires": [
      []
    ]
  },
  {
    "id": "91b94a9d896e7e78",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 06",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 13,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3720,
    "wires": [
      []
    ]
  },
  {
    "id": "b525d95cb47e05e7",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 07",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 15,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3780,
    "wires": [
      []
    ]
  },
  {
    "id": "bb111dd74584e31e",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 08",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 17,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3840,
    "wires": [
      []
    ]
  },
  {
    "id": "d23964f1034cc332",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 09",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 19,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3900,
    "wires": [
      []
    ]
  },
  {
    "id": "2bf944e313216712",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 10",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 21,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3960,
    "wires": [
      []
    ]
  },
  {
    "id": "8ba2fb2ae10d5f8a",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "battery 04",
    "label": "",
    "group": "a8c4088f8bac709d",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "battery-high",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "battery-off",
    "offcolor": "teal",
    "x": 4480,
    "y": 3600,
    "wires": [
      []
    ]
  },
  {
    "id": "3c125c12aed493a6",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "e9b46670bc7283be",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 3300,
    "wires": [
      [
        "cfe03bc0196989f5"
      ]
    ]
  },
  {
    "id": "0556201671b0285e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.seen",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4200,
    "wires": [
      [
        "f8cca546e04eb48f",
        "1debe93af15df2b3",
        "3e0c8f89c9ad2c59",
        "190cd8656368dea1",
        "c98bc4cd21e70d26",
        "8796089a19e22fe4",
        "41178c35c209aac0",
        "9251d2904afbdbde",
        "b5e1b5781b6067d7",
        "b8af5e3061c3fd5a",
        "82643125d8e7bae9",
        "4c31f8c823796b9d",
        "68ac0321fc403487",
        "a3c2ced4e60f6aff",
        "4155536a5f1ff708",
        "1fde23683c7ff5d8",
        "97b05bc746ae98eb",
        "8422a13fa9dcca51",
        "80ccf2e84836c3b9",
        "2da226787a8deb51"
      ]
    ]
  },
  {
    "id": "fa99b8b44e92f9be",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "boot seen",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 4080,
    "wires": [
      [
        "1b2fe53f9f4527dc",
        "52be14f6c954aaec"
      ]
    ]
  },
  {
    "id": "8b94e3c61d1c7e5d",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "room - ui - seen - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 4140,
    "wires": [
      [
        "ff242d9ca428610e"
      ]
    ]
  },
  {
    "id": "eeae2c986dcc4fd5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Controles\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4140,
    "wires": [
      [
        "1191a4f0f73ac0a2",
        "a53d417127982757"
      ]
    ]
  },
  {
    "id": "1b2fe53f9f4527dc",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Controles\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4080,
    "wires": [
      [
        "1191a4f0f73ac0a2",
        "a53d417127982757"
      ]
    ]
  },
  {
    "id": "e3241702c334a377",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.seen[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3970,
    "y": 4320,
    "wires": [
      [
        "aeac844b38d85fc6"
      ]
    ]
  },
  {
    "id": "6eac671a3b5398ca",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.seen",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.seen[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3970,
    "y": 4380,
    "wires": [
      [
        "aeac844b38d85fc6"
      ]
    ]
  },
  {
    "id": "8e7e9d97a6c879c9",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "exists",
    "property": "index.seen",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3810,
    "y": 4320,
    "wires": [
      [
        "e3241702c334a377"
      ],
      [
        "6eac671a3b5398ca"
      ]
    ]
  },
  {
    "id": "aeac844b38d85fc6",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "6",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "7",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "8",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "9",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "10",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 10,
    "x": 4130,
    "y": 4320,
    "wires": [
      [
        "9fe066202aa296f9",
        "82643125d8e7bae9"
      ],
      [
        "31e66543c855840b",
        "4c31f8c823796b9d"
      ],
      [
        "b308c52fad5e3003",
        "68ac0321fc403487"
      ],
      [
        "7a5403df0db1a125",
        "a3c2ced4e60f6aff"
      ],
      [
        "a1fecc9bf61cbecc",
        "4155536a5f1ff708"
      ],
      [
        "75b4cef66ff5b569",
        "1fde23683c7ff5d8"
      ],
      [
        "ef1a0dcd39c2ebfa",
        "97b05bc746ae98eb"
      ],
      [
        "6c04bba89bc4d93f",
        "8422a13fa9dcca51"
      ],
      [
        "395a54a40d57ff29",
        "80ccf2e84836c3b9"
      ],
      [
        "24163d2ac0806a9e",
        "2da226787a8deb51"
      ]
    ]
  },
  {
    "id": "764bf2a2badb8940",
    "type": "moment",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "format date",
    "topic": "",
    "input": "payload",
    "inputType": "msg",
    "inTz": "Europe/Paris",
    "adjAmount": 0,
    "adjType": "days",
    "adjDir": "add",
    "format": "LLLL",
    "locale": "fr-FR",
    "output": "date",
    "outputType": "msg",
    "outTz": "Europe/Paris",
    "x": 3470,
    "y": 4320,
    "wires": [
      [
        "78919c58e908a11f"
      ]
    ]
  },
  {
    "id": "ff242d9ca428610e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "seen",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 4140,
    "wires": [
      [
        "eeae2c986dcc4fd5",
        "5bc2441e8a6e0e82"
      ]
    ]
  },
  {
    "id": "1191a4f0f73ac0a2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun élément",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4500,
    "y": 4080,
    "wires": [
      [
        "8cfe805309e7f14b"
      ]
    ]
  },
  {
    "id": "8cfe805309e7f14b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4670,
    "y": 4080,
    "wires": []
  },
  {
    "id": "a53d417127982757",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4500,
    "y": 4140,
    "wires": [
      []
    ]
  },
  {
    "id": "f8cca546e04eb48f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "seen 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4320,
    "wires": []
  },
  {
    "id": "78919c58e908a11f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "$string(msg.trans)&' vue le '&$string(msg.date)",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "(msg.payload+86400000)>$millis()",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3650,
    "y": 4320,
    "wires": [
      [
        "8e7e9d97a6c879c9"
      ]
    ]
  },
  {
    "id": "1debe93af15df2b3",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "seen 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4380,
    "wires": []
  },
  {
    "id": "3e0c8f89c9ad2c59",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "seen 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4440,
    "wires": []
  },
  {
    "id": "190cd8656368dea1",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "seen 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4500,
    "wires": []
  },
  {
    "id": "c98bc4cd21e70d26",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "seen 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4560,
    "wires": []
  },
  {
    "id": "8796089a19e22fe4",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 12,
    "width": "5",
    "height": "1",
    "name": "seen 06 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4620,
    "wires": []
  },
  {
    "id": "41178c35c209aac0",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 14,
    "width": "5",
    "height": "1",
    "name": "seen 07 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4680,
    "wires": []
  },
  {
    "id": "9251d2904afbdbde",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 16,
    "width": "5",
    "height": "1",
    "name": "seen 08 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4740,
    "wires": []
  },
  {
    "id": "b5e1b5781b6067d7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 18,
    "width": "5",
    "height": "1",
    "name": "seen 09 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4800,
    "wires": []
  },
  {
    "id": "b8af5e3061c3fd5a",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "group": "b09caf5d92ae87c0",
    "order": 20,
    "width": "5",
    "height": "1",
    "name": "seen 10 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4510,
    "y": 4860,
    "wires": []
  },
  {
    "id": "2c43537a0cf9e307",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 4320,
    "wires": [
      [
        "764bf2a2badb8940"
      ]
    ]
  },
  {
    "id": "5bc2441e8a6e0e82",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 4320,
    "wires": [
      [
        "2c43537a0cf9e307"
      ]
    ]
  },
  {
    "id": "24163d2ac0806a9e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4860,
    "wires": [
      [
        "b8af5e3061c3fd5a"
      ]
    ]
  },
  {
    "id": "395a54a40d57ff29",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4800,
    "wires": [
      [
        "b5e1b5781b6067d7"
      ]
    ]
  },
  {
    "id": "6c04bba89bc4d93f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4740,
    "wires": [
      [
        "9251d2904afbdbde"
      ]
    ]
  },
  {
    "id": "ef1a0dcd39c2ebfa",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4680,
    "wires": [
      [
        "41178c35c209aac0"
      ]
    ]
  },
  {
    "id": "75b4cef66ff5b569",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4620,
    "wires": [
      [
        "8796089a19e22fe4"
      ]
    ]
  },
  {
    "id": "a1fecc9bf61cbecc",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4560,
    "wires": [
      [
        "c98bc4cd21e70d26"
      ]
    ]
  },
  {
    "id": "7a5403df0db1a125",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4500,
    "wires": [
      [
        "190cd8656368dea1"
      ]
    ]
  },
  {
    "id": "b308c52fad5e3003",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4440,
    "wires": [
      [
        "3e0c8f89c9ad2c59"
      ]
    ]
  },
  {
    "id": "31e66543c855840b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4380,
    "wires": [
      [
        "1debe93af15df2b3"
      ]
    ]
  },
  {
    "id": "9fe066202aa296f9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4330,
    "y": 4320,
    "wires": [
      [
        "f8cca546e04eb48f"
      ]
    ]
  },
  {
    "id": "82643125d8e7bae9",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 01",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4320,
    "wires": [
      []
    ]
  },
  {
    "id": "4155536a5f1ff708",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 05",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 11,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4560,
    "wires": [
      []
    ]
  },
  {
    "id": "a3c2ced4e60f6aff",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 04",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 9,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4500,
    "wires": [
      []
    ]
  },
  {
    "id": "68ac0321fc403487",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 03",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4440,
    "wires": [
      []
    ]
  },
  {
    "id": "4c31f8c823796b9d",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 02",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4380,
    "wires": [
      []
    ]
  },
  {
    "id": "1fde23683c7ff5d8",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 06",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 13,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4620,
    "wires": [
      []
    ]
  },
  {
    "id": "97b05bc746ae98eb",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 07",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 15,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4680,
    "wires": [
      []
    ]
  },
  {
    "id": "8422a13fa9dcca51",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 08",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 17,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4740,
    "wires": [
      []
    ]
  },
  {
    "id": "80ccf2e84836c3b9",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 09",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 19,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4800,
    "wires": [
      []
    ]
  },
  {
    "id": "2da226787a8deb51",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "seen 10",
    "label": "",
    "group": "b09caf5d92ae87c0",
    "order": 21,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "eye-outline",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "eye-off",
    "offcolor": "teal",
    "x": 4700,
    "y": 4860,
    "wires": [
      []
    ]
  },
  {
    "id": "52be14f6c954aaec",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "55552ce2fcab661e",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 4200,
    "wires": [
      [
        "0556201671b0285e"
      ]
    ]
  },
  {
    "id": "b456712facdb8f99",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.power",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5100,
    "wires": [
      [
        "55023cb2a00a038e",
        "962301d657a74408",
        "eb891ec4b0a07cfe",
        "3a821e7da32a3561",
        "cf55e9963f617d17",
        "0109e7088ec7040c",
        "fb14e8329c2c77c8",
        "57516cd75e235df7",
        "a4d7386dea5c2987",
        "628630966e299dce",
        "2c3c9f634bfc436b",
        "01d61d75b12c086d",
        "c18aac930067b2c5",
        "f996e39f99239f8f",
        "ef696b96885101ae",
        "48a0cc5241d2549f",
        "8360781eafaecfeb",
        "c19b6e3169ebc381",
        "1127e98653b5a27a",
        "4183c52e2b2c85f1"
      ]
    ]
  },
  {
    "id": "9eec2a58eea2f794",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "boot power",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 4980,
    "wires": [
      [
        "438956ec28a1644e",
        "5fbe5259545c7e84"
      ]
    ]
  },
  {
    "id": "f7f44b26d3494661",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "room - ui - power - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 5040,
    "wires": [
      [
        "37342614a8bd3e6c"
      ]
    ]
  },
  {
    "id": "60ec289316037465",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Puissances\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5040,
    "wires": [
      [
        "36b6ced1758a043b",
        "a0f6a91598012b9a"
      ]
    ]
  },
  {
    "id": "438956ec28a1644e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Puissances\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 4980,
    "wires": [
      [
        "36b6ced1758a043b",
        "a0f6a91598012b9a"
      ]
    ]
  },
  {
    "id": "e9be7bc2cece9e6b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.power[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 5220,
    "wires": [
      [
        "159905f89f658c3d"
      ]
    ]
  },
  {
    "id": "4ad7e0736cb2f3e1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.power",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.power[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 5280,
    "wires": [
      [
        "159905f89f658c3d"
      ]
    ]
  },
  {
    "id": "3dacfc613c2d6949",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "exists",
    "property": "index.power",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3610,
    "y": 5220,
    "wires": [
      [
        "e9be7bc2cece9e6b"
      ],
      [
        "4ad7e0736cb2f3e1"
      ]
    ]
  },
  {
    "id": "159905f89f658c3d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "6",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "7",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "8",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "9",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "10",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 10,
    "x": 3930,
    "y": 5220,
    "wires": [
      [
        "865b1e2e30c1406e",
        "2c3c9f634bfc436b"
      ],
      [
        "d48781c900013ee5",
        "01d61d75b12c086d"
      ],
      [
        "11459cef626d8dd5",
        "c18aac930067b2c5"
      ],
      [
        "d66db8193ecbf5f3",
        "f996e39f99239f8f"
      ],
      [
        "1c5b37e443ea3a54",
        "ef696b96885101ae"
      ],
      [
        "b4ade4e43f7f5619",
        "48a0cc5241d2549f"
      ],
      [
        "8c26987fb7503da4",
        "8360781eafaecfeb"
      ],
      [
        "65ba5d4db252f373",
        "c19b6e3169ebc381"
      ],
      [
        "95dbd0806f6e50e3",
        "1127e98653b5a27a"
      ],
      [
        "5d01b01dda282884",
        "4183c52e2b2c85f1"
      ]
    ]
  },
  {
    "id": "37342614a8bd3e6c",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "power",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 5040,
    "wires": [
      [
        "60ec289316037465",
        "fc59359ff0fc3578"
      ]
    ]
  },
  {
    "id": "36b6ced1758a043b",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4260,
    "y": 5040,
    "wires": [
      []
    ]
  },
  {
    "id": "55023cb2a00a038e",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 21,
    "width": "5",
    "height": "1",
    "name": "power 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5220,
    "wires": []
  },
  {
    "id": "65f301cc578576a3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Puissance '&$string(msg.trans)&' à '&$string(msg.payload)&'W'",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload>0",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 5220,
    "wires": [
      [
        "3dacfc613c2d6949"
      ]
    ]
  },
  {
    "id": "a0f6a91598012b9a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune puissance",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 4980,
    "wires": [
      [
        "47f442e7e5c89435"
      ]
    ]
  },
  {
    "id": "47f442e7e5c89435",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 4980,
    "wires": []
  },
  {
    "id": "962301d657a74408",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 19,
    "width": "5",
    "height": "1",
    "name": "power 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5280,
    "wires": []
  },
  {
    "id": "eb891ec4b0a07cfe",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 17,
    "width": "5",
    "height": "1",
    "name": "power  03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5340,
    "wires": []
  },
  {
    "id": "3a821e7da32a3561",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 15,
    "width": "5",
    "height": "1",
    "name": "power 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5400,
    "wires": []
  },
  {
    "id": "cf55e9963f617d17",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 13,
    "width": "5",
    "height": "1",
    "name": "power 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5460,
    "wires": []
  },
  {
    "id": "0109e7088ec7040c",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 11,
    "width": "5",
    "height": "1",
    "name": "power 06 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5520,
    "wires": []
  },
  {
    "id": "fb14e8329c2c77c8",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 9,
    "width": "5",
    "height": "1",
    "name": "power 07 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5580,
    "wires": []
  },
  {
    "id": "628630966e299dce",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 7,
    "width": "5",
    "height": "1",
    "name": "power 08 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5640,
    "wires": []
  },
  {
    "id": "57516cd75e235df7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 5,
    "width": "5",
    "height": "1",
    "name": "power 09 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5700,
    "wires": []
  },
  {
    "id": "a4d7386dea5c2987",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "group": "fb4d25e6dae3c8fd",
    "order": 3,
    "width": "5",
    "height": "1",
    "name": "power 10 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 5760,
    "wires": []
  },
  {
    "id": "0aa9ffb8eb4cd831",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 5220,
    "wires": [
      [
        "65f301cc578576a3"
      ]
    ]
  },
  {
    "id": "fc59359ff0fc3578",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 5220,
    "wires": [
      [
        "0aa9ffb8eb4cd831"
      ]
    ]
  },
  {
    "id": "5d01b01dda282884",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5760,
    "wires": [
      [
        "a4d7386dea5c2987"
      ]
    ]
  },
  {
    "id": "95dbd0806f6e50e3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5700,
    "wires": [
      [
        "57516cd75e235df7"
      ]
    ]
  },
  {
    "id": "65ba5d4db252f373",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5640,
    "wires": [
      [
        "628630966e299dce"
      ]
    ]
  },
  {
    "id": "8c26987fb7503da4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5580,
    "wires": [
      [
        "fb14e8329c2c77c8"
      ]
    ]
  },
  {
    "id": "b4ade4e43f7f5619",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5520,
    "wires": [
      [
        "0109e7088ec7040c"
      ]
    ]
  },
  {
    "id": "1c5b37e443ea3a54",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5460,
    "wires": [
      [
        "cf55e9963f617d17"
      ]
    ]
  },
  {
    "id": "d66db8193ecbf5f3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5400,
    "wires": [
      [
        "3a821e7da32a3561"
      ]
    ]
  },
  {
    "id": "11459cef626d8dd5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5340,
    "wires": [
      [
        "eb891ec4b0a07cfe"
      ]
    ]
  },
  {
    "id": "d48781c900013ee5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5280,
    "wires": [
      [
        "962301d657a74408"
      ]
    ]
  },
  {
    "id": "865b1e2e30c1406e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 5220,
    "wires": [
      [
        "55023cb2a00a038e"
      ]
    ]
  },
  {
    "id": "2c3c9f634bfc436b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 01",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 20,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5220,
    "wires": [
      []
    ]
  },
  {
    "id": "c18aac930067b2c5",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 03",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 16,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5340,
    "wires": [
      []
    ]
  },
  {
    "id": "01d61d75b12c086d",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 02",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 18,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5280,
    "wires": [
      []
    ]
  },
  {
    "id": "f996e39f99239f8f",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 04",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 14,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5400,
    "wires": [
      []
    ]
  },
  {
    "id": "ef696b96885101ae",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 05",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 12,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5460,
    "wires": [
      []
    ]
  },
  {
    "id": "48a0cc5241d2549f",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 06",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 10,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5520,
    "wires": [
      []
    ]
  },
  {
    "id": "8360781eafaecfeb",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 07",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 8,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5580,
    "wires": [
      []
    ]
  },
  {
    "id": "c19b6e3169ebc381",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 08",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 6,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5640,
    "wires": [
      []
    ]
  },
  {
    "id": "1127e98653b5a27a",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 09",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 4,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5700,
    "wires": [
      []
    ]
  },
  {
    "id": "4183c52e2b2c85f1",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "power 10",
    "label": "",
    "group": "fb4d25e6dae3c8fd",
    "order": 2,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "meter-electric",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "meter-electric-outline",
    "offcolor": "grey",
    "x": 4480,
    "y": 5760,
    "wires": [
      []
    ]
  },
  {
    "id": "5fbe5259545c7e84",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "3a47bd390630563b",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 5100,
    "wires": [
      [
        "b456712facdb8f99"
      ]
    ]
  },
  {
    "id": "d59c718c84ca0c45",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "color",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5020,
    "y": 6120,
    "wires": [
      [
        "165086f5eeb45889"
      ]
    ]
  },
  {
    "id": "6974a448a0c0c431",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.color",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6000,
    "wires": [
      [
        "230b7b206cbda14f",
        "93ed91bff23ccae6",
        "c369c0df4127877c",
        "11e8012b77840d09",
        "862bd44140894d07",
        "095ea15b0b3f109a",
        "a0a1caf4e95d5a2b",
        "cd27de68d9e0cbc4",
        "67c80d1f6f7f4480",
        "eb3242a9703a76df"
      ]
    ]
  },
  {
    "id": "3f26e65e9e14b140",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "boot color",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 5880,
    "wires": [
      [
        "b5aef2391dcbcf4b",
        "bc769b10e03830e1"
      ]
    ]
  },
  {
    "id": "165086f5eeb45889",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "room - ui - color - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 5155,
    "y": 6120,
    "wires": []
  },
  {
    "id": "26655f3b52fd390b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "room - ui - color - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 5940,
    "wires": [
      [
        "35aed833a6fd89c9"
      ]
    ]
  },
  {
    "id": "4f053126291b5804",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 4310,
    "y": 6120,
    "wires": [
      [
        "d963d406dbde22b8",
        "095ea15b0b3f109a"
      ],
      [
        "037325aca1c515e3",
        "a0a1caf4e95d5a2b"
      ],
      [
        "7b14579668c1af3f",
        "cd27de68d9e0cbc4"
      ],
      [
        "fa5d15edbf72f647",
        "67c80d1f6f7f4480"
      ],
      [
        "b2e76bba0862cef8",
        "eb3242a9703a76df"
      ]
    ]
  },
  {
    "id": "656edb879555e04e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.color",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.color[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4150,
    "y": 6240,
    "wires": [
      [
        "4f053126291b5804"
      ]
    ]
  },
  {
    "id": "fd6b81a32bb8d757",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.color[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4150,
    "y": 6180,
    "wires": [
      [
        "4f053126291b5804"
      ]
    ]
  },
  {
    "id": "17650efb4c8eac6d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "exists",
    "property": "index.color",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3990,
    "y": 6180,
    "wires": [
      [
        "fd6b81a32bb8d757"
      ],
      [
        "656edb879555e04e"
      ]
    ]
  },
  {
    "id": "35aed833a6fd89c9",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "color",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 5940,
    "wires": [
      [
        "78389a0e3cf80961",
        "e4063f822861a8e3"
      ]
    ]
  },
  {
    "id": "78389a0e3cf80961",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Couleurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 5940,
    "wires": [
      [
        "9bdb14efae83866c",
        "6aa0699f4eb35c14"
      ]
    ]
  },
  {
    "id": "b5aef2391dcbcf4b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Couleurs\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 5880,
    "wires": [
      [
        "6aa0699f4eb35c14",
        "9bdb14efae83866c"
      ]
    ]
  },
  {
    "id": "9bdb14efae83866c",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4640,
    "y": 5940,
    "wires": [
      []
    ]
  },
  {
    "id": "6aa0699f4eb35c14",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune gestion de couleurs",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4640,
    "y": 5880,
    "wires": [
      [
        "b21e235c39afcb03"
      ]
    ]
  },
  {
    "id": "b21e235c39afcb03",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4810,
    "y": 5880,
    "wires": []
  },
  {
    "id": "bd985c8dc9609479",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 6120,
    "wires": [
      [
        "b2358081175b0301"
      ]
    ]
  },
  {
    "id": "095ea15b0b3f109a",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "name": "color 01",
    "label": "Couleur :",
    "tooltip": "",
    "order": 3,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "blanc",
        "value": "#FFFFFF",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 4840,
    "y": 6120,
    "wires": [
      [
        "d59c718c84ca0c45"
      ]
    ]
  },
  {
    "id": "a0a1caf4e95d5a2b",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "name": "color 02",
    "label": "Couleur :",
    "tooltip": "",
    "order": 5,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "blanc",
        "value": "#FFFFFF",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 4840,
    "y": 6180,
    "wires": [
      [
        "d59c718c84ca0c45"
      ]
    ]
  },
  {
    "id": "230b7b206cbda14f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 2,
    "width": "4",
    "height": "1",
    "name": "color 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4650,
    "y": 6120,
    "wires": []
  },
  {
    "id": "93ed91bff23ccae6",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 4,
    "width": "4",
    "height": "1",
    "name": "color 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4650,
    "y": 6180,
    "wires": []
  },
  {
    "id": "c369c0df4127877c",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 6,
    "width": "4",
    "height": "1",
    "name": "color 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4650,
    "y": 6240,
    "wires": []
  },
  {
    "id": "cd27de68d9e0cbc4",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "name": "color 03",
    "label": "Couleur :",
    "tooltip": "",
    "order": 7,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "blanc",
        "value": "#FFFFFF",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 4840,
    "y": 6240,
    "wires": [
      [
        "d59c718c84ca0c45"
      ]
    ]
  },
  {
    "id": "11e8012b77840d09",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 8,
    "width": "4",
    "height": "1",
    "name": "color 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4650,
    "y": 6300,
    "wires": []
  },
  {
    "id": "67c80d1f6f7f4480",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "name": "color 04",
    "label": "Couleur :",
    "tooltip": "",
    "order": 9,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "blanc",
        "value": "#FFFFFF",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 4840,
    "y": 6300,
    "wires": [
      [
        "d59c718c84ca0c45"
      ]
    ]
  },
  {
    "id": "862bd44140894d07",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "order": 10,
    "width": "4",
    "height": "1",
    "name": "color 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4650,
    "y": 6360,
    "wires": []
  },
  {
    "id": "eb3242a9703a76df",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "group": "377461f11e162f6d",
    "name": "color 05",
    "label": "Couleur :",
    "tooltip": "",
    "order": 11,
    "width": "2",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "blanc",
        "value": "#FFFFFF",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "topic",
    "topicType": "msg",
    "className": "",
    "x": 4840,
    "y": 6360,
    "wires": [
      [
        "d59c718c84ca0c45"
      ]
    ]
  },
  {
    "id": "d963d406dbde22b8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6120,
    "wires": [
      [
        "230b7b206cbda14f"
      ]
    ]
  },
  {
    "id": "037325aca1c515e3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6180,
    "wires": [
      [
        "93ed91bff23ccae6"
      ]
    ]
  },
  {
    "id": "7b14579668c1af3f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6240,
    "wires": [
      [
        "c369c0df4127877c"
      ]
    ]
  },
  {
    "id": "fa5d15edbf72f647",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6300,
    "wires": [
      [
        "11e8012b77840d09"
      ]
    ]
  },
  {
    "id": "b2e76bba0862cef8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4470,
    "y": 6360,
    "wires": [
      [
        "862bd44140894d07"
      ]
    ]
  },
  {
    "id": "46ff4d153fc9736c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Couleur '&msg.old_trans&' en '&msg.trans",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3830,
    "y": 6120,
    "wires": [
      [
        "b73d1209033d8724"
      ]
    ]
  },
  {
    "id": "04052562e24f52a7",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3640,
    "y": 6120,
    "wires": [
      [
        "46ff4d153fc9736c"
      ]
    ]
  },
  {
    "id": "b2358081175b0301",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "colors",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "old_trans",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "colors",
        "pt": "msg",
        "to": "{\t    '#FFFFFF':'white',\t    '#FF0018':'red',\t    '#FFFF41':'yellow',\t    '#008018':'green',\t    '#0000F9':'blue',\t    '#86007D':'purple'\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "path_field",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "colors[msg.payload]",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 6120,
    "wires": [
      [
        "04052562e24f52a7"
      ]
    ]
  },
  {
    "id": "b73d1209033d8724",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "colors",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "[\t    {'value':'#FFFFFF','label':'white'},\t    {'value':'#FF0018','label':'red'},\t    {'value':'#FFFF41','label':'yellow'},\t    {'value':'#008018','label':'green'},\t    {'value':'#0000F9','label':'blue'},\t    {'value':'#86007D','label':'purple'}\t]",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "old_trans",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3990,
    "y": 6120,
    "wires": [
      [
        "929e091f58d7e981"
      ]
    ]
  },
  {
    "id": "929e091f58d7e981",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "",
    "x": 4150,
    "y": 6120,
    "wires": [
      [
        "d23265902eda3894"
      ]
    ]
  },
  {
    "id": "d23265902eda3894",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "old_field",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "payload.label",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3130,
    "y": 6180,
    "wires": [
      [
        "cbe25ff8706d300b"
      ]
    ]
  },
  {
    "id": "a803317ea68e18fc",
    "type": "join",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "mode": "auto",
    "build": "object",
    "property": "payload",
    "propertyType": "msg",
    "key": "topic",
    "joiner": "\\n",
    "joinerType": "str",
    "accumulate": "false",
    "timeout": "",
    "count": "",
    "reduceRight": false,
    "x": 3670,
    "y": 6180,
    "wires": [
      [
        "fadfc3bdbc68f76f"
      ]
    ]
  },
  {
    "id": "fadfc3bdbc68f76f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "old_payload",
        "tot": "msg"
      },
      {
        "t": "delete",
        "p": "old_payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "old_trans",
        "tot": "msg"
      },
      {
        "t": "delete",
        "p": "old_trans",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "path_field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3830,
    "y": 6180,
    "wires": [
      [
        "17650efb4c8eac6d"
      ]
    ]
  },
  {
    "id": "cbe25ff8706d300b",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3320,
    "y": 6180,
    "wires": [
      [
        "159202a1e2a32023"
      ]
    ]
  },
  {
    "id": "159202a1e2a32023",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload.label",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3510,
    "y": 6180,
    "wires": [
      [
        "a803317ea68e18fc"
      ]
    ]
  },
  {
    "id": "e4063f822861a8e3",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 6120,
    "wires": [
      [
        "bd985c8dc9609479"
      ]
    ]
  },
  {
    "id": "bc769b10e03830e1",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "65f5bcaeef2cb043",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 6000,
    "wires": [
      [
        "6974a448a0c0c431"
      ]
    ]
  },
  {
    "id": "42acd7f9ad626301",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "brightness",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4720,
    "y": 6720,
    "wires": [
      [
        "c17daf8aa7e26a0c"
      ]
    ]
  },
  {
    "id": "c3e90ec1d4493bb4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.brightness",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6600,
    "wires": [
      [
        "7eacb809027a3f29",
        "992d3a4f1f2cef04",
        "7f81ef3f4f7d218f",
        "6aeea1de4587093e",
        "2155a7e805ce62e5",
        "db3dc40ea4b498e3",
        "65dca07a06ffa9c6",
        "d272a453214030a9",
        "f89a84a4111a2df9",
        "ccd498fdd2090daf"
      ]
    ]
  },
  {
    "id": "6ab8f6f585ebee36",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "boot brihgtness",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 6480,
    "wires": [
      [
        "af81a38fa86c6cc8",
        "1cfe4db12a78f24a"
      ]
    ]
  },
  {
    "id": "c17daf8aa7e26a0c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "room - ui - brihgtness - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 4855,
    "y": 6720,
    "wires": []
  },
  {
    "id": "7379c487515b9889",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "room - ui - brihgtness - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 6540,
    "wires": [
      [
        "1b38e8d77f15ac4a"
      ]
    ]
  },
  {
    "id": "3a6f2959b098c17e",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 3930,
    "y": 6720,
    "wires": [
      [
        "db3dc40ea4b498e3",
        "ae5513076154ad8a"
      ],
      [
        "65dca07a06ffa9c6",
        "9a9eba7461771815"
      ],
      [
        "d272a453214030a9",
        "7f33cfc11587b83c"
      ],
      [
        "f89a84a4111a2df9",
        "04f0f1dcc6935c42"
      ],
      [
        "ccd498fdd2090daf",
        "51dd51d87769dfc4"
      ]
    ]
  },
  {
    "id": "69f1300be1c6d8ab",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.brightness",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.brightness[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 6780,
    "wires": [
      [
        "3a6f2959b098c17e"
      ]
    ]
  },
  {
    "id": "32f30c6a0241b184",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.brightness[msg.field]",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 6720,
    "wires": [
      [
        "3a6f2959b098c17e"
      ]
    ]
  },
  {
    "id": "1313dd5a267993d9",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "exists",
    "property": "index.brightness",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3610,
    "y": 6720,
    "wires": [
      [
        "32f30c6a0241b184"
      ],
      [
        "69f1300be1c6d8ab"
      ]
    ]
  },
  {
    "id": "1b38e8d77f15ac4a",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "brightness",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 6540,
    "wires": [
      [
        "d9d65b36d28ee1b5",
        "6318eeea1f540ad8"
      ]
    ]
  },
  {
    "id": "d9d65b36d28ee1b5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Luminosités\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6540,
    "wires": [
      [
        "dbe559c73da68763",
        "d88e0ed1a96a90b5"
      ]
    ]
  },
  {
    "id": "af81a38fa86c6cc8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Luminosités\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6480,
    "wires": [
      [
        "d88e0ed1a96a90b5",
        "dbe559c73da68763"
      ]
    ]
  },
  {
    "id": "dbe559c73da68763",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4260,
    "y": 6540,
    "wires": [
      []
    ]
  },
  {
    "id": "d88e0ed1a96a90b5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune gestion de couleurs",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 6480,
    "wires": [
      [
        "42c1dae9372de9c6"
      ]
    ]
  },
  {
    "id": "42c1dae9372de9c6",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 6480,
    "wires": []
  },
  {
    "id": "149cc130f5efb763",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 6720,
    "wires": [
      [
        "6e9d7cb4048d2eef"
      ]
    ]
  },
  {
    "id": "7eacb809027a3f29",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 2,
    "width": "2",
    "height": "1",
    "name": "brihgtness 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4290,
    "y": 6720,
    "wires": []
  },
  {
    "id": "992d3a4f1f2cef04",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 4,
    "width": "2",
    "height": "1",
    "name": "brihgtness 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4290,
    "y": 6780,
    "wires": []
  },
  {
    "id": "7f81ef3f4f7d218f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 6,
    "width": "2",
    "height": "1",
    "name": "brihgtness 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4290,
    "y": 6840,
    "wires": []
  },
  {
    "id": "6aeea1de4587093e",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 8,
    "width": "2",
    "height": "1",
    "name": "brihgtness 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4290,
    "y": 6900,
    "wires": []
  },
  {
    "id": "2155a7e805ce62e5",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "order": 10,
    "width": "2",
    "height": "1",
    "name": "brihgtness 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4290,
    "y": 6960,
    "wires": []
  },
  {
    "id": "db3dc40ea4b498e3",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "name": "brihgtness 01",
    "label": "",
    "tooltip": "",
    "order": 3,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "255",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 4520,
    "y": 6720,
    "wires": [
      [
        "42acd7f9ad626301"
      ]
    ]
  },
  {
    "id": "65dca07a06ffa9c6",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "name": "brihgtness 02",
    "label": "",
    "tooltip": "",
    "order": 5,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": true,
    "min": 0,
    "max": "255",
    "step": 1,
    "className": "",
    "x": 4520,
    "y": 6780,
    "wires": [
      [
        "42acd7f9ad626301"
      ]
    ]
  },
  {
    "id": "d272a453214030a9",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "name": "brihgtness 03",
    "label": "",
    "tooltip": "",
    "order": 7,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": true,
    "min": 0,
    "max": "255",
    "step": 1,
    "className": "",
    "x": 4520,
    "y": 6840,
    "wires": [
      [
        "42acd7f9ad626301"
      ]
    ]
  },
  {
    "id": "f89a84a4111a2df9",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "name": "brihgtness 04",
    "label": "",
    "tooltip": "",
    "order": 9,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": true,
    "min": 0,
    "max": "255",
    "step": 1,
    "className": "",
    "x": 4520,
    "y": 6900,
    "wires": [
      [
        "42acd7f9ad626301"
      ]
    ]
  },
  {
    "id": "ccd498fdd2090daf",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "group": "07c72906c906336b",
    "name": "brihgtness 05",
    "label": "",
    "tooltip": "",
    "order": 11,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": true,
    "min": 0,
    "max": "255",
    "step": 1,
    "className": "",
    "x": 4520,
    "y": 6960,
    "wires": [
      [
        "42acd7f9ad626301"
      ]
    ]
  },
  {
    "id": "6318eeea1f540ad8",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 6720,
    "wires": [
      [
        "149cc130f5efb763"
      ]
    ]
  },
  {
    "id": "6e9d7cb4048d2eef",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Luminosité '&msg.trans&' à '&msg.payload",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 6720,
    "wires": [
      [
        "1313dd5a267993d9"
      ]
    ]
  },
  {
    "id": "ae5513076154ad8a",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6720,
    "wires": [
      [
        "7eacb809027a3f29"
      ]
    ]
  },
  {
    "id": "9a9eba7461771815",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6780,
    "wires": [
      [
        "992d3a4f1f2cef04"
      ]
    ]
  },
  {
    "id": "7f33cfc11587b83c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6840,
    "wires": [
      [
        "7f81ef3f4f7d218f"
      ]
    ]
  },
  {
    "id": "04f0f1dcc6935c42",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6900,
    "wires": [
      [
        "6aeea1de4587093e"
      ]
    ]
  },
  {
    "id": "51dd51d87769dfc4",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 6960,
    "wires": [
      [
        "2155a7e805ce62e5"
      ]
    ]
  },
  {
    "id": "1cfe4db12a78f24a",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "14365542ae0790c8",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 6600,
    "wires": [
      [
        "c3e90ec1d4493bb4"
      ]
    ]
  },
  {
    "id": "9737afb19d9c9fbb",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - load",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 135,
    "y": 4680,
    "wires": [
      [
        "fbb1bdcb44abce21",
        "4b8267934ced5596"
      ]
    ]
  },
  {
    "id": "dd49b4996fb683ff",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 135,
    "y": 4740,
    "wires": [
      [
        "7e364afe6e09d405"
      ]
    ]
  },
  {
    "id": "fbb1bdcb44abce21",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"hide\": [\"Pièces:Thermostat\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1225,
    "y": 4680,
    "wires": [
      [
        "b8374382f89b46c6",
        "fafbe160c912822f"
      ]
    ]
  },
  {
    "id": "6c6cf33417f59f97",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t    \"groups\": {\t        \"show\": [\"Pièces:Thermostat\"]\t    }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1225,
    "y": 4740,
    "wires": [
      [
        "fafbe160c912822f",
        "b8374382f89b46c6"
      ]
    ]
  },
  {
    "id": "fc673a36d8691d63",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "reset",
    "rules": [],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1225,
    "y": 4800,
    "wires": [
      [
        "f85914dec075a3d8",
        "f968a8fc298f04c3",
        "37794c3da2ceda38",
        "f23d5105ca948593",
        "348134507ffe8815",
        "93e874f6e4a1f87a",
        "3d40410e159beaab",
        "4565730f04bd7072",
        "79764253e9e92fda",
        "4ad97596d0efa64b",
        "63561fec4fba2afd",
        "07108de5adf3ae2a",
        "bcf6468037b4c2a6",
        "4c5adf85df17025b",
        "3f9eefa51c1e5e9e",
        "dfd8650d923f73e4",
        "53f7b3195f6dfeed",
        "6cc81c8342d6ef1c",
        "99e789a941d2af52",
        "f7ed99ce22cd37cb",
        "cb3f8f9fa322b59f",
        "51dc21bc28ea3f06",
        "272807d6b707d92f",
        "4540d4f432f8742d",
        "6d0cb16590b1da18",
        "bfb0a473b6a09c81",
        "61d316384ef1521b",
        "8c3c9bc4a66b1e32",
        "ff2211c1efd24971",
        "33fde1af7428bf26",
        "f814aebd5bd599b5",
        "25b3542fda8fae4d",
        "e223793b9998818b"
      ]
    ]
  },
  {
    "id": "37aa96c6d80d8ade",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "thermostat",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1905,
    "y": 5040,
    "wires": [
      [
        "1ef76a4c1fab9b78"
      ]
    ]
  },
  {
    "id": "1ef76a4c1fab9b78",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "room - ui - thermostat - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 1995,
    "y": 5040,
    "wires": []
  },
  {
    "id": "adc6196b15cf8c39",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "actif",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "status",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "heat request",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "pilot",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture opened",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "delayed aperture",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "temperature setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "indoor temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "outdoor temperature",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "operating mode",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "eco setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "confort setpoint",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "indoor coefficient",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "outdoor coefficient",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "preheat time",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "cycle time",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture delay",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "offloading delay",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "offloading power",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 1",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 2",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 3",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 4",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "aperture 5",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "last pilot",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 25,
    "x": 685,
    "y": 5040,
    "wires": [
      [
        "f85914dec075a3d8",
        "1d92bf6b8fc98959"
      ],
      [
        "fb9711affc7d14af"
      ],
      [
        "61d316384ef1521b"
      ],
      [
        "37794c3da2ceda38"
      ],
      [
        "bd8ab43b4a91a2ae"
      ],
      [
        "19b6504e1bbece40"
      ],
      [
        "a7420198a3e0f879"
      ],
      [
        "26537f8818c29c61"
      ],
      [
        "27d7b08fb3646a52"
      ],
      [
        "151d5194b8538480"
      ],
      [
        "07108de5adf3ae2a",
        "f670239d8cf08808"
      ],
      [
        "bcf6468037b4c2a6",
        "a4b56ada8159bff6"
      ],
      [
        "6cc81c8342d6ef1c",
        "990b4d58c23a68a2"
      ],
      [
        "f7ed99ce22cd37cb",
        "ee3e358d88bbf249"
      ],
      [
        "51dc21bc28ea3f06",
        "6f096e24c9634c56"
      ],
      [
        "4540d4f432f8742d",
        "83b16f9aed4fa051"
      ],
      [
        "ff2211c1efd24971",
        "db3ebf0b6421aeae"
      ],
      [
        "f814aebd5bd599b5",
        "10c3697bddec1a05"
      ],
      [
        "bfb0a473b6a09c81",
        "4f0ea1cdd4d0b719"
      ],
      [
        "bcfed6ac5d278d3c"
      ],
      [
        "f5cf184989e2cc69"
      ],
      [
        "95eb528329f90cf2"
      ],
      [
        "3e6cd35a857771f8"
      ],
      [
        "f19ecf4219ed5190"
      ],
      [
        "c4f79cb042dc36a1"
      ]
    ]
  },
  {
    "id": "26bdcbaa93cfcc27",
    "type": "humanizer",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "input": "msg.payload",
    "x": 1045,
    "y": 6480,
    "wires": [
      [
        "2efa063af4b505d2"
      ]
    ]
  },
  {
    "id": "c4f79cb042dc36a1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "calcul",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "$round(($millis() - msg.payload)/1000)",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 6480,
    "wires": [
      [
        "26bdcbaa93cfcc27"
      ]
    ]
  },
  {
    "id": "f391ba85b3d53073",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "cible",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1905,
    "y": 5220,
    "wires": [
      [
        "1ef76a4c1fab9b78"
      ]
    ]
  },
  {
    "id": "7e364afe6e09d405",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "thermostat",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 365,
    "y": 4740,
    "wires": [
      [
        "6c6cf33417f59f97",
        "39615dab9370d868",
        "fcbda9c625fdecac"
      ]
    ]
  },
  {
    "id": "b8374382f89b46c6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune thermostat",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1405,
    "y": 4680,
    "wires": [
      [
        "5b4d546fd3646af7"
      ]
    ]
  },
  {
    "id": "5b4d546fd3646af7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1565,
    "y": 4680,
    "wires": []
  },
  {
    "id": "fafbe160c912822f",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 1405,
    "y": 4740,
    "wires": [
      []
    ]
  },
  {
    "id": "f85914dec075a3d8",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "actif",
    "label": "",
    "group": "28836135eb153545",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "actif",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "cog",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "cog-off-outline",
    "offcolor": "grey",
    "x": 1645,
    "y": 5040,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "bd8ab43b4a91a2ae",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "aperture opened",
    "label": "",
    "group": "28836135eb153545",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "door-open",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "door-closed",
    "offcolor": "grey",
    "x": 1705,
    "y": 5280,
    "wires": [
      []
    ]
  },
  {
    "id": "19b6504e1bbece40",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "delayed aperture",
    "label": "",
    "group": "28836135eb153545",
    "order": 8,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "timer-remove",
    "oncolor": "grey",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "timer-check",
    "offcolor": "teal",
    "x": 1725,
    "y": 5340,
    "wires": [
      []
    ]
  },
  {
    "id": "f968a8fc298f04c3",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "operating mode",
    "label": "Mode",
    "tooltip": "",
    "order": 12,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "Arrêt",
        "value": "off",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "operating mode",
    "topicType": "str",
    "className": "",
    "x": 1705,
    "y": 5580,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "07108de5adf3ae2a",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "eco setpoint",
    "label": "",
    "tooltip": "",
    "order": 14,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "eco setpoint",
    "topicType": "str",
    "thumbLabel": true,
    "min": "15",
    "max": "35",
    "step": "0.5",
    "className": "",
    "x": 1685,
    "y": 5640,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "bcf6468037b4c2a6",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "confort setpoint",
    "label": "",
    "tooltip": "",
    "order": 16,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "confort setpoint",
    "topicType": "str",
    "thumbLabel": true,
    "min": "15",
    "max": "35",
    "step": "0.5",
    "className": "",
    "x": 1705,
    "y": 5700,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "37794c3da2ceda38",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "pilot",
    "label": "",
    "group": "28836135eb153545",
    "order": 6,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "pilot",
    "topicType": "str",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "power-plug",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "power-plug-off",
    "offcolor": "grey",
    "x": 1645,
    "y": 5220,
    "wires": [
      [
        "f391ba85b3d53073"
      ]
    ]
  },
  {
    "id": "dfd8650d923f73e4",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 10,
    "width": "2",
    "height": "1",
    "name": "indoor temperature",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1465,
    "y": 5520,
    "wires": []
  },
  {
    "id": "4c5adf85df17025b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 9,
    "width": "2",
    "height": "1",
    "name": "temperature setpoint",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 5400,
    "wires": []
  },
  {
    "id": "26537f8818c29c61",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Interieur à '&msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5520,
    "wires": [
      [
        "dfd8650d923f73e4"
      ]
    ]
  },
  {
    "id": "a7420198a3e0f879",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Consigne à '&msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5400,
    "wires": [
      [
        "4c5adf85df17025b"
      ]
    ]
  },
  {
    "id": "f23d5105ca948593",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 36,
    "width": "6",
    "height": "1",
    "name": "seens",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-spread",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1385,
    "y": 6480,
    "wires": []
  },
  {
    "id": "2efa063af4b505d2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Dernier ordre il y a '&msg.payload.humanized",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1205,
    "y": 6480,
    "wires": [
      [
        "f23d5105ca948593"
      ]
    ]
  },
  {
    "id": "6cc81c8342d6ef1c",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "indoor coefficient",
    "label": "",
    "tooltip": "",
    "order": 18,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "indoor coefficient",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "200",
    "step": 1,
    "className": "",
    "x": 1725,
    "y": 5760,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f7ed99ce22cd37cb",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "outdoor coefficient",
    "label": "",
    "tooltip": "",
    "order": 20,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "outdoor coefficient",
    "topicType": "str",
    "thumbLabel": true,
    "min": 0,
    "max": "200",
    "step": 1,
    "className": "",
    "x": 1725,
    "y": 5820,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "348134507ffe8815",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 4,
    "width": "2",
    "height": "1",
    "name": "status",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1385,
    "y": 5100,
    "wires": []
  },
  {
    "id": "63561fec4fba2afd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 13,
    "width": "2",
    "height": "1",
    "name": "eco setpoint (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1465,
    "y": 5640,
    "wires": []
  },
  {
    "id": "53f7b3195f6dfeed",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 17,
    "width": "2",
    "height": "1",
    "name": "indoor coefficient (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 5760,
    "wires": []
  },
  {
    "id": "99e789a941d2af52",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 19,
    "width": "2",
    "height": "1",
    "name": "outdoor coefficient (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 5820,
    "wires": []
  },
  {
    "id": "39615dab9370d868",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "150 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 545,
    "y": 5040,
    "wires": [
      [
        "adc6196b15cf8c39"
      ]
    ]
  },
  {
    "id": "e223793b9998818b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 15,
    "width": "2",
    "height": "1",
    "name": "confort setpoint (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 5700,
    "wires": []
  },
  {
    "id": "136162f12991809c",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1065,
    "y": 5100,
    "wires": [
      [
        "a9e89b46159c4ec8"
      ]
    ]
  },
  {
    "id": "fb9711affc7d14af",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5100,
    "wires": [
      [
        "136162f12991809c"
      ]
    ]
  },
  {
    "id": "a9e89b46159c4ec8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1225,
    "y": 5100,
    "wires": [
      [
        "348134507ffe8815"
      ]
    ]
  },
  {
    "id": "cb3f8f9fa322b59f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 21,
    "width": "2",
    "height": "1",
    "name": "preheat time(txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1445,
    "y": 5880,
    "wires": []
  },
  {
    "id": "51dc21bc28ea3f06",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "preheat time",
    "label": "",
    "tooltip": "",
    "order": 22,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "preheat time",
    "topicType": "str",
    "thumbLabel": true,
    "min": "5",
    "max": "60",
    "step": "5",
    "className": "",
    "x": 1685,
    "y": 5880,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "272807d6b707d92f",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 23,
    "width": "2",
    "height": "1",
    "name": "cycle time(txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1445,
    "y": 5940,
    "wires": []
  },
  {
    "id": "4540d4f432f8742d",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "cycle time",
    "label": "",
    "tooltip": "",
    "order": 24,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "cycle time",
    "topicType": "str",
    "thumbLabel": true,
    "min": "5",
    "max": "120",
    "step": "5",
    "className": "",
    "x": 1665,
    "y": 5940,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "6d0cb16590b1da18",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 29,
    "width": "2",
    "height": "1",
    "name": "offloading power (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 6120,
    "wires": []
  },
  {
    "id": "bfb0a473b6a09c81",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "offloading power",
    "label": "",
    "tooltip": "",
    "order": 30,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "offloading power",
    "topicType": "str",
    "thumbLabel": true,
    "min": "100",
    "max": "1500",
    "step": "100",
    "className": "",
    "x": 1705,
    "y": 6120,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "61d316384ef1521b",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "heat request",
    "label": "",
    "group": "28836135eb153545",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "topic",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "cog-play",
    "oncolor": "teal",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "cog-stop-outline",
    "offcolor": "grey",
    "x": 1685,
    "y": 5160,
    "wires": [
      []
    ]
  },
  {
    "id": "27d7b08fb3646a52",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Exterieur à '&msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5460,
    "wires": [
      [
        "3f9eefa51c1e5e9e"
      ]
    ]
  },
  {
    "id": "3f9eefa51c1e5e9e",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 11,
    "width": "2",
    "height": "1",
    "name": "outdoor temperature",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-left",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1485,
    "y": 5460,
    "wires": []
  },
  {
    "id": "ff2211c1efd24971",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture delay",
    "label": "",
    "tooltip": "",
    "order": 26,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "aperture delay",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "30",
    "step": 1,
    "className": "",
    "x": 1705,
    "y": 6000,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f814aebd5bd599b5",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "offloading delay",
    "label": "",
    "tooltip": "",
    "order": 28,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "offloading delay",
    "topicType": "str",
    "thumbLabel": true,
    "min": "1",
    "max": "60",
    "step": 1,
    "className": "",
    "x": 1705,
    "y": 6060,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "8c3c9bc4a66b1e32",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 25,
    "width": "2",
    "height": "1",
    "name": "aperture delay(txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1465,
    "y": 6000,
    "wires": []
  },
  {
    "id": "0711217590341f99",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "from global",
    "rules": [
      {
        "t": "set",
        "p": "old_payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "metrics",
        "tot": "global"
      },
      {
        "t": "set",
        "p": "thermostat.options",
        "pt": "flow",
        "to": "[]",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "thermostat.options[0]",
        "pt": "flow",
        "to": "{\t    'label': 'non assigné',\t    'value': ''\t}",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 725,
    "y": 6540,
    "wires": [
      [
        "3930f84bd36fd5aa"
      ]
    ]
  },
  {
    "id": "3930f84bd36fd5aa",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "bucket",
    "x": 885,
    "y": 6540,
    "wires": [
      [
        "b6f3145afc37707c"
      ]
    ]
  },
  {
    "id": "b6f3145afc37707c",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "measurement",
    "x": 1045,
    "y": 6540,
    "wires": [
      [
        "7a9f4d42d5c7497c"
      ]
    ]
  },
  {
    "id": "7a9f4d42d5c7497c",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "aperture",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1265,
    "y": 6540,
    "wires": [
      [
        "dd517b4d06983aac"
      ]
    ]
  },
  {
    "id": "dd517b4d06983aac",
    "type": "split",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "splt": "\\n",
    "spltType": "str",
    "arraySplt": 1,
    "arraySpltType": "len",
    "stream": false,
    "addname": "field",
    "x": 1425,
    "y": 6540,
    "wires": [
      [
        "e7dcdd83cf9e08e1"
      ]
    ]
  },
  {
    "id": "e7dcdd83cf9e08e1",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "shutter",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1585,
    "y": 6540,
    "wires": [
      [
        "ad09f7f6ad1acedd"
      ]
    ]
  },
  {
    "id": "73dc6a2b0e041f8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "add",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "$count(msg.options)-1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "count",
        "pt": "msg",
        "to": "msg.count+1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "options[msg.count]",
        "pt": "msg",
        "to": "{\t    'label': msg.trans.path,\t    'value': msg.metric\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "thermostat.options",
        "pt": "flow",
        "to": "options",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2145,
    "y": 6540,
    "wires": [
      []
    ]
  },
  {
    "id": "bcfed6ac5d278d3c",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 6180,
    "wires": [
      [
        "93e874f6e4a1f87a"
      ]
    ]
  },
  {
    "id": "93e874f6e4a1f87a",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 1",
    "label": "Ouverture 1 :",
    "tooltip": "",
    "order": 31,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "non assigné",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "aperture 1",
    "topicType": "str",
    "className": "",
    "x": 1685,
    "y": 6180,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "fcbda9c625fdecac",
    "type": "rbe",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "func": "rbe",
    "gap": "",
    "start": "",
    "inout": "out",
    "septopics": false,
    "property": "bucket",
    "topi": "topic",
    "x": 525,
    "y": 6540,
    "wires": [
      [
        "0711217590341f99"
      ]
    ]
  },
  {
    "id": "f5cf184989e2cc69",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 6240,
    "wires": [
      [
        "3d40410e159beaab"
      ]
    ]
  },
  {
    "id": "3d40410e159beaab",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 2",
    "label": "Ouverture 2 :",
    "tooltip": "",
    "order": 32,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "non assigné",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "aperture 2",
    "topicType": "str",
    "className": "",
    "x": 1685,
    "y": 6240,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "4565730f04bd7072",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 3",
    "label": "Ouverture 3 :",
    "tooltip": "",
    "order": 33,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "non assigné",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "aperture 3",
    "topicType": "str",
    "className": "",
    "x": 1685,
    "y": 6300,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "95eb528329f90cf2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 6300,
    "wires": [
      [
        "4565730f04bd7072"
      ]
    ]
  },
  {
    "id": "79764253e9e92fda",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 4",
    "label": "Ouverture 4 :",
    "tooltip": "",
    "order": 34,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "non assigné",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "aperture 4",
    "topicType": "str",
    "className": "",
    "x": 1685,
    "y": 6360,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "3e6cd35a857771f8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 6360,
    "wires": [
      [
        "79764253e9e92fda"
      ]
    ]
  },
  {
    "id": "4ad97596d0efa64b",
    "type": "ui-dropdown",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "name": "aperture 5",
    "label": "Ouverture 5 :",
    "tooltip": "",
    "order": 35,
    "width": "6",
    "height": "1",
    "passthru": false,
    "multiple": false,
    "options": [
      {
        "label": "non assigné",
        "value": "",
        "type": "str"
      }
    ],
    "payload": "",
    "topic": "aperture 5",
    "topicType": "str",
    "className": "",
    "x": 1685,
    "y": 6420,
    "wires": [
      [
        "37aa96c6d80d8ade"
      ]
    ]
  },
  {
    "id": "f19ecf4219ed5190",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "thermostat.options",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "$sort(msg.options, function($l, $r) {\t  $l[0].label > $r[0].label\t})",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 6420,
    "wires": [
      [
        "4ad97596d0efa64b"
      ]
    ]
  },
  {
    "id": "33fde1af7428bf26",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 27,
    "width": "2",
    "height": "1",
    "name": "offloading delay(txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1465,
    "y": 6060,
    "wires": []
  },
  {
    "id": "1d92bf6b8fc98959",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload?\"Gestion de thermostat active\":\"Gestion de thermostat inactive\"",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5040,
    "wires": [
      [
        "25b3542fda8fae4d"
      ]
    ]
  },
  {
    "id": "25b3542fda8fae4d",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "group": "28836135eb153545",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "actif (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 1405,
    "y": 5040,
    "wires": []
  },
  {
    "id": "4b8267934ced5596",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "50",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 305,
    "y": 4800,
    "wires": [
      [
        "fc673a36d8691d63"
      ]
    ]
  },
  {
    "id": "151d5194b8538480",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "options",
    "rules": [
      {
        "t": "set",
        "p": "options",
        "pt": "msg",
        "to": "[\t    {'label':'Eco','value':'eco'},\t    {'label':'Confort','value':'confort'},\t    {'label':'Hors-Gel','value':'anti-freeze'},\t    {'label':'Arrêt','value':'off'}\t]",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 865,
    "y": 5580,
    "wires": [
      [
        "f968a8fc298f04c3"
      ]
    ]
  },
  {
    "id": "f670239d8cf08808",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Mode eco à '&msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5640,
    "wires": [
      [
        "63561fec4fba2afd"
      ]
    ]
  },
  {
    "id": "a4b56ada8159bff6",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Mode confort à '&msg.payload&'°'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5700,
    "wires": [
      [
        "e223793b9998818b"
      ]
    ]
  },
  {
    "id": "990b4d58c23a68a2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Coef. int. de '&msg.payload",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5760,
    "wires": [
      [
        "53f7b3195f6dfeed"
      ]
    ]
  },
  {
    "id": "ee3e358d88bbf249",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Coef. ext. de '&msg.payload",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5820,
    "wires": [
      [
        "99e789a941d2af52"
      ]
    ]
  },
  {
    "id": "6f096e24c9634c56",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Préchauffe de '&msg.payload&'m'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5880,
    "wires": [
      [
        "cb3f8f9fa322b59f"
      ]
    ]
  },
  {
    "id": "83b16f9aed4fa051",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Cycle de '&msg.payload&'m'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 5940,
    "wires": [
      [
        "272807d6b707d92f"
      ]
    ]
  },
  {
    "id": "db3ebf0b6421aeae",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Délai ouvrant '&msg.payload&'m'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 6000,
    "wires": [
      [
        "8c3c9bc4a66b1e32"
      ]
    ]
  },
  {
    "id": "10c3697bddec1a05",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Délai délestage '&msg.payload&'m'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 6060,
    "wires": [
      [
        "33fde1af7428bf26"
      ]
    ]
  },
  {
    "id": "4f0ea1cdd4d0b719",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "format",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "'Puissance de '&msg.payload&'w'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 845,
    "y": 6120,
    "wires": [
      [
        "6d0cb16590b1da18"
      ]
    ]
  },
  {
    "id": "ad09f7f6ad1acedd",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "metric",
    "rules": [
      {
        "t": "set",
        "p": "metric",
        "pt": "msg",
        "to": "msg.bucket&'/'&msg.measurement&'/'&msg.field",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1745,
    "y": 6540,
    "wires": [
      [
        "7bb3239b80bb5650"
      ]
    ]
  },
  {
    "id": "7bb3239b80bb5650",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "bb2ebd173a2ba06c",
    "name": "",
    "links": [
      "025e219749a67439"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1985,
    "y": 6540,
    "wires": [
      [
        "73dc6a2b0e041f8e"
      ]
    ]
  },
  {
    "id": "d3ecaf8ee5a9a5f3",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "overload",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4680,
    "y": 7320,
    "wires": [
      [
        "31254c9a4c46f49c"
      ]
    ]
  },
  {
    "id": "892aa8fda585f5b2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.overload",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7200,
    "wires": [
      [
        "c7dde6eba09fbd5a",
        "b3fb451be3c81d2b",
        "94ecac051c7ae0c0",
        "36f2cc31fc4e1e37",
        "8d582cfd231d8e30",
        "c3fd837c967f3c0d"
      ]
    ]
  },
  {
    "id": "e0cb1aec4e0fda1c",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "boot overload",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 2695,
    "y": 7080,
    "wires": [
      [
        "44bb7746b927fef2",
        "7acbbb904086727c"
      ]
    ]
  },
  {
    "id": "31254c9a4c46f49c",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "room - ui - light - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 4815,
    "y": 7320,
    "wires": []
  },
  {
    "id": "943c9a5e7bb69227",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "room - ui - overload - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 2695,
    "y": 7140,
    "wires": [
      [
        "4bd89dce27b61c84"
      ]
    ]
  },
  {
    "id": "94b3fd103974e612",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Surcharge\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7140,
    "wires": [
      [
        "2c68008e717394eb",
        "e4e4dde43d4eef06"
      ]
    ]
  },
  {
    "id": "44bb7746b927fef2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Surcharge\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7080,
    "wires": [
      [
        "e4e4dde43d4eef06",
        "2c68008e717394eb"
      ]
    ]
  },
  {
    "id": "a8f14d2493aa1ccc",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 3930,
    "y": 7320,
    "wires": [
      [
        "96c183ca09036f9e",
        "c7dde6eba09fbd5a"
      ],
      [
        "207c8c517b76a96d",
        "36f2cc31fc4e1e37"
      ],
      [
        "41be9069ac8254e1",
        "c3fd837c967f3c0d"
      ]
    ]
  },
  {
    "id": "11f218242b107b91",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.overload[msg.field]",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 7320,
    "wires": [
      [
        "a8f14d2493aa1ccc"
      ]
    ]
  },
  {
    "id": "9d11ec1e81b17e3d",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "exists",
    "property": "index.overload",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 3610,
    "y": 7320,
    "wires": [
      [
        "11f218242b107b91"
      ],
      [
        "143b6433267f0fa1"
      ]
    ]
  },
  {
    "id": "143b6433267f0fa1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.overload",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.overload[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "field",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3770,
    "y": 7380,
    "wires": [
      [
        "a8f14d2493aa1ccc"
      ]
    ]
  },
  {
    "id": "4bd89dce27b61c84",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "overload",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 2860,
    "y": 7140,
    "wires": [
      [
        "94b3fd103974e612",
        "f8787219bfa0b999"
      ]
    ]
  },
  {
    "id": "2c68008e717394eb",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 4260,
    "y": 7140,
    "wires": [
      []
    ]
  },
  {
    "id": "e4e4dde43d4eef06",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucune lumière",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 7080,
    "wires": [
      [
        "a2bcd5bf77abacdd"
      ]
    ]
  },
  {
    "id": "a2bcd5bf77abacdd",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "group": "b044f13129d03761",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4430,
    "y": 7080,
    "wires": []
  },
  {
    "id": "c7dde6eba09fbd5a",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "overload 01",
    "label": "",
    "group": "b044f13129d03761",
    "order": 3,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "flash-triangle",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "flash-triangle-outline",
    "offcolor": "grey",
    "x": 4490,
    "y": 7320,
    "wires": [
      [
        "d3ecaf8ee5a9a5f3"
      ]
    ]
  },
  {
    "id": "b3fb451be3c81d2b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "group": "b044f13129d03761",
    "order": 2,
    "width": "5",
    "height": "1",
    "name": "overload 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 7320,
    "wires": []
  },
  {
    "id": "96c183ca09036f9e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7320,
    "wires": [
      [
        "b3fb451be3c81d2b"
      ]
    ]
  },
  {
    "id": "207c8c517b76a96d",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7380,
    "wires": [
      [
        "94ecac051c7ae0c0"
      ]
    ]
  },
  {
    "id": "41be9069ac8254e1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4090,
    "y": 7440,
    "wires": [
      [
        "8d582cfd231d8e30"
      ]
    ]
  },
  {
    "id": "f7df745c748863ac",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 3260,
    "y": 7320,
    "wires": [
      [
        "fae60b32c35a15e2"
      ]
    ]
  },
  {
    "id": "fae60b32c35a15e2",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "msg.trans&(msg.payload?' ':' pas')&' en surcharge'",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3450,
    "y": 7320,
    "wires": [
      [
        "9d11ec1e81b17e3d"
      ]
    ]
  },
  {
    "id": "f8787219bfa0b999",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3060,
    "y": 7320,
    "wires": [
      [
        "f7df745c748863ac"
      ]
    ]
  },
  {
    "id": "7acbbb904086727c",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2830,
    "y": 7200,
    "wires": [
      [
        "892aa8fda585f5b2"
      ]
    ]
  },
  {
    "id": "36f2cc31fc4e1e37",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "overload 02",
    "label": "",
    "group": "b044f13129d03761",
    "order": 5,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "flash-triangle",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "flash-triangle-outline",
    "offcolor": "grey",
    "x": 4490,
    "y": 7380,
    "wires": [
      [
        "d3ecaf8ee5a9a5f3"
      ]
    ]
  },
  {
    "id": "94ecac051c7ae0c0",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "group": "b044f13129d03761",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "overload 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 7380,
    "wires": []
  },
  {
    "id": "c3fd837c967f3c0d",
    "type": "ui-switch",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "name": "overload 03",
    "label": "",
    "group": "b044f13129d03761",
    "order": 7,
    "width": "1",
    "height": "1",
    "passthru": false,
    "topic": "field",
    "topicType": "msg",
    "style": "",
    "className": "",
    "onvalue": "true",
    "onvalueType": "bool",
    "onicon": "flash-triangle",
    "oncolor": "red",
    "offvalue": "false",
    "offvalueType": "bool",
    "officon": "flash-triangle-outline",
    "offcolor": "grey",
    "x": 4490,
    "y": 7440,
    "wires": [
      [
        "d3ecaf8ee5a9a5f3"
      ]
    ]
  },
  {
    "id": "8d582cfd231d8e30",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "450d06a664f3f2f1",
    "group": "b044f13129d03761",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "overload 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 4280,
    "y": 7440,
    "wires": []
  },
  {
    "id": "f4e17d477136f068",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "index.volume",
        "pt": "flow",
        "to": "{}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1440,
    "wires": [
      [
        "ee380c3cf1a2020b",
        "905659284218c2dc",
        "b71f413cfe3d9305",
        "b2dc7736b4de45e7",
        "14ccbc8fbb2303ac",
        "db5d3a06b3c4888a",
        "377467850cf184c6",
        "d83fcce023a2646b",
        "e5363afaefd9c154",
        "6e879e2fe3ef4f2f"
      ]
    ]
  },
  {
    "id": "9daae248b4f1952b",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "boot volume",
    "links": [
      "9e4bfee0db3051d4"
    ],
    "x": 5095,
    "y": 1320,
    "wires": [
      [
        "e192f06ea5f1e3e5",
        "1bfca2b520f057f8"
      ]
    ]
  },
  {
    "id": "3c869e854f5d6809",
    "type": "link in",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "room - ui - volume - metric",
    "links": [
      "b6323e1460f6f50c"
    ],
    "x": 5095,
    "y": 1380,
    "wires": [
      [
        "b942b34f373e2a3f"
      ]
    ]
  },
  {
    "id": "605d72f6f24befbf",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "set",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"show\":[\"Pièces:Volumes\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "remove",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1380,
    "wires": [
      [
        "2991065843b84eee",
        "4ef9210c5e612de7"
      ]
    ]
  },
  {
    "id": "e192f06ea5f1e3e5",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "reset",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\t   \"groups\":{\t       \"hide\":[\"Pièces:Volumes\"]\t   }\t}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "class",
        "pt": "msg",
        "to": "",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1320,
    "wires": [
      [
        "2991065843b84eee",
        "4ef9210c5e612de7"
      ]
    ]
  },
  {
    "id": "aa0c5812f7e6349b",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.volume[msg.field]",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6170,
    "y": 1560,
    "wires": [
      [
        "fa2aea6161a5fd41"
      ]
    ]
  },
  {
    "id": "67310a7a72933e8e",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "index",
    "rules": [
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "index.volume",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "index",
        "pt": "msg",
        "to": "$count($keys(msg.index)) +1",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "index.v[msg.field]",
        "pt": "flow",
        "to": "index",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6170,
    "y": 1620,
    "wires": [
      [
        "fa2aea6161a5fd41"
      ]
    ]
  },
  {
    "id": "0166eab08f6fbafc",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "exists",
    "property": "index.volume",
    "propertyType": "flow",
    "rules": [
      {
        "t": "hask",
        "v": "field",
        "vt": "msg"
      },
      {
        "t": "else"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 6010,
    "y": 1560,
    "wires": [
      [
        "aa0c5812f7e6349b"
      ],
      [
        "67310a7a72933e8e"
      ]
    ]
  },
  {
    "id": "fa2aea6161a5fd41",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "index",
    "property": "index",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 5,
    "x": 6330,
    "y": 1560,
    "wires": [
      [
        "e368b811a3ce64eb",
        "db5d3a06b3c4888a"
      ],
      [
        "a3bf1460c7cfb7b1",
        "377467850cf184c6"
      ],
      [
        "00bc3a1cffc305cc",
        "d83fcce023a2646b"
      ],
      [
        "f706754b772baa6f",
        "e5363afaefd9c154"
      ],
      [
        "aa8b6591f26d0aa9",
        "6e879e2fe3ef4f2f"
      ]
    ]
  },
  {
    "id": "b942b34f373e2a3f",
    "type": "switch",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "measurement",
    "property": "measurement",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "volume",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 5260,
    "y": 1380,
    "wires": [
      [
        "605d72f6f24befbf",
        "a67149ef65f5d76f"
      ]
    ]
  },
  {
    "id": "2991065843b84eee",
    "type": "ui-control",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "",
    "ui": "2d75e4809d2a6fbf",
    "events": "all",
    "x": 6660,
    "y": 1380,
    "wires": [
      []
    ]
  },
  {
    "id": "ee380c3cf1a2020b",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 2,
    "width": "2",
    "height": "1",
    "name": "volume 01 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6680,
    "y": 1560,
    "wires": []
  },
  {
    "id": "c6a4524ab3539276",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "text",
    "rules": [
      {
        "t": "set",
        "p": "trans",
        "pt": "msg",
        "to": "'Volume '&$string(msg.trans)&' à '&$string(msg.payload)",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 5850,
    "y": 1560,
    "wires": [
      [
        "0166eab08f6fbafc"
      ]
    ]
  },
  {
    "id": "4ef9210c5e612de7",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "Aucun volume",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6660,
    "y": 1320,
    "wires": [
      [
        "98e59bcef4b2d697"
      ]
    ]
  },
  {
    "id": "98e59bcef4b2d697",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 1,
    "width": "6",
    "height": "1",
    "name": "none",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-center",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6830,
    "y": 1320,
    "wires": []
  },
  {
    "id": "905659284218c2dc",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 4,
    "width": "5",
    "height": "1",
    "name": "volume 02 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6680,
    "y": 1620,
    "wires": []
  },
  {
    "id": "b71f413cfe3d9305",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 6,
    "width": "5",
    "height": "1",
    "name": "volume 03 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6680,
    "y": 1680,
    "wires": []
  },
  {
    "id": "b2dc7736b4de45e7",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 8,
    "width": "5",
    "height": "1",
    "name": "volume 04 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6680,
    "y": 1740,
    "wires": []
  },
  {
    "id": "14ccbc8fbb2303ac",
    "type": "ui-text",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "order": 10,
    "width": "5",
    "height": "1",
    "name": "volume 05 (txt)",
    "label": "",
    "format": "{{msg.payload}}",
    "layout": "row-right",
    "style": false,
    "font": "",
    "fontSize": 16,
    "color": "#717171",
    "className": "",
    "x": 6680,
    "y": 1800,
    "wires": []
  },
  {
    "id": "b9aa798eae125dd5",
    "type": "link call",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "",
    "links": [
      "df0e4ab2e1efc286"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 5660,
    "y": 1560,
    "wires": [
      [
        "c6a4524ab3539276"
      ]
    ]
  },
  {
    "id": "a67149ef65f5d76f",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "100 ms",
    "pauseType": "delay",
    "timeout": "100",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5460,
    "y": 1560,
    "wires": [
      [
        "b9aa798eae125dd5"
      ]
    ]
  },
  {
    "id": "aa8b6591f26d0aa9",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1800,
    "wires": [
      [
        "14ccbc8fbb2303ac"
      ]
    ]
  },
  {
    "id": "f706754b772baa6f",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1740,
    "wires": [
      [
        "b2dc7736b4de45e7"
      ]
    ]
  },
  {
    "id": "00bc3a1cffc305cc",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1680,
    "wires": [
      [
        "b71f413cfe3d9305"
      ]
    ]
  },
  {
    "id": "a3bf1460c7cfb7b1",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1620,
    "wires": [
      [
        "905659284218c2dc"
      ]
    ]
  },
  {
    "id": "e368b811a3ce64eb",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "move",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "trans",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 6490,
    "y": 1560,
    "wires": [
      [
        "ee380c3cf1a2020b"
      ]
    ]
  },
  {
    "id": "1bfca2b520f057f8",
    "type": "delay",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "50 ms",
    "pauseType": "delay",
    "timeout": "150",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 5230,
    "y": 1440,
    "wires": [
      [
        "f4e17d477136f068"
      ]
    ]
  },
  {
    "id": "db5d3a06b3c4888a",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "name": "volume 01",
    "label": "",
    "tooltip": "",
    "order": 3,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 6890,
    "y": 1560,
    "wires": [
      [
        "c594a37fe86aa4a8"
      ]
    ]
  },
  {
    "id": "c594a37fe86aa4a8",
    "type": "change",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "set metric",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "volume",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 7080,
    "y": 1560,
    "wires": [
      [
        "ee30b3a5827bf77f"
      ]
    ]
  },
  {
    "id": "ee30b3a5827bf77f",
    "type": "link out",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "name": "room - ui - volume - metric",
    "mode": "link",
    "links": [
      "2690f4e06626ebda"
    ],
    "x": 7215,
    "y": 1560,
    "wires": []
  },
  {
    "id": "377467850cf184c6",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "name": "volume 02",
    "label": "",
    "tooltip": "",
    "order": 5,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 6890,
    "y": 1620,
    "wires": [
      [
        "c594a37fe86aa4a8"
      ]
    ]
  },
  {
    "id": "d83fcce023a2646b",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "name": "volume 03",
    "label": "",
    "tooltip": "",
    "order": 7,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 6890,
    "y": 1680,
    "wires": [
      [
        "c594a37fe86aa4a8"
      ]
    ]
  },
  {
    "id": "e5363afaefd9c154",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "name": "volume 04",
    "label": "",
    "tooltip": "",
    "order": 9,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 6890,
    "y": 1740,
    "wires": [
      [
        "c594a37fe86aa4a8"
      ]
    ]
  },
  {
    "id": "6e879e2fe3ef4f2f",
    "type": "ui-slider",
    "z": "aab0c030de7df5cc",
    "g": "04f5c0e72326d896",
    "group": "07f729e0d6e0f541",
    "name": "volume 05",
    "label": "",
    "tooltip": "",
    "order": 11,
    "width": "4",
    "height": "1",
    "passthru": false,
    "outs": "end",
    "topic": "topic",
    "topicType": "msg",
    "thumbLabel": "true",
    "showTicks": "false",
    "min": 0,
    "max": "99",
    "step": 1,
    "className": "",
    "iconPrepend": "",
    "iconAppend": "",
    "color": "",
    "colorTrack": "",
    "colorThumb": "",
    "x": 6890,
    "y": 1800,
    "wires": [
      [
        "c594a37fe86aa4a8"
      ]
    ]
  }
]