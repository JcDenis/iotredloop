[
  {
    "id": "66555f1b8174a7f6",
    "type": "tab",
    "label": "R.Parking",
    "disabled": false,
    "info": "",
    "env": []
  },
  {
    "id": "5bc9f7cf83238aeb",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "parking - bucket",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ffC000"
    },
    "nodes": [
      "7bf57edd9b912477",
      "3a2f314ba935d912",
      "a7adf44ae42183e7"
    ],
    "x": 94,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "9f08736efc0bf2a3",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "parking - catch",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "4a5d5d5d350b46b1",
      "f7b8e9766e7fa65d"
    ],
    "x": 534,
    "y": 19,
    "w": 452,
    "h": 82
  },
  {
    "id": "81f2c0ba0afcc81a",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "parking - ui select room",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#6f2fa0"
    },
    "nodes": [
      "57edb1e8b87cefb2",
      "dcf6e22992b1a266",
      "7a168ca040e2e025",
      "c8d93ea30a89c64b"
    ],
    "x": 1074,
    "y": 19,
    "w": 582,
    "h": 82
  },
  {
    "id": "d1e36e4097e61950",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "parking - scene - telegram motion",
    "style": {
      "fill": "#92d04f",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "8049d5f40acf0d6d",
      "f5b8af65610bfe85",
      "19d6bac042382d00",
      "b0d8b3aa91b7fc53",
      "bbe42de90d60620d",
      "60454b94203e24a9",
      "cc04ecbd1c417498",
      "d23d18ea64830654",
      "4ee213727f317d0c"
    ],
    "x": 94,
    "y": 1219,
    "w": 1482,
    "h": 82
  },
  {
    "id": "f3c5f863ce44dd4c",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "a4212c37abb32920"
    ],
    "x": 68,
    "y": 293,
    "w": 734,
    "h": 434
  },
  {
    "id": "a4212c37abb32920",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "f3c5f863ce44dd4c",
    "name": "parking - device - auto",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "9bf844aeef65ae08",
      "d25f4a083406230e",
      "53e56dfd722c9a0d",
      "49b83bddef12740c",
      "94b5da1c39bf5b25",
      "b6e1fef312e1fef1",
      "9944fe7b1107bdf5",
      "0b5db55da89761d4",
      "464abf9bb2b39a29",
      "a358b80cf5b7fd3e",
      "b5e85fbe4ccc18da",
      "f4bfaf4b248564cd",
      "191e98f25a40d6ae",
      "2102ee1a36edc0de"
    ],
    "x": 94,
    "y": 319,
    "w": 682,
    "h": 382
  },
  {
    "id": "3211cfd21f9b3d50",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "e98a6d9250456790",
      "7df5dd6623e1931e",
      "079cdcca76a08206"
    ],
    "x": 68,
    "y": 773,
    "w": 2234,
    "h": 374
  },
  {
    "id": "e98a6d9250456790",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "3211cfd21f9b3d50",
    "name": "parking - device - lighting",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "f055974ec99702a8",
      "c205d9011b1d755d",
      "21b27e23f84eeec9",
      "dd3ebfb1ff642740",
      "fc7d87833bd0e1de",
      "295be0d4ddcc0203"
    ],
    "x": 94,
    "y": 799,
    "w": 522,
    "h": 262
  },
  {
    "id": "7df5dd6623e1931e",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "3211cfd21f9b3d50",
    "name": "parking - scene - lighting spots",
    "style": {
      "fill": "#92d04f",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "d7eda7ed1f610f4e",
      "ad567a9cec27715e",
      "dcee708239241769",
      "d95f2ca72214b098",
      "4f321829f6f7cc47",
      "47d5788daef02cc1"
    ],
    "x": 714,
    "y": 851.5,
    "w": 1022,
    "h": 149.5
  },
  {
    "id": "079cdcca76a08206",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "3211cfd21f9b3d50",
    "name": "parking - scene - lighting lamp",
    "style": {
      "fill": "#92d04f",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "4dc06cde57a95b67",
      "27f1e5191cf5e255",
      "dfb1a9f530d400b5",
      "e8d93eeb1ee07fad",
      "d508dae06ba6ea5f",
      "c47166a7181bf023",
      "ada94e4f95af472a",
      "037be326655205c3",
      "f288cfc760dda385"
    ],
    "x": 714,
    "y": 1039,
    "w": 1562,
    "h": 82
  },
  {
    "id": "2385ebb099d39679",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "name": "parking - alexa",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "7cc72012db37a36f",
      "dde0ba374db2eedf",
      "553666c9dafd29aa"
    ],
    "x": 68,
    "y": 1353,
    "w": 1374,
    "h": 374
  },
  {
    "id": "7cc72012db37a36f",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "2385ebb099d39679",
    "name": "parking - alexa - light spots",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "e9a0591d654a5d18",
      "17193d3c2edc0a1b",
      "faad30261c5c42b4",
      "054b8502d9873700",
      "fd3bddca4344299b",
      "f9fa54799ed349a3",
      "83890229fb39a593"
    ],
    "x": 94,
    "y": 1379,
    "w": 1322,
    "h": 82
  },
  {
    "id": "dde0ba374db2eedf",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "2385ebb099d39679",
    "name": "parking - alexa - motion",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "98f376df7b0bbc5d",
      "957e4911e1e7bcfd",
      "49da4a79a0759025",
      "59b3237828d69574",
      "924613ad9e615565"
    ],
    "x": 94,
    "y": 1619,
    "w": 952,
    "h": 82
  },
  {
    "id": "553666c9dafd29aa",
    "type": "group",
    "z": "66555f1b8174a7f6",
    "g": "2385ebb099d39679",
    "name": "parking - alexa - temperature",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "25bf9e91d9fd1134",
      "aa98bb2a582511ba",
      "dbfc0b4bcc1a5399",
      "6751e3fd6a6c45d9",
      "dd4f8e5109c3f132"
    ],
    "x": 94,
    "y": 1499,
    "w": 972,
    "h": 82
  },
  {
    "id": "7bf57edd9b912477",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "5bc9f7cf83238aeb",
    "name": "bucket",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "parking",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "bucket",
        "pt": "flow",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 270,
    "y": 60,
    "wires": [
      [
        "a7adf44ae42183e7"
      ]
    ]
  },
  {
    "id": "3a2f314ba935d912",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "5bc9f7cf83238aeb",
    "name": "parking - bucket",
    "links": [
      "25445f5a9b787a0a"
    ],
    "x": 135,
    "y": 60,
    "wires": [
      [
        "7bf57edd9b912477"
      ]
    ]
  },
  {
    "id": "a7adf44ae42183e7",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "5bc9f7cf83238aeb",
    "name": "parking - bucket",
    "mode": "link",
    "links": [
      "21b27e23f84eeec9",
      "9bf844aeef65ae08"
    ],
    "x": 395,
    "y": 60,
    "wires": []
  },
  {
    "id": "4a5d5d5d350b46b1",
    "type": "catch",
    "z": "66555f1b8174a7f6",
    "g": "9f08736efc0bf2a3",
    "name": "catch error",
    "scope": null,
    "uncaught": false,
    "x": 620,
    "y": 60,
    "wires": [
      [
        "f7b8e9766e7fa65d"
      ]
    ]
  },
  {
    "id": "f7b8e9766e7fa65d",
    "type": "debug",
    "z": "66555f1b8174a7f6",
    "g": "9f08736efc0bf2a3",
    "name": "parking - catch error",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 840,
    "y": 60,
    "wires": []
  },
  {
    "id": "57edb1e8b87cefb2",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "81f2c0ba0afcc81a",
    "name": "parking - ui select room",
    "mode": "link",
    "links": [
      "1be6ca3c2b8615a2"
    ],
    "x": 1615,
    "y": 60,
    "wires": []
  },
  {
    "id": "dcf6e22992b1a266",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "81f2c0ba0afcc81a",
    "name": "parking - ui select room",
    "links": [
      "74172837e07ab80d"
    ],
    "x": 1115,
    "y": 60,
    "wires": [
      [
        "c8d93ea30a89c64b"
      ]
    ]
  },
  {
    "id": "7a168ca040e2e025",
    "type": "ui-button",
    "z": "66555f1b8174a7f6",
    "g": "81f2c0ba0afcc81a",
    "group": "36396f5285df476c",
    "name": "",
    "label": "Parking",
    "order": 18,
    "width": "2",
    "height": "1",
    "tooltip": "",
    "color": "",
    "bgcolor": "",
    "className": "",
    "icon": "",
    "iconPosition": "left",
    "payload": "bucket",
    "payloadType": "flow",
    "topic": "topic",
    "topicType": "msg",
    "x": 1480,
    "y": 60,
    "wires": [
      [
        "57edb1e8b87cefb2"
      ]
    ]
  },
  {
    "id": "c8d93ea30a89c64b",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "81f2c0ba0afcc81a",
    "name": "enabled button",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "msg.payload != msg.room",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1280,
    "y": 60,
    "wires": [
      [
        "7a168ca040e2e025"
      ]
    ]
  },
  {
    "id": "8049d5f40acf0d6d",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "parking - scene - telegram motion",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 135,
    "y": 1260,
    "wires": [
      [
        "bbe42de90d60620d"
      ]
    ]
  },
  {
    "id": "f5b8af65610bfe85",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "message",
    "rules": [
      {
        "t": "set",
        "p": "tmp",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{}",
        "tot": "json"
      },
      {
        "t": "set",
        "p": "payload.content",
        "pt": "msg",
        "to": "tmp",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload.type",
        "pt": "msg",
        "to": "photo",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload.caption",
        "pt": "msg",
        "to": "détection mouvement parking",
        "tot": "str"
      },
      {
        "t": "delete",
        "p": "tmp",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1400,
    "y": 1260,
    "wires": [
      [
        "60454b94203e24a9"
      ]
    ]
  },
  {
    "id": "19d6bac042382d00",
    "type": "http request",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "get snapshot",
    "method": "GET",
    "ret": "bin",
    "paytoqs": "ignore",
    "url": "",
    "tls": "",
    "persist": false,
    "proxy": "",
    "insecureHTTPParser": false,
    "authType": "",
    "senderr": false,
    "headers": [],
    "x": 1210,
    "y": 1260,
    "wires": [
      [
        "f5b8af65610bfe85"
      ]
    ]
  },
  {
    "id": "b0d8b3aa91b7fc53",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "camera url",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "url",
        "pt": "msg",
        "to": "metrics.diner.camera.url",
        "tot": "global"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1010,
    "y": 1260,
    "wires": [
      [
        "19d6bac042382d00"
      ]
    ]
  },
  {
    "id": "bbe42de90d60620d",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "trigger",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "parking/power/lamp",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1260,
    "wires": [
      [
        "cc04ecbd1c417498"
      ]
    ]
  },
  {
    "id": "60454b94203e24a9",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "parking - scene - telegram motion",
    "mode": "link",
    "links": [],
    "x": 1535,
    "y": 1260,
    "wires": []
  },
  {
    "id": "cc04ecbd1c417498",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "> 2w",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "gt",
        "v": "2",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 430,
    "y": 1260,
    "wires": [
      [
        "4ee213727f317d0c"
      ]
    ]
  },
  {
    "id": "d23d18ea64830654",
    "type": "trigger",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "replay 5 s",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "payl",
    "duration": "5",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 820,
    "y": 1260,
    "wires": [
      [
        "b0d8b3aa91b7fc53"
      ]
    ]
  },
  {
    "id": "4ee213727f317d0c",
    "type": "delay",
    "z": "66555f1b8174a7f6",
    "g": "d1e36e4097e61950",
    "name": "1 msg / 2 min",
    "pauseType": "rate",
    "timeout": "5",
    "timeoutUnits": "seconds",
    "rate": "1",
    "nbRateUnits": "2",
    "rateUnits": "minute",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": true,
    "allowrate": false,
    "outputs": 1,
    "x": 620,
    "y": 1260,
    "wires": [
      [
        "d23d18ea64830654"
      ]
    ]
  },
  {
    "id": "9bf844aeef65ae08",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "parking - device - auto",
    "links": [
      "a7adf44ae42183e7"
    ],
    "x": 135,
    "y": 360,
    "wires": [
      [
        "464abf9bb2b39a29",
        "a358b80cf5b7fd3e",
        "b5e85fbe4ccc18da",
        "f4bfaf4b248564cd",
        "191e98f25a40d6ae",
        "2102ee1a36edc0de"
      ]
    ]
  },
  {
    "id": "d25f4a083406230e",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "THG / xxx / temperature / probe",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "THG",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 510,
    "y": 360,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "53e56dfd722c9a0d",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "parking - device - auto",
    "mode": "link",
    "links": [
      "d85fe6335a6eae7b"
    ],
    "x": 735,
    "y": 360,
    "wires": []
  },
  {
    "id": "49b83bddef12740c",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "SH4-90157 / xxx / motion / sensor",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "SH4-90157",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 520,
    "y": 420,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "94b5da1c39bf5b25",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "SH4-90157 / xxx / motion / sensor 2",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "SH4-90157",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "sensor 2",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 520,
    "y": 480,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "b6e1fef312e1fef1",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "ZMNHSD / xxx / light / spots",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "ZMNHSD",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "option",
        "pt": "msg",
        "to": "1",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "spots",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 500,
    "y": 540,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "9944fe7b1107bdf5",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "ZMNHSD / xxx / outlet / socket",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "ZMNHSD",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "option",
        "pt": "msg",
        "to": "1",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "outlet",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "socket",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 510,
    "y": 600,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "0b5db55da89761d4",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "FGD212 / xxx / light / lamp",
    "rules": [
      {
        "t": "set",
        "p": "model",
        "pt": "msg",
        "to": "FGD212",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "lamp",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 500,
    "y": 660,
    "wires": [
      [
        "53e56dfd722c9a0d"
      ]
    ]
  },
  {
    "id": "f055974ec99702a8",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "lighting / actif / boolean / true",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "actif",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 340,
    "y": 840,
    "wires": [
      [
        "c205d9011b1d755d"
      ]
    ]
  },
  {
    "id": "c205d9011b1d755d",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "parking - device - lighting",
    "mode": "link",
    "links": [
      "bfa594bf1f876c92"
    ],
    "x": 575,
    "y": 840,
    "wires": []
  },
  {
    "id": "21b27e23f84eeec9",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "parking - device - lighting",
    "links": [
      "a7adf44ae42183e7"
    ],
    "x": 135,
    "y": 840,
    "wires": [
      [
        "f055974ec99702a8",
        "dd3ebfb1ff642740",
        "fc7d87833bd0e1de",
        "295be0d4ddcc0203"
      ]
    ]
  },
  {
    "id": "dd3ebfb1ff642740",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "lighting / timer / number / 10",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "timer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "number",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "10",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 340,
    "y": 900,
    "wires": [
      [
        "c205d9011b1d755d"
      ]
    ]
  },
  {
    "id": "fc7d87833bd0e1de",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "lighting / night / boolean / true",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "night",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 350,
    "y": 960,
    "wires": [
      [
        "c205d9011b1d755d"
      ]
    ]
  },
  {
    "id": "295be0d4ddcc0203",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "e98a6d9250456790",
    "name": "lighting / motion / boolean / true",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "motion",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 350,
    "y": 1020,
    "wires": [
      [
        "c205d9011b1d755d"
      ]
    ]
  },
  {
    "id": "d7eda7ed1f610f4e",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "parking - scene - lighting spots",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 755,
    "y": 900,
    "wires": [
      [
        "dcee708239241769"
      ]
    ]
  },
  {
    "id": "ad567a9cec27715e",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "scene lighting / spots / boolean",
    "rules": [
      {
        "t": "set",
        "p": "scene",
        "pt": "msg",
        "to": "{}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "scene.measurement",
        "pt": "msg",
        "to": "light",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.field",
        "pt": "msg",
        "to": "spots",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.type",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.on",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      },
      {
        "t": "set",
        "p": "scene.off",
        "pt": "msg",
        "to": "false",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1490,
    "y": 900,
    "wires": [
      [
        "d95f2ca72214b098"
      ]
    ]
  },
  {
    "id": "dcee708239241769",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "trigger",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "parking/motion",
        "vt": "str",
        "case": false
      },
      {
        "t": "eq",
        "v": "parking/light/spots",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "cuisine/command/remote",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 3,
    "x": 890,
    "y": 900,
    "wires": [
      [
        "ad567a9cec27715e"
      ],
      [
        "ad567a9cec27715e"
      ],
      [
        "4f321829f6f7cc47"
      ]
    ]
  },
  {
    "id": "d95f2ca72214b098",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "parking - scene - lighting spots",
    "mode": "link",
    "links": [
      "abdf34b12a5dd88d"
    ],
    "x": 1695,
    "y": 900,
    "wires": []
  },
  {
    "id": "4f321829f6f7cc47",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "remote",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "btwn",
        "v": "10",
        "vt": "num",
        "v2": "11",
        "v2t": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1060,
    "y": 960,
    "wires": [
      [
        "47d5788daef02cc1"
      ]
    ]
  },
  {
    "id": "47d5788daef02cc1",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "7df5dd6623e1931e",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.payload=11",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1240,
    "y": 960,
    "wires": [
      [
        "ad567a9cec27715e"
      ]
    ]
  },
  {
    "id": "4dc06cde57a95b67",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "parking - scene - lighting lamp",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 755,
    "y": 1080,
    "wires": [
      [
        "dfb1a9f530d400b5"
      ]
    ]
  },
  {
    "id": "27f1e5191cf5e255",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "scene lighting / lamp  / dimmer",
    "rules": [
      {
        "t": "set",
        "p": "scene",
        "pt": "msg",
        "to": "{}",
        "tot": "jsonata"
      },
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "scene.measurement",
        "pt": "msg",
        "to": "light",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.field",
        "pt": "msg",
        "to": "lamp",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.format",
        "pt": "msg",
        "to": "dimmer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.type",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.on",
        "pt": "msg",
        "to": "99",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "scene.off",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1130,
    "y": 1080,
    "wires": [
      [
        "037be326655205c3"
      ]
    ]
  },
  {
    "id": "dfb1a9f530d400b5",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "trigger",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "system/mode/nycthemer",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 890,
    "y": 1080,
    "wires": [
      [
        "27f1e5191cf5e255"
      ]
    ]
  },
  {
    "id": "e8d93eeb1ee07fad",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "rsp",
    "property": "routine.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1570,
    "y": 1080,
    "wires": [
      [
        "c47166a7181bf023"
      ]
    ]
  },
  {
    "id": "d508dae06ba6ea5f",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "parking - scene - lighting lamp",
    "mode": "link",
    "links": [
      "fb4b4e2a3fb029df"
    ],
    "x": 2235,
    "y": 1080,
    "wires": []
  },
  {
    "id": "c47166a7181bf023",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "",
    "links": [
      "dfec2e7efb555d4d"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1750,
    "y": 1080,
    "wires": [
      [
        "f288cfc760dda385"
      ]
    ]
  },
  {
    "id": "ada94e4f95af472a",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "payload",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "msg.routine.response=1?msg.scene.on:msg.scene.off",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2100,
    "y": 1080,
    "wires": [
      [
        "d508dae06ba6ea5f"
      ]
    ]
  },
  {
    "id": "037be326655205c3",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "",
    "links": [
      "c1a22098f4c6b607"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1390,
    "y": 1080,
    "wires": [
      [
        "e8d93eeb1ee07fad"
      ]
    ]
  },
  {
    "id": "f288cfc760dda385",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "079cdcca76a08206",
    "name": "rsp",
    "property": "routine.response",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "-1",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 2,
    "x": 1930,
    "y": 1080,
    "wires": [
      [
        "ada94e4f95af472a"
      ],
      [
        "ada94e4f95af472a"
      ]
    ]
  },
  {
    "id": "e9a0591d654a5d18",
    "type": "link out",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "parking - alexa - light spots",
    "mode": "link",
    "links": [
      "df6a69e3a774eebc"
    ],
    "x": 1375,
    "y": 1420,
    "wires": []
  },
  {
    "id": "17193d3c2edc0a1b",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "parking - alexa - light spots",
    "links": [
      "abd3bb3b24dd961a"
    ],
    "x": 135,
    "y": 1420,
    "wires": [
      [
        "faad30261c5c42b4"
      ]
    ]
  },
  {
    "id": "faad30261c5c42b4",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1420,
    "wires": [
      [
        "054b8502d9873700"
      ]
    ]
  },
  {
    "id": "054b8502d9873700",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "spots",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 430,
    "y": 1420,
    "wires": [
      [
        "f9fa54799ed349a3"
      ]
    ]
  },
  {
    "id": "fd3bddca4344299b",
    "type": "vsh-virtual-device",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "spots de l'entrée",
    "topic": "parking/cible/spots",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "SWITCH",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 920,
    "y": 1420,
    "wires": [
      [
        "83890229fb39a593"
      ]
    ]
  },
  {
    "id": "f9fa54799ed349a3",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "",
    "links": [
      "bac2afafe6b36787"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 660,
    "y": 1420,
    "wires": [
      [
        "fd3bddca4344299b"
      ]
    ]
  },
  {
    "id": "83890229fb39a593",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "7cc72012db37a36f",
    "name": "",
    "links": [
      "d71667633c63d82c"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1180,
    "y": 1420,
    "wires": [
      [
        "e9a0591d654a5d18"
      ]
    ]
  },
  {
    "id": "98f376df7b0bbc5d",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "dde0ba374db2eedf",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1660,
    "wires": [
      [
        "49da4a79a0759025"
      ]
    ]
  },
  {
    "id": "957e4911e1e7bcfd",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "dde0ba374db2eedf",
    "name": "parking - alexa - motion",
    "links": [
      "8f6b9cabcee961b9"
    ],
    "x": 135,
    "y": 1660,
    "wires": [
      [
        "98f376df7b0bbc5d"
      ]
    ]
  },
  {
    "id": "49da4a79a0759025",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "dde0ba374db2eedf",
    "name": "scene",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 430,
    "y": 1660,
    "wires": [
      [
        "59b3237828d69574"
      ]
    ]
  },
  {
    "id": "59b3237828d69574",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "dde0ba374db2eedf",
    "name": "",
    "links": [
      "4f63773f3c770aa4"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 650,
    "y": 1660,
    "wires": [
      [
        "924613ad9e615565"
      ]
    ]
  },
  {
    "id": "924613ad9e615565",
    "type": "vsh-virtual-device",
    "z": "66555f1b8174a7f6",
    "g": "dde0ba374db2eedf",
    "name": "mouvement de l'entrée",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "MOTION_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 920,
    "y": 1660,
    "wires": [
      []
    ]
  },
  {
    "id": "25bf9e91d9fd1134",
    "type": "link in",
    "z": "66555f1b8174a7f6",
    "g": "553666c9dafd29aa",
    "name": "parking - alexa - temperature",
    "links": [
      "a66c6d1f8e271921"
    ],
    "x": 135,
    "y": 1540,
    "wires": [
      [
        "aa98bb2a582511ba"
      ]
    ]
  },
  {
    "id": "aa98bb2a582511ba",
    "type": "switch",
    "z": "66555f1b8174a7f6",
    "g": "553666c9dafd29aa",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1540,
    "wires": [
      [
        "6751e3fd6a6c45d9"
      ]
    ]
  },
  {
    "id": "dbfc0b4bcc1a5399",
    "type": "link call",
    "z": "66555f1b8174a7f6",
    "g": "553666c9dafd29aa",
    "name": "",
    "links": [
      "50c950cddc1506ed"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 650,
    "y": 1540,
    "wires": [
      [
        "dd4f8e5109c3f132"
      ]
    ]
  },
  {
    "id": "6751e3fd6a6c45d9",
    "type": "change",
    "z": "66555f1b8174a7f6",
    "g": "553666c9dafd29aa",
    "name": "scene",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 430,
    "y": 1540,
    "wires": [
      [
        "dbfc0b4bcc1a5399"
      ]
    ]
  },
  {
    "id": "dd4f8e5109c3f132",
    "type": "vsh-virtual-device",
    "z": "66555f1b8174a7f6",
    "g": "553666c9dafd29aa",
    "name": "température du parking",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "TEMPERATURE_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 930,
    "y": 1540,
    "wires": [
      []
    ]
  },
  {
    "id": "464abf9bb2b39a29",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 360,
    "wires": [
      [
        "d25f4a083406230e"
      ]
    ]
  },
  {
    "id": "a358b80cf5b7fd3e",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 660,
    "wires": [
      [
        "0b5db55da89761d4"
      ]
    ]
  },
  {
    "id": "b5e85fbe4ccc18da",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 600,
    "wires": [
      [
        "9944fe7b1107bdf5"
      ]
    ]
  },
  {
    "id": "f4bfaf4b248564cd",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 540,
    "wires": [
      [
        "b6e1fef312e1fef1"
      ]
    ]
  },
  {
    "id": "191e98f25a40d6ae",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 480,
    "wires": [
      [
        "94b5da1c39bf5b25"
      ]
    ]
  },
  {
    "id": "2102ee1a36edc0de",
    "type": "credentials",
    "z": "66555f1b8174a7f6",
    "g": "a4212c37abb32920",
    "name": "id",
    "props": [
      {
        "value": "id",
        "type": "msg"
      }
    ],
    "x": 270,
    "y": 420,
    "wires": [
      [
        "49b83bddef12740c"
      ]
    ]
  }
]