[
  {
    "id": "7dd036f831a5ca6e",
    "type": "tab",
    "label": "R.Toilettes",
    "disabled": false,
    "info": "",
    "env": []
  },
  {
    "id": "e43c869d4c1f98ef",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "name": "toilettes - bucket",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ffC000"
    },
    "nodes": [
      "18e1932e46a71274",
      "45ebf96bc050779f",
      "fc02e2aced7cc118"
    ],
    "x": 94,
    "y": 19,
    "w": 342,
    "h": 82
  },
  {
    "id": "3585fd11d948a35a",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "name": "toilettes - ui select room",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#6f2fa0"
    },
    "nodes": [
      "44bf80d373658b2d",
      "dc88725defb60f1a",
      "aecf378340209352",
      "860baaacdaa8d80a"
    ],
    "x": 1054,
    "y": 19,
    "w": 582,
    "h": 82
  },
  {
    "id": "3103911afbd7999a",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "name": "",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "dc8c7c2aeeae4259",
      "1271496473181909"
    ],
    "x": 68,
    "y": 233,
    "w": 1634,
    "h": 434
  },
  {
    "id": "9b0476b848cb48b7",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "name": "toilettes - alexa",
    "style": {
      "fill": "#777777",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "61e21fea0f35b657",
      "37136f65e1f50cc9",
      "02860064ff27f25f",
      "f987f63e4046653b",
      "60d916216398ec01"
    ],
    "x": 68,
    "y": 713,
    "w": 1434,
    "h": 614
  },
  {
    "id": "5766f83f3d113663",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "name": "catch error",
    "style": {
      "fill": "#ff0000",
      "fill-opacity": "0.05",
      "label": true,
      "stroke": "#ff0000"
    },
    "nodes": [
      "b9f3c3bb40a8aac4",
      "06ff43449dd81c02",
      "d69c9016584d1fd3"
    ],
    "x": 534,
    "y": 19,
    "w": 422,
    "h": 82
  },
  {
    "id": "dc8c7c2aeeae4259",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "3103911afbd7999a",
    "name": "toilettes - device - lighting",
    "style": {
      "fill": "#ffC000",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "67cd83496d94405e",
      "d0cdac452033d9a2",
      "2e6ed52694d41627",
      "1513c26ff341a038",
      "d80a2413afd47cb4",
      "5a11d81b87c8c228",
      "3e29987b76decd02",
      "84f721530d4dc2c1"
    ],
    "x": 94,
    "y": 259,
    "w": 502,
    "h": 382
  },
  {
    "id": "1271496473181909",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "3103911afbd7999a",
    "name": "toilettes - scene - lighting ceiling",
    "style": {
      "fill": "#92d04f",
      "fill-opacity": "0.1",
      "label": true
    },
    "nodes": [
      "38b14b135a076818",
      "1411c6ca5cae8fcc",
      "7d7b81b4f6fdbfe0",
      "61afa8c6a05d66c5",
      "89b53294d8fbd82e",
      "a1daebcc0d70b88c"
    ],
    "x": 694,
    "y": 259,
    "w": 982,
    "h": 157
  },
  {
    "id": "61e21fea0f35b657",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "9b0476b848cb48b7",
    "name": "toilettes - alexa - light",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "48fb85cf9fc816df",
      "a54a3aabac3983d2",
      "58f3ce75b71246f5",
      "80b27695fbae59d5",
      "957b48265862f076",
      "a191a48eeb80647b",
      "4c73eaf96768680c"
    ],
    "x": 94,
    "y": 739,
    "w": 1382,
    "h": 82
  },
  {
    "id": "37136f65e1f50cc9",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "9b0476b848cb48b7",
    "name": "toilettes - alexa - motion",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "bf5283284d6841db",
      "3f67eea63eaebbbb",
      "21f1942b8adfc779",
      "66df46ed2b905f63",
      "bffbafc983d76a7a"
    ],
    "x": 94,
    "y": 859,
    "w": 972,
    "h": 82
  },
  {
    "id": "02860064ff27f25f",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "9b0476b848cb48b7",
    "name": "toilettes - alexa - aperture door",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "946ab6f15c353f7c",
      "0a2c323ab16c9ba6",
      "7ef4f958fd99d744",
      "bd6f934f3ae87f2d",
      "522c4cc59f174867"
    ],
    "x": 94,
    "y": 1099,
    "w": 912,
    "h": 82
  },
  {
    "id": "f987f63e4046653b",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "9b0476b848cb48b7",
    "name": "toilettes - alexa - aperture window",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "ab4ea3a7f94bbae5",
      "e2aaad9021c8ec04",
      "9eece0ba7e2b5866",
      "3da179ca7c5c4b92",
      "9bdd2b22b7cc671b"
    ],
    "x": 94,
    "y": 1219,
    "w": 912,
    "h": 82
  },
  {
    "id": "60d916216398ec01",
    "type": "group",
    "z": "7dd036f831a5ca6e",
    "g": "9b0476b848cb48b7",
    "name": "toilettes - alexa - temperature",
    "style": {
      "fill": "#6f2fa0",
      "fill-opacity": "0.05",
      "label": true
    },
    "nodes": [
      "fda87b491f013484",
      "f4e15d0614494621",
      "cfdebd278d97e165",
      "5b177ccee8820469",
      "96985f64f73726bc"
    ],
    "x": 94,
    "y": 979,
    "w": 972,
    "h": 82
  },
  {
    "id": "18e1932e46a71274",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "e43c869d4c1f98ef",
    "name": "bucket",
    "rules": [
      {
        "t": "set",
        "p": "bucket",
        "pt": "msg",
        "to": "toilettes",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "bucket",
        "pt": "flow",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 270,
    "y": 60,
    "wires": [
      [
        "fc02e2aced7cc118"
      ]
    ]
  },
  {
    "id": "45ebf96bc050779f",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "e43c869d4c1f98ef",
    "name": "toilettes - bucket",
    "links": [
      "25445f5a9b787a0a"
    ],
    "x": 135,
    "y": 60,
    "wires": [
      [
        "18e1932e46a71274"
      ]
    ]
  },
  {
    "id": "fc02e2aced7cc118",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "e43c869d4c1f98ef",
    "name": "toilettes - bucket",
    "mode": "link",
    "links": [
      "2e6ed52694d41627",
      "2e7bb0e6e6079d56",
      "825d57214a3d1f72",
      "668589ced855b77f"
    ],
    "x": 395,
    "y": 60,
    "wires": []
  },
  {
    "id": "44bf80d373658b2d",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "3585fd11d948a35a",
    "name": "toilettes - ui select room",
    "mode": "link",
    "links": [
      "1be6ca3c2b8615a2"
    ],
    "x": 1595,
    "y": 60,
    "wires": []
  },
  {
    "id": "dc88725defb60f1a",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "3585fd11d948a35a",
    "name": "toilettes - ui select room",
    "links": [
      "74172837e07ab80d"
    ],
    "x": 1095,
    "y": 60,
    "wires": [
      [
        "aecf378340209352"
      ]
    ]
  },
  {
    "id": "aecf378340209352",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "3585fd11d948a35a",
    "name": "enabled button",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      },
      {
        "t": "set",
        "p": "enabled",
        "pt": "msg",
        "to": "msg.payload != msg.room",
        "tot": "jsonata"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1260,
    "y": 60,
    "wires": [
      [
        "860baaacdaa8d80a"
      ]
    ]
  },
  {
    "id": "860baaacdaa8d80a",
    "type": "ui-button",
    "z": "7dd036f831a5ca6e",
    "g": "3585fd11d948a35a",
    "group": "36396f5285df476c",
    "name": "",
    "label": "Toilettes",
    "order": 21,
    "width": "2",
    "height": "1",
    "tooltip": "",
    "color": "",
    "bgcolor": "",
    "className": "",
    "icon": "",
    "iconPosition": "left",
    "payload": "bucket",
    "payloadType": "flow",
    "topic": "topic",
    "topicType": "msg",
    "x": 1460,
    "y": 60,
    "wires": [
      [
        "44bf80d373658b2d"
      ]
    ]
  },
  {
    "id": "67cd83496d94405e",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / actif / boolean / true",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "actif",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 340,
    "y": 300,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "d0cdac452033d9a2",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "toilettes - device - lighting",
    "mode": "link",
    "links": [
      "bfa594bf1f876c92"
    ],
    "x": 555,
    "y": 300,
    "wires": []
  },
  {
    "id": "2e6ed52694d41627",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "toilettes - device - lighting",
    "links": [
      "fc02e2aced7cc118"
    ],
    "x": 135,
    "y": 300,
    "wires": [
      [
        "67cd83496d94405e",
        "1513c26ff341a038",
        "d80a2413afd47cb4",
        "5a11d81b87c8c228",
        "3e29987b76decd02",
        "84f721530d4dc2c1"
      ]
    ]
  },
  {
    "id": "1513c26ff341a038",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / high / dimmer / 40",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "high",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "dimmer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "40",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 340,
    "y": 360,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "d80a2413afd47cb4",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / low / dimmer / 4",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "low",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "dimmer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 330,
    "y": 420,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "5a11d81b87c8c228",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / timer / number / 5",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "timer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "number",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 340,
    "y": 480,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "3e29987b76decd02",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / darkness / number / 100",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "darkness",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "number",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "100",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 360,
    "y": 540,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "84f721530d4dc2c1",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "dc8c7c2aeeae4259",
    "name": "lighting / motion / boolean / true",
    "rules": [
      {
        "t": "set",
        "p": "measurement",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "field",
        "pt": "msg",
        "to": "motion",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "format",
        "pt": "msg",
        "to": "boolean",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "default",
        "pt": "msg",
        "to": "true",
        "tot": "bool"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 350,
    "y": 600,
    "wires": [
      [
        "d0cdac452033d9a2"
      ]
    ]
  },
  {
    "id": "38b14b135a076818",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "toilettes - scene - lighting ceiling",
    "links": [
      "031a6afd8300356a"
    ],
    "x": 735,
    "y": 360,
    "wires": [
      [
        "a1daebcc0d70b88c"
      ]
    ]
  },
  {
    "id": "1411c6ca5cae8fcc",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "scene lighting / ceiling / dimmer",
    "rules": [
      {
        "t": "set",
        "p": "scene.measurement",
        "pt": "msg",
        "to": "light",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.field",
        "pt": "msg",
        "to": "ceiling",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.format",
        "pt": "msg",
        "to": "dimmer",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.type",
        "pt": "msg",
        "to": "lighting",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "scene.on",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "scene.off",
        "pt": "msg",
        "to": "0",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1430,
    "y": 360,
    "wires": [
      [
        "61afa8c6a05d66c5"
      ]
    ]
  },
  {
    "id": "7d7b81b4f6fdbfe0",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "trigger",
    "property": "path",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "msg.scene.bucket&'/aperture/door'",
        "vt": "jsonata"
      },
      {
        "t": "regex",
        "v": "msg.scene.bucket&'/motion'",
        "vt": "jsonata",
        "case": false
      },
      {
        "t": "eq",
        "v": "msg.scene.bucket&'/light/ceiling'",
        "vt": "jsonata"
      },
      {
        "t": "eq",
        "v": "system/mode/lighting",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 4,
    "x": 1030,
    "y": 360,
    "wires": [
      [
        "89b53294d8fbd82e"
      ],
      [
        "1411c6ca5cae8fcc"
      ],
      [
        "1411c6ca5cae8fcc"
      ],
      [
        "1411c6ca5cae8fcc"
      ]
    ]
  },
  {
    "id": "61afa8c6a05d66c5",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "toilettes - scene - lighting ceiling",
    "mode": "link",
    "links": [
      "abdf34b12a5dd88d"
    ],
    "x": 1635,
    "y": 360,
    "wires": []
  },
  {
    "id": "89b53294d8fbd82e",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "true",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "true"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 1190,
    "y": 300,
    "wires": [
      [
        "1411c6ca5cae8fcc"
      ]
    ]
  },
  {
    "id": "48fb85cf9fc816df",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "toilettes - alexa - light",
    "mode": "link",
    "links": [
      "df6a69e3a774eebc"
    ],
    "x": 1435,
    "y": 780,
    "wires": []
  },
  {
    "id": "a54a3aabac3983d2",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "toilettes - alexa - light",
    "links": [
      "abd3bb3b24dd961a"
    ],
    "x": 135,
    "y": 780,
    "wires": [
      [
        "80b27695fbae59d5"
      ]
    ]
  },
  {
    "id": "58f3ce75b71246f5",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "ceiling",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 430,
    "y": 780,
    "wires": [
      [
        "a191a48eeb80647b"
      ]
    ]
  },
  {
    "id": "80b27695fbae59d5",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 780,
    "wires": [
      [
        "58f3ce75b71246f5"
      ]
    ]
  },
  {
    "id": "957b48265862f076",
    "type": "vsh-virtual-device",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "lumière des toilettes",
    "topic": "toilettes/cible/ceiling",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "SWITCH",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 940,
    "y": 780,
    "wires": [
      [
        "4c73eaf96768680c"
      ]
    ]
  },
  {
    "id": "a191a48eeb80647b",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "",
    "links": [
      "75754d6ac1aaec7b"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 660,
    "y": 780,
    "wires": [
      [
        "957b48265862f076"
      ]
    ]
  },
  {
    "id": "4c73eaf96768680c",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "61e21fea0f35b657",
    "name": "",
    "links": [
      "71c9fb8b232fe499"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 1230,
    "y": 780,
    "wires": [
      [
        "48fb85cf9fc816df"
      ]
    ]
  },
  {
    "id": "bf5283284d6841db",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "37136f65e1f50cc9",
    "name": "toilettes - alexa - motion",
    "links": [
      "8f6b9cabcee961b9"
    ],
    "x": 135,
    "y": 900,
    "wires": [
      [
        "66df46ed2b905f63"
      ]
    ]
  },
  {
    "id": "3f67eea63eaebbbb",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "37136f65e1f50cc9",
    "name": "",
    "links": [
      "4f63773f3c770aa4"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 650,
    "y": 900,
    "wires": [
      [
        "bffbafc983d76a7a"
      ]
    ]
  },
  {
    "id": "21f1942b8adfc779",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "37136f65e1f50cc9",
    "name": "scene",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 430,
    "y": 900,
    "wires": [
      [
        "3f67eea63eaebbbb"
      ]
    ]
  },
  {
    "id": "66df46ed2b905f63",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "37136f65e1f50cc9",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 900,
    "wires": [
      [
        "21f1942b8adfc779"
      ]
    ]
  },
  {
    "id": "bffbafc983d76a7a",
    "type": "vsh-virtual-device",
    "z": "7dd036f831a5ca6e",
    "g": "37136f65e1f50cc9",
    "name": "mouvement des toilettes",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "MOTION_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 930,
    "y": 900,
    "wires": [
      []
    ]
  },
  {
    "id": "946ab6f15c353f7c",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "02860064ff27f25f",
    "name": "toilettes - alexa - aperture door",
    "links": [
      "c961c347fd2d14b5"
    ],
    "x": 135,
    "y": 1140,
    "wires": [
      [
        "0a2c323ab16c9ba6"
      ]
    ]
  },
  {
    "id": "0a2c323ab16c9ba6",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "02860064ff27f25f",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1140,
    "wires": [
      [
        "7ef4f958fd99d744"
      ]
    ]
  },
  {
    "id": "7ef4f958fd99d744",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "02860064ff27f25f",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "door",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 430,
    "y": 1140,
    "wires": [
      [
        "522c4cc59f174867"
      ]
    ]
  },
  {
    "id": "bd6f934f3ae87f2d",
    "type": "vsh-virtual-device",
    "z": "7dd036f831a5ca6e",
    "g": "02860064ff27f25f",
    "name": "porte des toilettes",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "CONTACT_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 890,
    "y": 1140,
    "wires": [
      []
    ]
  },
  {
    "id": "522c4cc59f174867",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "02860064ff27f25f",
    "name": "",
    "links": [
      "73c07a0bc5e5429b"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 640,
    "y": 1140,
    "wires": [
      [
        "bd6f934f3ae87f2d"
      ]
    ]
  },
  {
    "id": "ab4ea3a7f94bbae5",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "f987f63e4046653b",
    "name": "toilettes - alexa - aperture window",
    "links": [
      "c961c347fd2d14b5"
    ],
    "x": 135,
    "y": 1260,
    "wires": [
      [
        "e2aaad9021c8ec04"
      ]
    ]
  },
  {
    "id": "e2aaad9021c8ec04",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "f987f63e4046653b",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1260,
    "wires": [
      [
        "9eece0ba7e2b5866"
      ]
    ]
  },
  {
    "id": "9eece0ba7e2b5866",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "f987f63e4046653b",
    "name": "field",
    "property": "field",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "window",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 430,
    "y": 1260,
    "wires": [
      [
        "9bdd2b22b7cc671b"
      ]
    ]
  },
  {
    "id": "3da179ca7c5c4b92",
    "type": "vsh-virtual-device",
    "z": "7dd036f831a5ca6e",
    "g": "f987f63e4046653b",
    "name": "fenêtre des toilettes",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "CONTACT_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 890,
    "y": 1260,
    "wires": [
      []
    ]
  },
  {
    "id": "9bdd2b22b7cc671b",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "f987f63e4046653b",
    "name": "",
    "links": [
      "73c07a0bc5e5429b"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 640,
    "y": 1260,
    "wires": [
      [
        "3da179ca7c5c4b92"
      ]
    ]
  },
  {
    "id": "fda87b491f013484",
    "type": "link in",
    "z": "7dd036f831a5ca6e",
    "g": "60d916216398ec01",
    "name": "toilettes - alexa - temperature",
    "links": [
      "a66c6d1f8e271921"
    ],
    "x": 135,
    "y": 1020,
    "wires": [
      [
        "f4e15d0614494621"
      ]
    ]
  },
  {
    "id": "f4e15d0614494621",
    "type": "switch",
    "z": "7dd036f831a5ca6e",
    "g": "60d916216398ec01",
    "name": "bucket",
    "property": "bucket",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "bucket",
        "vt": "flow"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 1,
    "x": 270,
    "y": 1020,
    "wires": [
      [
        "5b177ccee8820469"
      ]
    ]
  },
  {
    "id": "cfdebd278d97e165",
    "type": "link call",
    "z": "7dd036f831a5ca6e",
    "g": "60d916216398ec01",
    "name": "",
    "links": [
      "50c950cddc1506ed"
    ],
    "linkType": "static",
    "timeout": "30",
    "x": 650,
    "y": 1020,
    "wires": [
      [
        "96985f64f73726bc"
      ]
    ]
  },
  {
    "id": "5b177ccee8820469",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "60d916216398ec01",
    "name": "scene",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 430,
    "y": 1020,
    "wires": [
      [
        "cfdebd278d97e165"
      ]
    ]
  },
  {
    "id": "96985f64f73726bc",
    "type": "vsh-virtual-device",
    "z": "7dd036f831a5ca6e",
    "g": "60d916216398ec01",
    "name": "température des toilettes",
    "topic": "",
    "metadata": "{}",
    "connection": "b156e6eff1bfadd1",
    "template": "TEMPERATURE_SENSOR",
    "retrievable": true,
    "passthrough": false,
    "diff": false,
    "filter": false,
    "filterTopic": false,
    "plan": "free",
    "x": 930,
    "y": 1020,
    "wires": [
      []
    ]
  },
  {
    "id": "b9f3c3bb40a8aac4",
    "type": "catch",
    "z": "7dd036f831a5ca6e",
    "g": "5766f83f3d113663",
    "name": "catch error",
    "scope": null,
    "uncaught": false,
    "x": 620,
    "y": 60,
    "wires": [
      [
        "06ff43449dd81c02"
      ]
    ]
  },
  {
    "id": "06ff43449dd81c02",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "5766f83f3d113663",
    "name": "topic",
    "rules": [
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "toilettes",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 60,
    "wires": [
      [
        "d69c9016584d1fd3"
      ]
    ]
  },
  {
    "id": "d69c9016584d1fd3",
    "type": "link out",
    "z": "7dd036f831a5ca6e",
    "g": "5766f83f3d113663",
    "name": "catch error",
    "mode": "link",
    "links": [
      "a52f0e788cd4dca3"
    ],
    "x": 915,
    "y": 60,
    "wires": []
  },
  {
    "id": "a1daebcc0d70b88c",
    "type": "change",
    "z": "7dd036f831a5ca6e",
    "g": "1271496473181909",
    "name": "bucket",
    "rules": [
      {
        "t": "set",
        "p": "scene.bucket",
        "pt": "msg",
        "to": "bucket",
        "tot": "flow"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 870,
    "y": 360,
    "wires": [
      [
        "7d7b81b4f6fdbfe0"
      ]
    ]
  }
]